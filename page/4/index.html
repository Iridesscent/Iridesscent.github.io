<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta property="og:type" content="website">
<meta property="og:title" content="Donglin&#39;s Blog">
<meta property="og:url" content="http://iridescent.com.cn/page/4/index.html">
<meta property="og:site_name" content="Donglin&#39;s Blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Donglin&#39;s Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://iridescent.com.cn/page/4/"/>





  <title>Donglin's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Donglin's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://iridescent.com.cn/2016/08/14/e6-a0-91-e5-88-86-e6-b2-bb-e5-ad-a6-e4-b9-a0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Donglin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Donglin's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/14/e6-a0-91-e5-88-86-e6-b2-bb-e5-ad-a6-e4-b9-a0/" itemprop="url">树分治学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-14T21:45:51+08:00">
                2016-08-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>2009年漆子超论文：<a href="https://iridescent.com.cn/Reference/Tree partition.pdf">IOI2009中国国家集训队论文 长沙市雅礼中学 漆子超</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://iridescent.com.cn/2016/08/14/[转]Linux中的VFS文件系统机制/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Donglin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Donglin's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/14/[转]Linux中的VFS文件系统机制/" itemprop="url">[转]解析 Linux 中的 VFS 文件系统机制</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-14T18:57:48+08:00">
                2016-08-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://www.ibm.com/developerworks/cn/linux/l-vfs/" target="_blank" rel="noopener">解析 Linux 中的 VFS 文件系统机制</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://iridescent.com.cn/2016/08/09/SAM/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Donglin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Donglin's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/09/SAM/" itemprop="url">[转]后缀自动机（SAM）学习指南</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-09T11:59:15+08:00">
                2016-08-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>转自：<a href="http://huntzhan.org/suffix-automaton-tutorial/" target="_blank" rel="noopener">Suffix Automaton Tutorial</a></p>
<h2 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h2><p>目前中英文站点上并没有很好的 Suffix Automaton (SAM) 材料, 比较知名的材料有两个, 一是陈立杰的<em>营员交流资料</em> , 二是某俄国人的某 SAM 博文, 但这两个材料都不好懂. 在下反复啃了几天后, 略有所得, 在此记录一下.</p>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>较为靠谱的 SAM 资料:</p>
<ul>
<li><a href="http://codeforces.com/blog/entry/20861" target="_blank" rel="noopener">A short guide to suffix automata - Codeforces</a></li>
<li><a href="http://e-maxx.ru/algo/suffix_automata" target="_blank" rel="noopener">MAXimal :: algo :: Суффиксный автомат. Построение и применения</a>, 用 <a href="https://translate.yandex.com/translate" target="_blank" rel="noopener">Yandex 提供的机翻服务</a> 勉强可以看懂.</li>
<li><p><a href="http://blog.csdn.net/wmdcstdio/article/details/44780707" target="_blank" rel="noopener">后缀自动机：O(N)的构建及应用 - wmdcstdio的专栏 - 博客频道 - CSDN.NET</a>, 上文的中文翻译, 翻译质量良好.<br>TL;DR:</p>
</li>
<li><p>SAM 与 suffix tree 是等价的.</p>
</li>
<li>建立 SAM 的 time/space complexity: <span id="MathJax-Element-1-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1" class="math"><span id="MathJax-Span-2" class="mrow"><span id="MathJax-Span-3" class="mi">O</span><span id="MathJax-Span-4" class="mo">(</span><span id="MathJax-Span-5" class="mi">n</span><span id="MathJax-Span-6" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></math></span></span>.</li>
<li><p>实现的代码很简单 (小于 40 行), 但理解起来有难度.<br>SAM 是处理 String 相关问题的有力工具, 包括但不限于以下问题:</p>
</li>
<li><p>Verify <span id="MathJax-Element-2-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-7" class="math"><span id="MathJax-Span-8" class="mrow"><span id="MathJax-Span-9" class="mi">W</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span> is substring of <span id="MathJax-Element-3-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-10" class="math"><span id="MathJax-Span-11" class="mrow"><span id="MathJax-Span-12" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span>.</p>
</li>
<li>Verify <span id="MathJax-Element-4-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-13" class="math"><span id="MathJax-Span-14" class="mrow"><span id="MathJax-Span-15" class="mi">W</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span> is suffix of <span id="MathJax-Element-5-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-16" class="math"><span id="MathJax-Span-17" class="mrow"><span id="MathJax-Span-18" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span>.</li>
<li>Count the number of unique substrings in <span id="MathJax-Element-6-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-19" class="math"><span id="MathJax-Span-20" class="mrow"><span id="MathJax-Span-21" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span>.</li>
<li>Count the total length of unique substrings in <span id="MathJax-Element-7-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-22" class="math"><span id="MathJax-Span-23" class="mrow"><span id="MathJax-Span-24" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span>.</li>
<li>Count the number of <span id="MathJax-Element-8-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-25" class="math"><span id="MathJax-Span-26" class="mrow"><span id="MathJax-Span-27" class="mi">W</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span> in <span id="MathJax-Element-9-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-28" class="math"><span id="MathJax-Span-29" class="mrow"><span id="MathJax-Span-30" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span>.</li>
<li>Find the first position of <span id="MathJax-Element-10-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-31" class="math"><span id="MathJax-Span-32" class="mrow"><span id="MathJax-Span-33" class="mi">W</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span> in <span id="MathJax-Element-11-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-34" class="math"><span id="MathJax-Span-35" class="mrow"><span id="MathJax-Span-36" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span>.</li>
<li>Find all positions of <span id="MathJax-Element-12-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-37" class="math"><span id="MathJax-Span-38" class="mrow"><span id="MathJax-Span-39" class="mi">W</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span> in <span id="MathJax-Element-13-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-40" class="math"><span id="MathJax-Span-41" class="mrow"><span id="MathJax-Span-42" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span>.</li>
<li>Find the longest common substring of <span id="MathJax-Element-14-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-43" class="math"><span id="MathJax-Span-44" class="mrow"><span id="MathJax-Span-45" class="msubsup"><span id="MathJax-Span-46" class="mi">T</span><span id="MathJax-Span-47" class="mn">1</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mn>1</mn></msub></math></span></span> and <span id="MathJax-Element-15-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-48" class="math"><span id="MathJax-Span-49" class="mrow"><span id="MathJax-Span-50" class="msubsup"><span id="MathJax-Span-51" class="mi">T</span><span id="MathJax-Span-52" class="mn">2</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mn>2</mn></msub></math></span></span>.</li>
<li>Find the longest common substring from <span id="MathJax-Element-16-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-53" class="math"><span id="MathJax-Span-54" class="mrow"><span id="MathJax-Span-55" class="msubsup"><span id="MathJax-Span-56" class="mi">T</span><span id="MathJax-Span-57" class="mn">1</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mn>1</mn></msub></math></span></span> to <span id="MathJax-Element-17-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-58" class="math"><span id="MathJax-Span-59" class="mrow"><span id="MathJax-Span-60" class="msubsup"><span id="MathJax-Span-61" class="mi">T</span><span id="MathJax-Span-62" class="mi">k</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>k</mi></msub></math></span></span>.</li>
<li>Find the smallest cyclic shift of <span id="MathJax-Element-18-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-63" class="math"><span id="MathJax-Span-64" class="mrow"><span id="MathJax-Span-65" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span>.</li>
<li>Find the <span id="MathJax-Element-19-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-66" class="math"><span id="MathJax-Span-67" class="mrow"><span id="MathJax-Span-68" class="mi">k</span><span id="MathJax-Span-69" class="mi">t</span><span id="MathJax-Span-70" class="mi">h</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi><mi>t</mi><mi>h</mi></math></span></span> smallest substring of <span id="MathJax-Element-20-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-71" class="math"><span id="MathJax-Span-72" class="mrow"><span id="MathJax-Span-73" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span>.</li>
<li>Find the shortest string that is not a substring of <span id="MathJax-Element-21-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-74" class="math"><span id="MathJax-Span-75" class="mrow"><span id="MathJax-Span-76" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span>.</li>
</ul>
<h2 id="Automaton-The-Definition"><a href="#Automaton-The-Definition" class="headerlink" title="Automaton: The Definition"></a>Automaton: The Definition</h2><p>Suffix Automaton 里的 <em>Automaton</em> 其实就是 <a href="https://en.wikipedia.org/wiki/Deterministic_finite_automaton" target="_blank" rel="noopener">DFA</a> , 以下是 Wiki 中的定义:</p>
<blockquote>
<p>A <strong>deterministic finite automaton</strong> <em>M</em> is a 5-<a href="https://en.wikipedia.org/wiki/N-tuple" target="_blank" rel="noopener">tuple</a>, (<em>Q</em>, Σ, δ, <em>q0</em>, <em>F</em>), consisting of</p>
<ul>
<li>a finite set of <a href="https://en.wikipedia.org/wiki/State_%28computer_science%29" target="_blank" rel="noopener">states</a> (<em>Q</em>)</li>
<li>a finite set of input symbols called the <a href="https://en.wikipedia.org/wiki/Alphabet_%28computer_science%29" target="_blank" rel="noopener">alphabet</a> (Σ)</li>
<li>a transition <a href="https://en.wikipedia.org/wiki/Function_%28mathematics%29" target="_blank" rel="noopener">function</a> (δ : <em>Q</em> × Σ → <em>Q</em>)</li>
<li>an initial or <a href="https://en.wikipedia.org/wiki/Finite_state_machine#Start_state" target="_blank" rel="noopener">start state</a> (<em>q0</em> ∈ <em>Q</em>)</li>
<li>a set of <a href="https://en.wikipedia.org/wiki/Finite_state_machine#Accept_.28or_final.29_states" target="_blank" rel="noopener">accept states</a> (<em>F</em> ⊆ <em>Q</em>)<br>Suffix Automaton, 顾名思义就是可以识别 Suffix 的 Automaton, <a href="http://codeforces.com/blog/entry/20861" target="_blank" rel="noopener">A short guide to suffix automata - Codeforces</a> 中有如下的描述:<br>A <strong>suffix automaton</strong> <em>A</em> for a string <em>s</em> is a minimal finite automaton that recognizes the suffixes of <em>s</em>. This means that <em>A</em> is a directed acyclic graph with an initial node <em>i</em>, a set of<em>terminal</em> nodes, and the arrows between nodes are labeled by letters of <em>s</em>. To test whether<em>w</em> is a suffix of <em>s</em> it is enough to start from the initial node of <em>i</em> and follow the arrows corresponding to the letters of <em>w</em>. If we are able to do this for every letter of <em>w</em> and end up in a terminal node, <em>w</em> is a suffix of <em>s</em>.<br>以下图为例, 下图是 <em>“abcb”</em> 的对应 SAM:</li>
</ul>
</blockquote>
<p><img src="http://huntzhan.org/content/images/2016/07/what-is-2.png" alt="what-is.png"></p>
<p>可以看到, 从 start state 出发的 paths, <em>“abcb”</em>, <em>“bcb”</em>, <em>“cb”</em>, <em>“b”</em>, 都能到达 accept state, 这些路径的集合即为 <em>“abcb”</em> suffixes 的集合.</p>
<h2 id="State-Of-SAM"><a href="#State-Of-SAM" class="headerlink" title="State Of SAM"></a>State Of SAM</h2><p>一个关键的问题是, <strong>SAM 里的 State 到底有什么含义?</strong></p>
<p>在介绍 State 的含义之前, 需要先了解一个定义. 给定 String <span id="MathJax-Element-22-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-77" class="math"><span id="MathJax-Span-78" class="mrow"><span id="MathJax-Span-79" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span> 与 <span id="MathJax-Element-23-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-80" class="math"><span id="MathJax-Span-81" class="mrow"><span id="MathJax-Span-82" class="mi">s</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi></math></span></span>, 定义 <span id="MathJax-Element-24-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;&amp;#x2223;&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;:&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-83" class="math"><span id="MathJax-Span-84" class="mrow"><span id="MathJax-Span-85" class="mi">e</span><span id="MathJax-Span-86" class="mi">n</span><span id="MathJax-Span-87" class="mi">d</span><span id="MathJax-Span-88" class="mi">p</span><span id="MathJax-Span-89" class="mi">o</span><span id="MathJax-Span-90" class="mi">s</span><span id="MathJax-Span-91" class="mo">(</span><span id="MathJax-Span-92" class="mi">T</span><span id="MathJax-Span-93" class="mo">,</span><span id="MathJax-Span-94" class="mi">s</span><span id="MathJax-Span-95" class="mo">)</span><span id="MathJax-Span-96" class="mo">=</span><span id="MathJax-Span-97" class="mo">{</span><span id="MathJax-Span-98" class="mi">e</span><span id="MathJax-Span-99" class="mi">n</span><span id="MathJax-Span-100" class="mi">d</span><span id="MathJax-Span-101" class="mo">∣</span><span id="MathJax-Span-102" class="mi">T</span><span id="MathJax-Span-103" class="mo">[</span><span id="MathJax-Span-104" class="mi">b</span><span id="MathJax-Span-105" class="mi">e</span><span id="MathJax-Span-106" class="mi">g</span><span id="MathJax-Span-107" class="mi">i</span><span id="MathJax-Span-108" class="mi">n</span><span id="MathJax-Span-109" class="mo">:</span><span id="MathJax-Span-110" class="mi">e</span><span id="MathJax-Span-111" class="mi">n</span><span id="MathJax-Span-112" class="mi">d</span><span id="MathJax-Span-113" class="mo">]</span><span id="MathJax-Span-114" class="mo">=</span><span id="MathJax-Span-115" class="mi">s</span><span id="MathJax-Span-116" class="mo">}</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>T</mi><mo>,</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mo fence="false" stretchy="false">{</mo><mi>e</mi><mi>n</mi><mi>d</mi><mo>∣</mo><mi>T</mi><mo stretchy="false">[</mo><mi>b</mi><mi>e</mi><mi>g</mi><mi>i</mi><mi>n</mi><mo>:</mo><mi>e</mi><mi>n</mi><mi>d</mi><mo stretchy="false">]</mo><mo>=</mo><mi>s</mi><mo fence="false" stretchy="false">}</mo></math></span></span>. 也就是说, <span id="MathJax-Element-25-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-117" class="math"><span id="MathJax-Span-118" class="mrow"><span id="MathJax-Span-119" class="mi">e</span><span id="MathJax-Span-120" class="mi">n</span><span id="MathJax-Span-121" class="mi">d</span><span id="MathJax-Span-122" class="mi">p</span><span id="MathJax-Span-123" class="mi">o</span><span id="MathJax-Span-124" class="mi">s</span><span id="MathJax-Span-125" class="mo">(</span><span id="MathJax-Span-126" class="mi">T</span><span id="MathJax-Span-127" class="mo">,</span><span id="MathJax-Span-128" class="mi">s</span><span id="MathJax-Span-129" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>T</mi><mo>,</mo><mi>s</mi><mo stretchy="false">)</mo></math></span></span> 表示了所有在 <span id="MathJax-Element-26-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-130" class="math"><span id="MathJax-Span-131" class="mrow"><span id="MathJax-Span-132" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span> 中出现的 <span id="MathJax-Element-27-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-133" class="math"><span id="MathJax-Span-134" class="mrow"><span id="MathJax-Span-135" class="mi">s</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi></math></span></span> 的<strong>结束位置(下标)</strong>. 如果有两个 Strings, <span id="MathJax-Element-28-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-136" class="math"><span id="MathJax-Span-137" class="mrow"><span id="MathJax-Span-138" class="msubsup"><span id="MathJax-Span-139" class="mi">s</span><span id="MathJax-Span-140" class="mn">1</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>1</mn></msub></math></span></span> 与 <span id="MathJax-Element-29-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-141" class="math"><span id="MathJax-Span-142" class="mrow"><span id="MathJax-Span-143" class="msubsup"><span id="MathJax-Span-144" class="mi">s</span><span id="MathJax-Span-145" class="mn">2</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>2</mn></msub></math></span></span>, 如果有 <span id="MathJax-Element-30-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-146" class="math"><span id="MathJax-Span-147" class="mrow"><span id="MathJax-Span-148" class="mi">e</span><span id="MathJax-Span-149" class="mi">n</span><span id="MathJax-Span-150" class="mi">d</span><span id="MathJax-Span-151" class="mi">p</span><span id="MathJax-Span-152" class="mi">o</span><span id="MathJax-Span-153" class="mi">s</span><span id="MathJax-Span-154" class="mo">(</span><span id="MathJax-Span-155" class="mi">T</span><span id="MathJax-Span-156" class="mo">,</span><span id="MathJax-Span-157" class="msubsup"><span id="MathJax-Span-158" class="mi">s</span><span id="MathJax-Span-159" class="mn">1</span></span><span id="MathJax-Span-160" class="mo">)</span><span id="MathJax-Span-161" class="mo">=</span><span id="MathJax-Span-162" class="mi">e</span><span id="MathJax-Span-163" class="mi">n</span><span id="MathJax-Span-164" class="mi">d</span><span id="MathJax-Span-165" class="mi">p</span><span id="MathJax-Span-166" class="mi">o</span><span id="MathJax-Span-167" class="mi">s</span><span id="MathJax-Span-168" class="mo">(</span><span id="MathJax-Span-169" class="mi">T</span><span id="MathJax-Span-170" class="mo">,</span><span id="MathJax-Span-171" class="msubsup"><span id="MathJax-Span-172" class="mi">s</span><span id="MathJax-Span-173" class="mn">2</span></span><span id="MathJax-Span-174" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>T</mi><mo>,</mo><msub><mi>s</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>T</mi><mo>,</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo></math></span></span>, 则 <span id="MathJax-Element-31-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-175" class="math"><span id="MathJax-Span-176" class="mrow"><span id="MathJax-Span-177" class="msubsup"><span id="MathJax-Span-178" class="mi">s</span><span id="MathJax-Span-179" class="mn">1</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>1</mn></msub></math></span></span> 与 <span id="MathJax-Element-32-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-180" class="math"><span id="MathJax-Span-181" class="mrow"><span id="MathJax-Span-182" class="msubsup"><span id="MathJax-Span-183" class="mi">s</span><span id="MathJax-Span-184" class="mn">2</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>2</mn></msub></math></span></span> 是 <strong>endpos-equivalent</strong> 的.</p>
<p>在上一小节的例子中, 可以看到每个 state 可以有 <span id="MathJax-Element-33-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;#x2265;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;"><span id="MathJax-Span-185" class="math"><span id="MathJax-Span-186" class="mrow"><span id="MathJax-Span-187" class="mo">≥</span><span id="MathJax-Span-188" class="mn">1</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≥</mo><mn>1</mn></math></span></span> 的 indegrees, 这意味着 state <span id="MathJax-Element-34-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-189" class="math"><span id="MathJax-Span-190" class="mrow"><span id="MathJax-Span-191" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 可以识别 <span id="MathJax-Element-35-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-192" class="math"><span id="MathJax-Span-193" class="mrow"><span id="MathJax-Span-194" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span> 的某个 substrings 集合, 设这个集合为 <span id="MathJax-Element-36-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-195" class="math"><span id="MathJax-Span-196" class="mrow"><span id="MathJax-Span-197" class="mi">s</span><span id="MathJax-Span-198" class="mi">u</span><span id="MathJax-Span-199" class="mi">b</span><span id="MathJax-Span-200" class="mi">s</span><span id="MathJax-Span-201" class="mi">t</span><span id="MathJax-Span-202" class="mi">r</span><span id="MathJax-Span-203" class="mi">i</span><span id="MathJax-Span-204" class="mi">n</span><span id="MathJax-Span-205" class="mi">g</span><span id="MathJax-Span-206" class="mi">s</span><span id="MathJax-Span-207" class="mo">(</span><span id="MathJax-Span-208" class="mi">u</span><span id="MathJax-Span-209" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>. <span id="MathJax-Element-37-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-210" class="math"><span id="MathJax-Span-211" class="mrow"><span id="MathJax-Span-212" class="mi">s</span><span id="MathJax-Span-213" class="mi">u</span><span id="MathJax-Span-214" class="mi">b</span><span id="MathJax-Span-215" class="mi">s</span><span id="MathJax-Span-216" class="mi">t</span><span id="MathJax-Span-217" class="mi">r</span><span id="MathJax-Span-218" class="mi">i</span><span id="MathJax-Span-219" class="mi">n</span><span id="MathJax-Span-220" class="mi">g</span><span id="MathJax-Span-221" class="mi">s</span><span id="MathJax-Span-222" class="mo">(</span><span id="MathJax-Span-223" class="mi">u</span><span id="MathJax-Span-224" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 有如下的 property:</p>
<p>对于 SAM 中的任意 state <span id="MathJax-Element-38-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-225" class="math"><span id="MathJax-Span-226" class="mrow"><span id="MathJax-Span-227" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span>, <span id="MathJax-Element-39-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-228" class="math"><span id="MathJax-Span-229" class="mrow"><span id="MathJax-Span-230" class="mi">s</span><span id="MathJax-Span-231" class="mi">u</span><span id="MathJax-Span-232" class="mi">b</span><span id="MathJax-Span-233" class="mi">s</span><span id="MathJax-Span-234" class="mi">t</span><span id="MathJax-Span-235" class="mi">r</span><span id="MathJax-Span-236" class="mi">i</span><span id="MathJax-Span-237" class="mi">n</span><span id="MathJax-Span-238" class="mi">g</span><span id="MathJax-Span-239" class="mi">s</span><span id="MathJax-Span-240" class="mo">(</span><span id="MathJax-Span-241" class="mi">u</span><span id="MathJax-Span-242" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 中的任意两个 substrings 必然是 <strong>endpos-equivalent</strong> 的. 以 <span id="MathJax-Element-40-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo&gt;=&amp;quot;&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-243" class="math"><span id="MathJax-Span-244" class="mrow"><span id="MathJax-Span-245" class="mi">T</span><span id="MathJax-Span-246" class="mo">=”</span><span id="MathJax-Span-247" class="mi">a</span><span id="MathJax-Span-248" class="mi">b</span><span id="MathJax-Span-249" class="mi">c</span><span id="MathJax-Span-250" class="mi">b</span><span id="MathJax-Span-251" class="mo">“</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo>=”</mo><mi>a</mi><mi>b</mi><mi>c</mi><mi>b</mi><mo>“</mo></math></span></span> 为例(见上小节的图例), 显然的, <span id="MathJax-Element-41-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-252" class="math"><span id="MathJax-Span-253" class="mrow"><span id="MathJax-Span-254" class="mo">“</span><span id="MathJax-Span-255" class="mi">a</span><span id="MathJax-Span-256" class="mi">b</span><span id="MathJax-Span-257" class="mi">c</span><span id="MathJax-Span-258" class="mo">“</span><span id="MathJax-Span-259" class="mo">,</span><span id="MathJax-Span-260" class="mo">“</span><span id="MathJax-Span-261" class="mi">b</span><span id="MathJax-Span-262" class="mi">c</span><span id="MathJax-Span-263" class="mo">“</span><span id="MathJax-Span-264" class="mo">,</span><span id="MathJax-Span-265" class="mo">“</span><span id="MathJax-Span-266" class="mi">c</span><span id="MathJax-Span-267" class="mo">“</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>“</mo><mi>a</mi><mi>b</mi><mi>c</mi><mo>“</mo><mo>,</mo><mo>“</mo><mi>b</mi><mi>c</mi><mo>“</mo><mo>,</mo><mo>“</mo><mi>c</mi><mo>“</mo></math></span></span> 是 endpos-equivalent 的, 他们的 <span id="MathJax-Element-42-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-268" class="math"><span id="MathJax-Span-269" class="mrow"><span id="MathJax-Span-270" class="mi">e</span><span id="MathJax-Span-271" class="mi">n</span><span id="MathJax-Span-272" class="mi">d</span><span id="MathJax-Span-273" class="mi">p</span><span id="MathJax-Span-274" class="mi">o</span><span id="MathJax-Span-275" class="mi">s</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi></math></span></span> 集合都是 <span id="MathJax-Element-43-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-276" class="math"><span id="MathJax-Span-277" class="mrow"><span id="MathJax-Span-278" class="mo">{</span><span id="MathJax-Span-279" class="mn">2</span><span id="MathJax-Span-280" class="mo">}</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">{</mo><mn>2</mn><mo fence="false" stretchy="false">}</mo></math></span></span>.</p>
<p>所以, 可以根据 <span id="MathJax-Element-44-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-281" class="math"><span id="MathJax-Span-282" class="mrow"><span id="MathJax-Span-283" class="mi">e</span><span id="MathJax-Span-284" class="mi">n</span><span id="MathJax-Span-285" class="mi">d</span><span id="MathJax-Span-286" class="mi">p</span><span id="MathJax-Span-287" class="mi">o</span><span id="MathJax-Span-288" class="mi">s</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi></math></span></span> 的定义, 将 <span id="MathJax-Element-45-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-289" class="math"><span id="MathJax-Span-290" class="mrow"><span id="MathJax-Span-291" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span> 的所有 substrings 分成若干个类, 使每个类中的 substrings 都是 endpos-equivalent 的, 这样的分类结果会与 SAM 中的 states 一一对应.</p>
<p>为了进一步明确 state 的含义, 我们先来思考一个问题: <strong>对于 <span id="MathJax-Element-46-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-292" class="math"><span id="MathJax-Span-293" class="mrow"><span id="MathJax-Span-294" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span> 的两个任意的 substrings <span id="MathJax-Element-47-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-295" class="math"><span id="MathJax-Span-296" class="mrow"><span id="MathJax-Span-297" class="msubsup"><span id="MathJax-Span-298" class="mi">s</span><span id="MathJax-Span-299" class="mn">1</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>1</mn></msub></math></span></span>与 <span id="MathJax-Element-48-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-300" class="math"><span id="MathJax-Span-301" class="mrow"><span id="MathJax-Span-302" class="msubsup"><span id="MathJax-Span-303" class="mi">s</span><span id="MathJax-Span-304" class="mn">2</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>2</mn></msub></math></span></span>, 集合 <span id="MathJax-Element-49-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-305" class="math"><span id="MathJax-Span-306" class="mrow"><span id="MathJax-Span-307" class="mi">e</span><span id="MathJax-Span-308" class="mi">n</span><span id="MathJax-Span-309" class="mi">d</span><span id="MathJax-Span-310" class="mi">p</span><span id="MathJax-Span-311" class="mi">o</span><span id="MathJax-Span-312" class="mi">s</span><span id="MathJax-Span-313" class="mo">(</span><span id="MathJax-Span-314" class="mi">T</span><span id="MathJax-Span-315" class="mo">,</span><span id="MathJax-Span-316" class="msubsup"><span id="MathJax-Span-317" class="mi">s</span><span id="MathJax-Span-318" class="mn">1</span></span><span id="MathJax-Span-319" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>T</mi><mo>,</mo><msub><mi>s</mi><mn>1</mn></msub><mo stretchy="false">)</mo></math></span></span> 与 <span id="MathJax-Element-50-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-320" class="math"><span id="MathJax-Span-321" class="mrow"><span id="MathJax-Span-322" class="mi">e</span><span id="MathJax-Span-323" class="mi">n</span><span id="MathJax-Span-324" class="mi">d</span><span id="MathJax-Span-325" class="mi">p</span><span id="MathJax-Span-326" class="mi">o</span><span id="MathJax-Span-327" class="mi">s</span><span id="MathJax-Span-328" class="mo">(</span><span id="MathJax-Span-329" class="mi">T</span><span id="MathJax-Span-330" class="mo">,</span><span id="MathJax-Span-331" class="msubsup"><span id="MathJax-Span-332" class="mi">s</span><span id="MathJax-Span-333" class="mn">2</span></span><span id="MathJax-Span-334" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>T</mi><mo>,</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo></math></span></span> 的关系会是什么?</strong></p>
<p>For generality, 假设 <span id="MathJax-Element-51-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-335" class="math"><span id="MathJax-Span-336" class="mrow"><span id="MathJax-Span-337" class="mi">l</span><span id="MathJax-Span-338" class="mi">e</span><span id="MathJax-Span-339" class="mi">n</span><span id="MathJax-Span-340" class="mi">g</span><span id="MathJax-Span-341" class="mi">t</span><span id="MathJax-Span-342" class="mi">h</span><span id="MathJax-Span-343" class="mo">(</span><span id="MathJax-Span-344" class="msubsup"><span id="MathJax-Span-345" class="mi">s</span><span id="MathJax-Span-346" class="mn">1</span></span><span id="MathJax-Span-347" class="mo">)</span><span id="MathJax-Span-348" class="mo">≤</span><span id="MathJax-Span-349" class="mi">l</span><span id="MathJax-Span-350" class="mi">e</span><span id="MathJax-Span-351" class="mi">n</span><span id="MathJax-Span-352" class="mi">g</span><span id="MathJax-Span-353" class="mi">t</span><span id="MathJax-Span-354" class="mi">h</span><span id="MathJax-Span-355" class="mo">(</span><span id="MathJax-Span-356" class="msubsup"><span id="MathJax-Span-357" class="mi">s</span><span id="MathJax-Span-358" class="mn">2</span></span><span id="MathJax-Span-359" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>≤</mo><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo></math></span></span>. 如果 <span id="MathJax-Element-52-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2229;&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2260;&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x2205;&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-360" class="math"><span id="MathJax-Span-361" class="mrow"><span id="MathJax-Span-362" class="mi">e</span><span id="MathJax-Span-363" class="mi">n</span><span id="MathJax-Span-364" class="mi">d</span><span id="MathJax-Span-365" class="mi">p</span><span id="MathJax-Span-366" class="mi">o</span><span id="MathJax-Span-367" class="mi">s</span><span id="MathJax-Span-368" class="mo">(</span><span id="MathJax-Span-369" class="msubsup"><span id="MathJax-Span-370" class="mi">s</span><span id="MathJax-Span-371" class="mn">1</span></span><span id="MathJax-Span-372" class="mo">)</span><span id="MathJax-Span-373" class="mo">∩</span><span id="MathJax-Span-374" class="mi">e</span><span id="MathJax-Span-375" class="mi">n</span><span id="MathJax-Span-376" class="mi">d</span><span id="MathJax-Span-377" class="mi">p</span><span id="MathJax-Span-378" class="mi">o</span><span id="MathJax-Span-379" class="mi">s</span><span id="MathJax-Span-380" class="mo">(</span><span id="MathJax-Span-381" class="msubsup"><span id="MathJax-Span-382" class="mi">s</span><span id="MathJax-Span-383" class="mn">2</span></span><span id="MathJax-Span-384" class="mo">)</span><span id="MathJax-Span-385" class="mo">≠</span><span id="MathJax-Span-386" class="mi">∅</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>∩</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>≠</mo><mi mathvariant="normal">∅</mi></math></span></span>, 也就是说, <span id="MathJax-Element-53-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-387" class="math"><span id="MathJax-Span-388" class="mrow"><span id="MathJax-Span-389" class="msubsup"><span id="MathJax-Span-390" class="mi">s</span><span id="MathJax-Span-391" class="mn">1</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>1</mn></msub></math></span></span> 与 <span id="MathJax-Element-54-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-392" class="math"><span id="MathJax-Span-393" class="mrow"><span id="MathJax-Span-394" class="msubsup"><span id="MathJax-Span-395" class="mi">s</span><span id="MathJax-Span-396" class="mn">2</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>2</mn></msub></math></span></span> 至少会同时以 <span id="MathJax-Element-55-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-397" class="math"><span id="MathJax-Span-398" class="mrow"><span id="MathJax-Span-399" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span> 某个字符作为结尾. 所以, <span id="MathJax-Element-56-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2229;&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2260;&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x2205;&lt;/mi&gt;&lt;mspace width=&quot;thickmathspace&quot; /&gt;&lt;mo stretchy=&quot;false&quot;&gt;&amp;#x27F9;&lt;/mo&gt;&lt;mspace width=&quot;thickmathspace&quot; /&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2290;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-400" class="math"><span id="MathJax-Span-401" class="mrow"><span id="MathJax-Span-402" class="mi">e</span><span id="MathJax-Span-403" class="mi">n</span><span id="MathJax-Span-404" class="mi">d</span><span id="MathJax-Span-405" class="mi">p</span><span id="MathJax-Span-406" class="mi">o</span><span id="MathJax-Span-407" class="mi">s</span><span id="MathJax-Span-408" class="mo">(</span><span id="MathJax-Span-409" class="msubsup"><span id="MathJax-Span-410" class="mi">s</span><span id="MathJax-Span-411" class="mn">1</span></span><span id="MathJax-Span-412" class="mo">)</span><span id="MathJax-Span-413" class="mo">∩</span><span id="MathJax-Span-414" class="mi">e</span><span id="MathJax-Span-415" class="mi">n</span><span id="MathJax-Span-416" class="mi">d</span><span id="MathJax-Span-417" class="mi">p</span><span id="MathJax-Span-418" class="mi">o</span><span id="MathJax-Span-419" class="mi">s</span><span id="MathJax-Span-420" class="mo">(</span><span id="MathJax-Span-421" class="msubsup"><span id="MathJax-Span-422" class="mi">s</span><span id="MathJax-Span-423" class="mn">2</span></span><span id="MathJax-Span-424" class="mo">)</span><span id="MathJax-Span-425" class="mo">≠</span><span id="MathJax-Span-426" class="mi">∅</span><span id="MathJax-Span-427" class="mspace"></span><span id="MathJax-Span-428" class="mo">⟹</span><span id="MathJax-Span-429" class="mspace"></span><span id="MathJax-Span-430" class="msubsup"><span id="MathJax-Span-431" class="mi">s</span><span id="MathJax-Span-432" class="mn">1</span></span><span id="MathJax-Span-433" class="mo">⊐</span><span id="MathJax-Span-434" class="msubsup"><span id="MathJax-Span-435" class="mi">s</span><span id="MathJax-Span-436" class="mn">2</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>∩</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>≠</mo><mi mathvariant="normal">∅</mi><mspace width="thickmathspace"></mspace><mo stretchy="false">⟹</mo><mspace width="thickmathspace"></mspace><msub><mi>s</mi><mn>1</mn></msub><mo>⊐</mo><msub><mi>s</mi><mn>2</mn></msub></math></span></span>, 即 <span id="MathJax-Element-57-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-437" class="math"><span id="MathJax-Span-438" class="mrow"><span id="MathJax-Span-439" class="msubsup"><span id="MathJax-Span-440" class="mi">s</span><span id="MathJax-Span-441" class="mn">1</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>1</mn></msub></math></span></span> 是 <span id="MathJax-Element-58-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-442" class="math"><span id="MathJax-Span-443" class="mrow"><span id="MathJax-Span-444" class="msubsup"><span id="MathJax-Span-445" class="mi">s</span><span id="MathJax-Span-446" class="mn">2</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>2</mn></msub></math></span></span> 的 suffix (注意, 包含 <span id="MathJax-Element-59-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-447" class="math"><span id="MathJax-Span-448" class="mrow"><span id="MathJax-Span-449" class="msubsup"><span id="MathJax-Span-450" class="mi">s</span><span id="MathJax-Span-451" class="mn">1</span></span><span id="MathJax-Span-452" class="mo">=</span><span id="MathJax-Span-453" class="msubsup"><span id="MathJax-Span-454" class="mi">s</span><span id="MathJax-Span-455" class="mn">2</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>1</mn></msub><mo>=</mo><msub><mi>s</mi><mn>2</mn></msub></math></span></span> 的情况).</p>
<p>显然的, 如果 <span id="MathJax-Element-60-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2290;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-456" class="math"><span id="MathJax-Span-457" class="mrow"><span id="MathJax-Span-458" class="msubsup"><span id="MathJax-Span-459" class="mi">s</span><span id="MathJax-Span-460" class="mn">1</span></span><span id="MathJax-Span-461" class="mo">⊐</span><span id="MathJax-Span-462" class="msubsup"><span id="MathJax-Span-463" class="mi">s</span><span id="MathJax-Span-464" class="mn">2</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>1</mn></msub><mo>⊐</mo><msub><mi>s</mi><mn>2</mn></msub></math></span></span>, 则 <span id="MathJax-Element-61-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2287;&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-465" class="math"><span id="MathJax-Span-466" class="mrow"><span id="MathJax-Span-467" class="mi">e</span><span id="MathJax-Span-468" class="mi">n</span><span id="MathJax-Span-469" class="mi">d</span><span id="MathJax-Span-470" class="mi">p</span><span id="MathJax-Span-471" class="mi">o</span><span id="MathJax-Span-472" class="mi">s</span><span id="MathJax-Span-473" class="mo">(</span><span id="MathJax-Span-474" class="msubsup"><span id="MathJax-Span-475" class="mi">s</span><span id="MathJax-Span-476" class="mn">1</span></span><span id="MathJax-Span-477" class="mo">)</span><span id="MathJax-Span-478" class="mo">⊇</span><span id="MathJax-Span-479" class="mi">e</span><span id="MathJax-Span-480" class="mi">n</span><span id="MathJax-Span-481" class="mi">d</span><span id="MathJax-Span-482" class="mi">p</span><span id="MathJax-Span-483" class="mi">o</span><span id="MathJax-Span-484" class="mi">s</span><span id="MathJax-Span-485" class="mo">(</span><span id="MathJax-Span-486" class="msubsup"><span id="MathJax-Span-487" class="mi">s</span><span id="MathJax-Span-488" class="mn">2</span></span><span id="MathJax-Span-489" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>⊇</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo></math></span></span>, 毕竟 substring 越长, 对 <span id="MathJax-Element-62-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-490" class="math"><span id="MathJax-Span-491" class="mrow"><span id="MathJax-Span-492" class="mi">e</span><span id="MathJax-Span-493" class="mi">n</span><span id="MathJax-Span-494" class="mi">d</span><span id="MathJax-Span-495" class="mi">p</span><span id="MathJax-Span-496" class="mi">o</span><span id="MathJax-Span-497" class="mi">s</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi></math></span></span> 的限制就越多, 集合就越小. 再有, 如果 <span id="MathJax-Element-63-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2287;&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-498" class="math"><span id="MathJax-Span-499" class="mrow"><span id="MathJax-Span-500" class="mi">e</span><span id="MathJax-Span-501" class="mi">n</span><span id="MathJax-Span-502" class="mi">d</span><span id="MathJax-Span-503" class="mi">p</span><span id="MathJax-Span-504" class="mi">o</span><span id="MathJax-Span-505" class="mi">s</span><span id="MathJax-Span-506" class="mo">(</span><span id="MathJax-Span-507" class="msubsup"><span id="MathJax-Span-508" class="mi">s</span><span id="MathJax-Span-509" class="mn">1</span></span><span id="MathJax-Span-510" class="mo">)</span><span id="MathJax-Span-511" class="mo">⊇</span><span id="MathJax-Span-512" class="mi">e</span><span id="MathJax-Span-513" class="mi">n</span><span id="MathJax-Span-514" class="mi">d</span><span id="MathJax-Span-515" class="mi">p</span><span id="MathJax-Span-516" class="mi">o</span><span id="MathJax-Span-517" class="mi">s</span><span id="MathJax-Span-518" class="mo">(</span><span id="MathJax-Span-519" class="msubsup"><span id="MathJax-Span-520" class="mi">s</span><span id="MathJax-Span-521" class="mn">2</span></span><span id="MathJax-Span-522" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>⊇</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo></math></span></span>, 则必有 <span id="MathJax-Element-64-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-523" class="math"><span id="MathJax-Span-524" class="mrow"><span id="MathJax-Span-525" class="mi">l</span><span id="MathJax-Span-526" class="mi">e</span><span id="MathJax-Span-527" class="mi">n</span><span id="MathJax-Span-528" class="mi">g</span><span id="MathJax-Span-529" class="mi">t</span><span id="MathJax-Span-530" class="mi">h</span><span id="MathJax-Span-531" class="mo">(</span><span id="MathJax-Span-532" class="msubsup"><span id="MathJax-Span-533" class="mi">s</span><span id="MathJax-Span-534" class="mn">1</span></span><span id="MathJax-Span-535" class="mo">)</span><span id="MathJax-Span-536" class="mo">≤</span><span id="MathJax-Span-537" class="mi">l</span><span id="MathJax-Span-538" class="mi">e</span><span id="MathJax-Span-539" class="mi">n</span><span id="MathJax-Span-540" class="mi">g</span><span id="MathJax-Span-541" class="mi">t</span><span id="MathJax-Span-542" class="mi">h</span><span id="MathJax-Span-543" class="mo">(</span><span id="MathJax-Span-544" class="msubsup"><span id="MathJax-Span-545" class="mi">s</span><span id="MathJax-Span-546" class="mn">2</span></span><span id="MathJax-Span-547" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>≤</mo><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo></math></span></span>, 由此可推导出 <span id="MathJax-Element-65-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2290;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-548" class="math"><span id="MathJax-Span-549" class="mrow"><span id="MathJax-Span-550" class="msubsup"><span id="MathJax-Span-551" class="mi">s</span><span id="MathJax-Span-552" class="mn">1</span></span><span id="MathJax-Span-553" class="mo">⊐</span><span id="MathJax-Span-554" class="msubsup"><span id="MathJax-Span-555" class="mi">s</span><span id="MathJax-Span-556" class="mn">2</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>1</mn></msub><mo>⊐</mo><msub><mi>s</mi><mn>2</mn></msub></math></span></span>. 综上, <span id="MathJax-Element-66-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2287;&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;&amp;#x21D4;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2290;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-557" class="math"><span id="MathJax-Span-558" class="mrow"><span id="MathJax-Span-559" class="mi">e</span><span id="MathJax-Span-560" class="mi">n</span><span id="MathJax-Span-561" class="mi">d</span><span id="MathJax-Span-562" class="mi">p</span><span id="MathJax-Span-563" class="mi">o</span><span id="MathJax-Span-564" class="mi">s</span><span id="MathJax-Span-565" class="mo">(</span><span id="MathJax-Span-566" class="msubsup"><span id="MathJax-Span-567" class="mi">s</span><span id="MathJax-Span-568" class="mn">1</span></span><span id="MathJax-Span-569" class="mo">)</span><span id="MathJax-Span-570" class="mo">⊇</span><span id="MathJax-Span-571" class="mi">e</span><span id="MathJax-Span-572" class="mi">n</span><span id="MathJax-Span-573" class="mi">d</span><span id="MathJax-Span-574" class="mi">p</span><span id="MathJax-Span-575" class="mi">o</span><span id="MathJax-Span-576" class="mi">s</span><span id="MathJax-Span-577" class="mo">(</span><span id="MathJax-Span-578" class="msubsup"><span id="MathJax-Span-579" class="mi">s</span><span id="MathJax-Span-580" class="mn">2</span></span><span id="MathJax-Span-581" class="mo">)</span><span id="MathJax-Span-582" class="mo">⇔</span><span id="MathJax-Span-583" class="msubsup"><span id="MathJax-Span-584" class="mi">s</span><span id="MathJax-Span-585" class="mn">1</span></span><span id="MathJax-Span-586" class="mo">⊐</span><span id="MathJax-Span-587" class="msubsup"><span id="MathJax-Span-588" class="mi">s</span><span id="MathJax-Span-589" class="mn">2</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>⊇</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">⇔</mo><msub><mi>s</mi><mn>1</mn></msub><mo>⊐</mo><msub><mi>s</mi><mn>2</mn></msub></math></span></span>.</p>
<p>所以, 我们现在可以回答上面提出的那个问题了:</p>
<p><div class="MathJax_Display"><span id="MathJax-Element-67-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mrow&gt;&lt;mo&gt;{&lt;/mo&gt;&lt;mtable columnalign=&quot;left left&quot; rowspacing=&quot;.2em&quot; columnspacing=&quot;1em&quot; displaystyle=&quot;false&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2287;&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mtext&gt;iff&amp;#xA0;&lt;/mtext&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2290;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2229;&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x2205;&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mtext&gt;otherwise&lt;/mtext&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo fence=&quot;true&quot; stretchy=&quot;true&quot;&gt;&lt;/mo&gt;&lt;/mrow&gt;&lt;/math&gt;"><span id="MathJax-Span-590" class="math"><span id="MathJax-Span-591" class="mrow"><span id="MathJax-Span-592" class="mrow"><span id="MathJax-Span-593" class="mo">{</span><span id="MathJax-Span-594" class="mtable"><span id="MathJax-Span-595" class="mtd"><span id="MathJax-Span-596" class="mrow"><span id="MathJax-Span-597" class="mi">e</span><span id="MathJax-Span-598" class="mi">n</span><span id="MathJax-Span-599" class="mi">d</span><span id="MathJax-Span-600" class="mi">p</span><span id="MathJax-Span-601" class="mi">o</span><span id="MathJax-Span-602" class="mi">s</span><span id="MathJax-Span-603" class="mo">(</span><span id="MathJax-Span-604" class="msubsup"><span id="MathJax-Span-605" class="mi">s</span><span id="MathJax-Span-606" class="mn">1</span></span><span id="MathJax-Span-607" class="mo">)</span><span id="MathJax-Span-608" class="mo">⊇</span><span id="MathJax-Span-609" class="mi">e</span><span id="MathJax-Span-610" class="mi">n</span><span id="MathJax-Span-611" class="mi">d</span><span id="MathJax-Span-612" class="mi">p</span><span id="MathJax-Span-613" class="mi">o</span><span id="MathJax-Span-614" class="mi">s</span><span id="MathJax-Span-615" class="mo">(</span><span id="MathJax-Span-616" class="msubsup"><span id="MathJax-Span-617" class="mi">s</span><span id="MathJax-Span-618" class="mn">2</span></span><span id="MathJax-Span-619" class="mo">)</span><span id="MathJax-Span-620" class="mo">,</span></span></span><span id="MathJax-Span-631" class="mtd"><span id="MathJax-Span-632" class="mrow"><span id="MathJax-Span-633" class="mi">e</span><span id="MathJax-Span-634" class="mi">n</span><span id="MathJax-Span-635" class="mi">d</span><span id="MathJax-Span-636" class="mi">p</span><span id="MathJax-Span-637" class="mi">o</span><span id="MathJax-Span-638" class="mi">s</span><span id="MathJax-Span-639" class="mo">(</span><span id="MathJax-Span-640" class="msubsup"><span id="MathJax-Span-641" class="mi">s</span><span id="MathJax-Span-642" class="mn">1</span></span><span id="MathJax-Span-643" class="mo">)</span><span id="MathJax-Span-644" class="mo">∩</span><span id="MathJax-Span-645" class="mi">e</span><span id="MathJax-Span-646" class="mi">n</span><span id="MathJax-Span-647" class="mi">d</span><span id="MathJax-Span-648" class="mi">p</span><span id="MathJax-Span-649" class="mi">o</span><span id="MathJax-Span-650" class="mi">s</span><span id="MathJax-Span-651" class="mo">(</span><span id="MathJax-Span-652" class="msubsup"><span id="MathJax-Span-653" class="mi">s</span><span id="MathJax-Span-654" class="mn">2</span></span><span id="MathJax-Span-655" class="mo">)</span><span id="MathJax-Span-656" class="mo">=</span><span id="MathJax-Span-657" class="mi">∅</span><span id="MathJax-Span-658" class="mo">,</span></span></span><span id="MathJax-Span-621" class="mtd"><span id="MathJax-Span-622" class="mrow"><span id="MathJax-Span-623" class="mtext">iff </span><span id="MathJax-Span-624" class="msubsup"><span id="MathJax-Span-625" class="mi">s</span><span id="MathJax-Span-626" class="mn">1</span></span><span id="MathJax-Span-627" class="mo">⊐</span><span id="MathJax-Span-628" class="msubsup"><span id="MathJax-Span-629" class="mi">s</span><span id="MathJax-Span-630" class="mn">2</span></span></span></span><span id="MathJax-Span-659" class="mtd"><span id="MathJax-Span-660" class="mrow"><span id="MathJax-Span-661" class="mtext">otherwise</span></span></span></span><span id="MathJax-Span-662" class="mo"></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>{</mo><mtable columnalign="left left" columnspacing="1em" displaystyle="false" rowspacing=".2em"><mtr><mtd><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>⊇</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>,</mo></mtd><mtd><mtext>iff </mtext><msub><mi>s</mi><mn>1</mn></msub><mo>⊐</mo><msub><mi>s</mi><mn>2</mn></msub></mtd></mtr><mtr><mtd><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>∩</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">∅</mi><mo>,</mo></mtd><mtd><mtext>otherwise</mtext></mtd></mtr></mtable><mo fence="true" stretchy="true"></mo></mrow></math></span></span></div><br>让我们进一步来思考一个问题: <strong>给定一个 state <span id="MathJax-Element-68-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-663" class="math"><span id="MathJax-Span-664" class="mrow"><span id="MathJax-Span-665" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span>, <span id="MathJax-Element-69-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-666" class="math"><span id="MathJax-Span-667" class="mrow"><span id="MathJax-Span-668" class="mi">s</span><span id="MathJax-Span-669" class="mi">u</span><span id="MathJax-Span-670" class="mi">b</span><span id="MathJax-Span-671" class="mi">s</span><span id="MathJax-Span-672" class="mi">t</span><span id="MathJax-Span-673" class="mi">r</span><span id="MathJax-Span-674" class="mi">i</span><span id="MathJax-Span-675" class="mi">n</span><span id="MathJax-Span-676" class="mi">g</span><span id="MathJax-Span-677" class="mi">s</span><span id="MathJax-Span-678" class="mo">(</span><span id="MathJax-Span-679" class="mi">u</span><span id="MathJax-Span-680" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 有什么特性?</strong></p>
<p>给定一个 state <span id="MathJax-Element-70-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-681" class="math"><span id="MathJax-Span-682" class="mrow"><span id="MathJax-Span-683" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span>, 定义</p>
<ul>
<li><span id="MathJax-Element-71-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-684" class="math"><span id="MathJax-Span-685" class="mrow"><span id="MathJax-Span-686" class="mi">l</span><span id="MathJax-Span-687" class="mi">o</span><span id="MathJax-Span-688" class="mi">n</span><span id="MathJax-Span-689" class="mi">g</span><span id="MathJax-Span-690" class="mi">e</span><span id="MathJax-Span-691" class="mi">s</span><span id="MathJax-Span-692" class="mi">t</span><span id="MathJax-Span-693" class="mo">(</span><span id="MathJax-Span-694" class="mi">u</span><span id="MathJax-Span-695" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>: <span id="MathJax-Element-72-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-696" class="math"><span id="MathJax-Span-697" class="mrow"><span id="MathJax-Span-698" class="mi">s</span><span id="MathJax-Span-699" class="mi">u</span><span id="MathJax-Span-700" class="mi">b</span><span id="MathJax-Span-701" class="mi">s</span><span id="MathJax-Span-702" class="mi">t</span><span id="MathJax-Span-703" class="mi">r</span><span id="MathJax-Span-704" class="mi">i</span><span id="MathJax-Span-705" class="mi">n</span><span id="MathJax-Span-706" class="mi">g</span><span id="MathJax-Span-707" class="mi">s</span><span id="MathJax-Span-708" class="mo">(</span><span id="MathJax-Span-709" class="mi">u</span><span id="MathJax-Span-710" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 中最长的 substring</li>
<li><span id="MathJax-Element-73-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-711" class="math"><span id="MathJax-Span-712" class="mrow"><span id="MathJax-Span-713" class="mi">s</span><span id="MathJax-Span-714" class="mi">h</span><span id="MathJax-Span-715" class="mi">o</span><span id="MathJax-Span-716" class="mi">r</span><span id="MathJax-Span-717" class="mi">t</span><span id="MathJax-Span-718" class="mi">e</span><span id="MathJax-Span-719" class="mi">s</span><span id="MathJax-Span-720" class="mi">t</span><span id="MathJax-Span-721" class="mo">(</span><span id="MathJax-Span-722" class="mi">u</span><span id="MathJax-Span-723" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>h</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>: <span id="MathJax-Element-74-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-724" class="math"><span id="MathJax-Span-725" class="mrow"><span id="MathJax-Span-726" class="mi">s</span><span id="MathJax-Span-727" class="mi">u</span><span id="MathJax-Span-728" class="mi">b</span><span id="MathJax-Span-729" class="mi">s</span><span id="MathJax-Span-730" class="mi">t</span><span id="MathJax-Span-731" class="mi">r</span><span id="MathJax-Span-732" class="mi">i</span><span id="MathJax-Span-733" class="mi">n</span><span id="MathJax-Span-734" class="mi">g</span><span id="MathJax-Span-735" class="mi">s</span><span id="MathJax-Span-736" class="mo">(</span><span id="MathJax-Span-737" class="mi">u</span><span id="MathJax-Span-738" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 中最短 substring</li>
<li><span id="MathJax-Element-75-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-739" class="math"><span id="MathJax-Span-740" class="mrow"><span id="MathJax-Span-741" class="mi">m</span><span id="MathJax-Span-742" class="mi">a</span><span id="MathJax-Span-743" class="mi">x</span><span id="MathJax-Span-744" class="mi">l</span><span id="MathJax-Span-745" class="mi">e</span><span id="MathJax-Span-746" class="mi">n</span><span id="MathJax-Span-747" class="mo">(</span><span id="MathJax-Span-748" class="mi">u</span><span id="MathJax-Span-749" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>: <span id="MathJax-Element-76-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-750" class="math"><span id="MathJax-Span-751" class="mrow"><span id="MathJax-Span-752" class="mi">l</span><span id="MathJax-Span-753" class="mi">o</span><span id="MathJax-Span-754" class="mi">n</span><span id="MathJax-Span-755" class="mi">g</span><span id="MathJax-Span-756" class="mi">e</span><span id="MathJax-Span-757" class="mi">s</span><span id="MathJax-Span-758" class="mi">t</span><span id="MathJax-Span-759" class="mo">(</span><span id="MathJax-Span-760" class="mi">u</span><span id="MathJax-Span-761" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 的长度</li>
<li><span id="MathJax-Element-77-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-762" class="math"><span id="MathJax-Span-763" class="mrow"><span id="MathJax-Span-764" class="mi">m</span><span id="MathJax-Span-765" class="mi">i</span><span id="MathJax-Span-766" class="mi">n</span><span id="MathJax-Span-767" class="mi">l</span><span id="MathJax-Span-768" class="mi">e</span><span id="MathJax-Span-769" class="mi">n</span><span id="MathJax-Span-770" class="mo">(</span><span id="MathJax-Span-771" class="mi">u</span><span id="MathJax-Span-772" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>: <span id="MathJax-Element-78-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-773" class="math"><span id="MathJax-Span-774" class="mrow"><span id="MathJax-Span-775" class="mi">s</span><span id="MathJax-Span-776" class="mi">h</span><span id="MathJax-Span-777" class="mi">o</span><span id="MathJax-Span-778" class="mi">r</span><span id="MathJax-Span-779" class="mi">t</span><span id="MathJax-Span-780" class="mi">e</span><span id="MathJax-Span-781" class="mi">s</span><span id="MathJax-Span-782" class="mi">t</span><span id="MathJax-Span-783" class="mo">(</span><span id="MathJax-Span-784" class="mi">u</span><span id="MathJax-Span-785" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>h</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 的长度<br>由于 <span id="MathJax-Element-79-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-786" class="math"><span id="MathJax-Span-787" class="mrow"><span id="MathJax-Span-788" class="mi">e</span><span id="MathJax-Span-789" class="mi">n</span><span id="MathJax-Span-790" class="mi">d</span><span id="MathJax-Span-791" class="mi">p</span><span id="MathJax-Span-792" class="mi">o</span><span id="MathJax-Span-793" class="mi">s</span><span id="MathJax-Span-794" class="mo">(</span><span id="MathJax-Span-795" class="mi">s</span><span id="MathJax-Span-796" class="mi">h</span><span id="MathJax-Span-797" class="mi">o</span><span id="MathJax-Span-798" class="mi">r</span><span id="MathJax-Span-799" class="mi">t</span><span id="MathJax-Span-800" class="mi">e</span><span id="MathJax-Span-801" class="mi">s</span><span id="MathJax-Span-802" class="mi">t</span><span id="MathJax-Span-803" class="mo">(</span><span id="MathJax-Span-804" class="mi">u</span><span id="MathJax-Span-805" class="mo">)</span><span id="MathJax-Span-806" class="mo">)</span><span id="MathJax-Span-807" class="mo">=</span><span id="MathJax-Span-808" class="mi">e</span><span id="MathJax-Span-809" class="mi">n</span><span id="MathJax-Span-810" class="mi">d</span><span id="MathJax-Span-811" class="mi">p</span><span id="MathJax-Span-812" class="mi">o</span><span id="MathJax-Span-813" class="mi">s</span><span id="MathJax-Span-814" class="mo">(</span><span id="MathJax-Span-815" class="mi">l</span><span id="MathJax-Span-816" class="mi">o</span><span id="MathJax-Span-817" class="mi">n</span><span id="MathJax-Span-818" class="mi">g</span><span id="MathJax-Span-819" class="mi">e</span><span id="MathJax-Span-820" class="mi">s</span><span id="MathJax-Span-821" class="mi">t</span><span id="MathJax-Span-822" class="mo">(</span><span id="MathJax-Span-823" class="mi">u</span><span id="MathJax-Span-824" class="mo">)</span><span id="MathJax-Span-825" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>s</mi><mi>h</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></math></span></span>, 根据上一个问题的结论, 我们可以知道<span id="MathJax-Element-80-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2290;&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-826" class="math"><span id="MathJax-Span-827" class="mrow"><span id="MathJax-Span-828" class="mi">s</span><span id="MathJax-Span-829" class="mi">h</span><span id="MathJax-Span-830" class="mi">o</span><span id="MathJax-Span-831" class="mi">r</span><span id="MathJax-Span-832" class="mi">t</span><span id="MathJax-Span-833" class="mi">e</span><span id="MathJax-Span-834" class="mi">s</span><span id="MathJax-Span-835" class="mi">t</span><span id="MathJax-Span-836" class="mo">(</span><span id="MathJax-Span-837" class="mi">u</span><span id="MathJax-Span-838" class="mo">)</span><span id="MathJax-Span-839" class="mo">⊐</span><span id="MathJax-Span-840" class="mi">l</span><span id="MathJax-Span-841" class="mi">o</span><span id="MathJax-Span-842" class="mi">n</span><span id="MathJax-Span-843" class="mi">g</span><span id="MathJax-Span-844" class="mi">e</span><span id="MathJax-Span-845" class="mi">s</span><span id="MathJax-Span-846" class="mi">t</span><span id="MathJax-Span-847" class="mo">(</span><span id="MathJax-Span-848" class="mi">u</span><span id="MathJax-Span-849" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>h</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo>⊐</mo><mi>l</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>. 同理, 对于任意的 <span id="MathJax-Element-81-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-850" class="math"><span id="MathJax-Span-851" class="mrow"><span id="MathJax-Span-852" class="msubsup"><span id="MathJax-Span-853" class="mi">s</span><span id="MathJax-Span-854" class="mi">i</span></span><span id="MathJax-Span-855" class="mo">∈</span><span id="MathJax-Span-856" class="mi">s</span><span id="MathJax-Span-857" class="mi">u</span><span id="MathJax-Span-858" class="mi">b</span><span id="MathJax-Span-859" class="mi">s</span><span id="MathJax-Span-860" class="mi">t</span><span id="MathJax-Span-861" class="mi">r</span><span id="MathJax-Span-862" class="mi">i</span><span id="MathJax-Span-863" class="mi">n</span><span id="MathJax-Span-864" class="mi">g</span><span id="MathJax-Span-865" class="mi">s</span><span id="MathJax-Span-866" class="mo">(</span><span id="MathJax-Span-867" class="mi">u</span><span id="MathJax-Span-868" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mi>i</mi></msub><mo>∈</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>, 必有 <span id="MathJax-Element-82-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2290;&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-869" class="math"><span id="MathJax-Span-870" class="mrow"><span id="MathJax-Span-871" class="msubsup"><span id="MathJax-Span-872" class="mi">s</span><span id="MathJax-Span-873" class="mi">i</span></span><span id="MathJax-Span-874" class="mo">⊐</span><span id="MathJax-Span-875" class="mi">l</span><span id="MathJax-Span-876" class="mi">o</span><span id="MathJax-Span-877" class="mi">n</span><span id="MathJax-Span-878" class="mi">g</span><span id="MathJax-Span-879" class="mi">e</span><span id="MathJax-Span-880" class="mi">s</span><span id="MathJax-Span-881" class="mi">t</span><span id="MathJax-Span-882" class="mo">(</span><span id="MathJax-Span-883" class="mi">u</span><span id="MathJax-Span-884" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mi>i</mi></msub><mo>⊐</mo><mi>l</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>, 也就是说, <span id="MathJax-Element-83-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-885" class="math"><span id="MathJax-Span-886" class="mrow"><span id="MathJax-Span-887" class="mi">s</span><span id="MathJax-Span-888" class="mi">u</span><span id="MathJax-Span-889" class="mi">b</span><span id="MathJax-Span-890" class="mi">s</span><span id="MathJax-Span-891" class="mi">t</span><span id="MathJax-Span-892" class="mi">r</span><span id="MathJax-Span-893" class="mi">i</span><span id="MathJax-Span-894" class="mi">n</span><span id="MathJax-Span-895" class="mi">g</span><span id="MathJax-Span-896" class="mi">s</span><span id="MathJax-Span-897" class="mo">(</span><span id="MathJax-Span-898" class="mi">u</span><span id="MathJax-Span-899" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 中所有的 substrings, 必然会是 <span id="MathJax-Element-84-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-900" class="math"><span id="MathJax-Span-901" class="mrow"><span id="MathJax-Span-902" class="mi">l</span><span id="MathJax-Span-903" class="mi">o</span><span id="MathJax-Span-904" class="mi">n</span><span id="MathJax-Span-905" class="mi">g</span><span id="MathJax-Span-906" class="mi">e</span><span id="MathJax-Span-907" class="mi">s</span><span id="MathJax-Span-908" class="mi">t</span><span id="MathJax-Span-909" class="mo">(</span><span id="MathJax-Span-910" class="mi">u</span><span id="MathJax-Span-911" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 的 suffix!</li>
</ul>
<p>而且, 需要注意的是, 设 <span id="MathJax-Element-85-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2290;&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-912" class="math"><span id="MathJax-Span-913" class="mrow"><span id="MathJax-Span-914" class="msubsup"><span id="MathJax-Span-915" class="mi">s</span><span id="MathJax-Span-916" class="mi">i</span></span><span id="MathJax-Span-917" class="mo">⊐</span><span id="MathJax-Span-918" class="mi">l</span><span id="MathJax-Span-919" class="mi">o</span><span id="MathJax-Span-920" class="mi">n</span><span id="MathJax-Span-921" class="mi">g</span><span id="MathJax-Span-922" class="mi">e</span><span id="MathJax-Span-923" class="mi">s</span><span id="MathJax-Span-924" class="mi">t</span><span id="MathJax-Span-925" class="mo">(</span><span id="MathJax-Span-926" class="mi">u</span><span id="MathJax-Span-927" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mi>i</mi></msub><mo>⊐</mo><mi>l</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 且 <span id="MathJax-Element-86-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-928" class="math"><span id="MathJax-Span-929" class="mrow"><span id="MathJax-Span-930" class="mi">m</span><span id="MathJax-Span-931" class="mi">i</span><span id="MathJax-Span-932" class="mi">n</span><span id="MathJax-Span-933" class="mi">l</span><span id="MathJax-Span-934" class="mi">e</span><span id="MathJax-Span-935" class="mi">n</span><span id="MathJax-Span-936" class="mo">(</span><span id="MathJax-Span-937" class="mi">u</span><span id="MathJax-Span-938" class="mo">)</span><span id="MathJax-Span-939" class="mo">≤</span><span id="MathJax-Span-940" class="mi">l</span><span id="MathJax-Span-941" class="mi">e</span><span id="MathJax-Span-942" class="mi">n</span><span id="MathJax-Span-943" class="mi">g</span><span id="MathJax-Span-944" class="mi">t</span><span id="MathJax-Span-945" class="mi">h</span><span id="MathJax-Span-946" class="mo">(</span><span id="MathJax-Span-947" class="msubsup"><span id="MathJax-Span-948" class="mi">s</span><span id="MathJax-Span-949" class="mi">i</span></span><span id="MathJax-Span-950" class="mo">)</span><span id="MathJax-Span-951" class="mo">≤</span><span id="MathJax-Span-952" class="mi">m</span><span id="MathJax-Span-953" class="mi">a</span><span id="MathJax-Span-954" class="mi">x</span><span id="MathJax-Span-955" class="mi">l</span><span id="MathJax-Span-956" class="mi">e</span><span id="MathJax-Span-957" class="mi">n</span><span id="MathJax-Span-958" class="mo">(</span><span id="MathJax-Span-959" class="mi">u</span><span id="MathJax-Span-960" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo>≤</mo><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>≤</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>, 则必有 <span id="MathJax-Element-87-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-961" class="math"><span id="MathJax-Span-962" class="mrow"><span id="MathJax-Span-963" class="msubsup"><span id="MathJax-Span-964" class="mi">s</span><span id="MathJax-Span-965" class="mi">i</span></span><span id="MathJax-Span-966" class="mo">∈</span><span id="MathJax-Span-967" class="mi">s</span><span id="MathJax-Span-968" class="mi">u</span><span id="MathJax-Span-969" class="mi">b</span><span id="MathJax-Span-970" class="mi">s</span><span id="MathJax-Span-971" class="mi">t</span><span id="MathJax-Span-972" class="mi">r</span><span id="MathJax-Span-973" class="mi">i</span><span id="MathJax-Span-974" class="mi">n</span><span id="MathJax-Span-975" class="mi">g</span><span id="MathJax-Span-976" class="mi">s</span><span id="MathJax-Span-977" class="mo">(</span><span id="MathJax-Span-978" class="mi">u</span><span id="MathJax-Span-979" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mi>i</mi></msub><mo>∈</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>. 证明很简单, 因为 <span id="MathJax-Element-88-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2287;&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2287;&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-980" class="math"><span id="MathJax-Span-981" class="mrow"><span id="MathJax-Span-982" class="mi">e</span><span id="MathJax-Span-983" class="mi">n</span><span id="MathJax-Span-984" class="mi">d</span><span id="MathJax-Span-985" class="mi">p</span><span id="MathJax-Span-986" class="mi">o</span><span id="MathJax-Span-987" class="mi">s</span><span id="MathJax-Span-988" class="mo">(</span><span id="MathJax-Span-989" class="mi">s</span><span id="MathJax-Span-990" class="mi">h</span><span id="MathJax-Span-991" class="mi">o</span><span id="MathJax-Span-992" class="mi">r</span><span id="MathJax-Span-993" class="mi">t</span><span id="MathJax-Span-994" class="mi">e</span><span id="MathJax-Span-995" class="mi">s</span><span id="MathJax-Span-996" class="mi">t</span><span id="MathJax-Span-997" class="mo">(</span><span id="MathJax-Span-998" class="mi">u</span><span id="MathJax-Span-999" class="mo">)</span><span id="MathJax-Span-1000" class="mo">)</span><span id="MathJax-Span-1001" class="mo">⊇</span><span id="MathJax-Span-1002" class="mi">e</span><span id="MathJax-Span-1003" class="mi">n</span><span id="MathJax-Span-1004" class="mi">d</span><span id="MathJax-Span-1005" class="mi">p</span><span id="MathJax-Span-1006" class="mi">o</span><span id="MathJax-Span-1007" class="mi">s</span><span id="MathJax-Span-1008" class="mo">(</span><span id="MathJax-Span-1009" class="msubsup"><span id="MathJax-Span-1010" class="mi">s</span><span id="MathJax-Span-1011" class="mi">i</span></span><span id="MathJax-Span-1012" class="mo">)</span><span id="MathJax-Span-1013" class="mo">⊇</span><span id="MathJax-Span-1014" class="mi">e</span><span id="MathJax-Span-1015" class="mi">n</span><span id="MathJax-Span-1016" class="mi">d</span><span id="MathJax-Span-1017" class="mi">p</span><span id="MathJax-Span-1018" class="mi">o</span><span id="MathJax-Span-1019" class="mi">s</span><span id="MathJax-Span-1020" class="mo">(</span><span id="MathJax-Span-1021" class="mi">l</span><span id="MathJax-Span-1022" class="mi">o</span><span id="MathJax-Span-1023" class="mi">n</span><span id="MathJax-Span-1024" class="mi">g</span><span id="MathJax-Span-1025" class="mi">e</span><span id="MathJax-Span-1026" class="mi">s</span><span id="MathJax-Span-1027" class="mi">t</span><span id="MathJax-Span-1028" class="mo">(</span><span id="MathJax-Span-1029" class="mi">u</span><span id="MathJax-Span-1030" class="mo">)</span><span id="MathJax-Span-1031" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>s</mi><mi>h</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>⊇</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>⊇</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></math></span></span>, 由于 <span id="MathJax-Element-89-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1032" class="math"><span id="MathJax-Span-1033" class="mrow"><span id="MathJax-Span-1034" class="mi">e</span><span id="MathJax-Span-1035" class="mi">n</span><span id="MathJax-Span-1036" class="mi">d</span><span id="MathJax-Span-1037" class="mi">p</span><span id="MathJax-Span-1038" class="mi">o</span><span id="MathJax-Span-1039" class="mi">s</span><span id="MathJax-Span-1040" class="mo">(</span><span id="MathJax-Span-1041" class="mi">s</span><span id="MathJax-Span-1042" class="mi">h</span><span id="MathJax-Span-1043" class="mi">o</span><span id="MathJax-Span-1044" class="mi">r</span><span id="MathJax-Span-1045" class="mi">t</span><span id="MathJax-Span-1046" class="mi">e</span><span id="MathJax-Span-1047" class="mi">s</span><span id="MathJax-Span-1048" class="mi">t</span><span id="MathJax-Span-1049" class="mo">(</span><span id="MathJax-Span-1050" class="mi">u</span><span id="MathJax-Span-1051" class="mo">)</span><span id="MathJax-Span-1052" class="mo">)</span><span id="MathJax-Span-1053" class="mo">=</span><span id="MathJax-Span-1054" class="mi">e</span><span id="MathJax-Span-1055" class="mi">n</span><span id="MathJax-Span-1056" class="mi">d</span><span id="MathJax-Span-1057" class="mi">p</span><span id="MathJax-Span-1058" class="mi">o</span><span id="MathJax-Span-1059" class="mi">s</span><span id="MathJax-Span-1060" class="mo">(</span><span id="MathJax-Span-1061" class="mi">l</span><span id="MathJax-Span-1062" class="mi">o</span><span id="MathJax-Span-1063" class="mi">n</span><span id="MathJax-Span-1064" class="mi">g</span><span id="MathJax-Span-1065" class="mi">e</span><span id="MathJax-Span-1066" class="mi">s</span><span id="MathJax-Span-1067" class="mi">t</span><span id="MathJax-Span-1068" class="mo">(</span><span id="MathJax-Span-1069" class="mi">u</span><span id="MathJax-Span-1070" class="mo">)</span><span id="MathJax-Span-1071" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>s</mi><mi>h</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></math></span></span>, 所以 <span id="MathJax-Element-90-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1072" class="math"><span id="MathJax-Span-1073" class="mrow"><span id="MathJax-Span-1074" class="msubsup"><span id="MathJax-Span-1075" class="mi">s</span><span id="MathJax-Span-1076" class="mi">i</span></span><span id="MathJax-Span-1077" class="mo">∈</span><span id="MathJax-Span-1078" class="mi">s</span><span id="MathJax-Span-1079" class="mi">u</span><span id="MathJax-Span-1080" class="mi">b</span><span id="MathJax-Span-1081" class="mi">s</span><span id="MathJax-Span-1082" class="mi">t</span><span id="MathJax-Span-1083" class="mi">r</span><span id="MathJax-Span-1084" class="mi">i</span><span id="MathJax-Span-1085" class="mi">n</span><span id="MathJax-Span-1086" class="mi">g</span><span id="MathJax-Span-1087" class="mi">s</span><span id="MathJax-Span-1088" class="mo">(</span><span id="MathJax-Span-1089" class="mi">u</span><span id="MathJax-Span-1090" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mi>i</mi></msub><mo>∈</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>, 得证.</p>
<p>直观来讲, 这意味这一个 state 会对应一个”连续的” suffix 集合, 例如 <span id="MathJax-Element-91-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1091" class="math"><span id="MathJax-Span-1092" class="mrow"><span id="MathJax-Span-1093" class="mo">“</span><span id="MathJax-Span-1094" class="mi">a</span><span id="MathJax-Span-1095" class="mi">b</span><span id="MathJax-Span-1096" class="mi">c</span><span id="MathJax-Span-1097" class="mo">“</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>“</mo><mi>a</mi><mi>b</mi><mi>c</mi><mo>“</mo></math></span></span>, <span id="MathJax-Element-92-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1098" class="math"><span id="MathJax-Span-1099" class="mrow"><span id="MathJax-Span-1100" class="mo">“</span><span id="MathJax-Span-1101" class="mi">b</span><span id="MathJax-Span-1102" class="mi">c</span><span id="MathJax-Span-1103" class="mo">“</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>“</mo><mi>b</mi><mi>c</mi><mo>“</mo></math></span></span>, <span id="MathJax-Element-93-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1104" class="math"><span id="MathJax-Span-1105" class="mrow"><span id="MathJax-Span-1106" class="mo">“</span><span id="MathJax-Span-1107" class="mi">c</span><span id="MathJax-Span-1108" class="mo">“</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>“</mo><mi>c</mi><mo>“</mo></math></span></span>, 每个 substring 恰好是上一个 substring 的 suffix, 长度与上一个 substring 相差 1. 这真是一个美妙的特性呢!</p>
<h2 id="State’s-Suffix-Link"><a href="#State’s-Suffix-Link" class="headerlink" title="State’s Suffix Link"></a>State’s Suffix Link</h2><p>除了通过 symbol (字符), SAM 的 state 之间还有另外一种状态变化方式, 也就是 suffix link. 上个小节谈到, 给定一个 state <span id="MathJax-Element-94-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1109" class="math"><span id="MathJax-Span-1110" class="mrow"><span id="MathJax-Span-1111" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span>, <span id="MathJax-Element-95-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1112" class="math"><span id="MathJax-Span-1113" class="mrow"><span id="MathJax-Span-1114" class="mi">s</span><span id="MathJax-Span-1115" class="mi">u</span><span id="MathJax-Span-1116" class="mi">b</span><span id="MathJax-Span-1117" class="mi">s</span><span id="MathJax-Span-1118" class="mi">t</span><span id="MathJax-Span-1119" class="mi">r</span><span id="MathJax-Span-1120" class="mi">i</span><span id="MathJax-Span-1121" class="mi">n</span><span id="MathJax-Span-1122" class="mi">g</span><span id="MathJax-Span-1123" class="mi">s</span><span id="MathJax-Span-1124" class="mo">(</span><span id="MathJax-Span-1125" class="mi">u</span><span id="MathJax-Span-1126" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 可以通过 <span id="MathJax-Element-96-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1127" class="math"><span id="MathJax-Span-1128" class="mrow"><span id="MathJax-Span-1129" class="mi">l</span><span id="MathJax-Span-1130" class="mi">o</span><span id="MathJax-Span-1131" class="mi">n</span><span id="MathJax-Span-1132" class="mi">g</span><span id="MathJax-Span-1133" class="mi">e</span><span id="MathJax-Span-1134" class="mi">s</span><span id="MathJax-Span-1135" class="mi">t</span><span id="MathJax-Span-1136" class="mo">(</span><span id="MathJax-Span-1137" class="mi">u</span><span id="MathJax-Span-1138" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>, <span id="MathJax-Element-97-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1139" class="math"><span id="MathJax-Span-1140" class="mrow"><span id="MathJax-Span-1141" class="mi">m</span><span id="MathJax-Span-1142" class="mi">a</span><span id="MathJax-Span-1143" class="mi">x</span><span id="MathJax-Span-1144" class="mi">l</span><span id="MathJax-Span-1145" class="mi">e</span><span id="MathJax-Span-1146" class="mi">n</span><span id="MathJax-Span-1147" class="mo">(</span><span id="MathJax-Span-1148" class="mi">u</span><span id="MathJax-Span-1149" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>, <span id="MathJax-Element-98-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1150" class="math"><span id="MathJax-Span-1151" class="mrow"><span id="MathJax-Span-1152" class="mi">s</span><span id="MathJax-Span-1153" class="mi">h</span><span id="MathJax-Span-1154" class="mi">o</span><span id="MathJax-Span-1155" class="mi">r</span><span id="MathJax-Span-1156" class="mi">t</span><span id="MathJax-Span-1157" class="mi">e</span><span id="MathJax-Span-1158" class="mi">s</span><span id="MathJax-Span-1159" class="mi">t</span><span id="MathJax-Span-1160" class="mo">(</span><span id="MathJax-Span-1161" class="mi">u</span><span id="MathJax-Span-1162" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>h</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>, <span id="MathJax-Element-99-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1163" class="math"><span id="MathJax-Span-1164" class="mrow"><span id="MathJax-Span-1165" class="mi">m</span><span id="MathJax-Span-1166" class="mi">i</span><span id="MathJax-Span-1167" class="mi">n</span><span id="MathJax-Span-1168" class="mi">l</span><span id="MathJax-Span-1169" class="mi">e</span><span id="MathJax-Span-1170" class="mi">n</span><span id="MathJax-Span-1171" class="mo">(</span><span id="MathJax-Span-1172" class="mi">u</span><span id="MathJax-Span-1173" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 描述, 而且 <span id="MathJax-Element-100-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1174" class="math"><span id="MathJax-Span-1175" class="mrow"><span id="MathJax-Span-1176" class="mi">s</span><span id="MathJax-Span-1177" class="mi">u</span><span id="MathJax-Span-1178" class="mi">b</span><span id="MathJax-Span-1179" class="mi">s</span><span id="MathJax-Span-1180" class="mi">t</span><span id="MathJax-Span-1181" class="mi">r</span><span id="MathJax-Span-1182" class="mi">i</span><span id="MathJax-Span-1183" class="mi">n</span><span id="MathJax-Span-1184" class="mi">g</span><span id="MathJax-Span-1185" class="mi">s</span><span id="MathJax-Span-1186" class="mo">(</span><span id="MathJax-Span-1187" class="mi">u</span><span id="MathJax-Span-1188" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 是”连续”的. 我们将基于上述结论定义 suffix link.</p>
<p>给定 state <span id="MathJax-Element-101-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1189" class="math"><span id="MathJax-Span-1190" class="mrow"><span id="MathJax-Span-1191" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span>, <span id="MathJax-Element-102-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1192" class="math"><span id="MathJax-Span-1193" class="mrow"><span id="MathJax-Span-1194" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span>, 定义 <span id="MathJax-Element-103-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1195" class="math"><span id="MathJax-Span-1196" class="mrow"><span id="MathJax-Span-1197" class="mi">v</span><span id="MathJax-Span-1198" class="mo">=</span><span id="MathJax-Span-1199" class="mi">l</span><span id="MathJax-Span-1200" class="mi">i</span><span id="MathJax-Span-1201" class="mi">n</span><span id="MathJax-Span-1202" class="mi">k</span><span id="MathJax-Span-1203" class="mo">(</span><span id="MathJax-Span-1204" class="mi">u</span><span id="MathJax-Span-1205" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>, 意为存在 from <span id="MathJax-Element-104-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1206" class="math"><span id="MathJax-Span-1207" class="mrow"><span id="MathJax-Span-1208" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> to <span id="MathJax-Element-105-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1209" class="math"><span id="MathJax-Span-1210" class="mrow"><span id="MathJax-Span-1211" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span> 的 suffix link, 其中 <span id="MathJax-Element-106-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1212" class="math"><span id="MathJax-Span-1213" class="mrow"><span id="MathJax-Span-1214" class="mi">m</span><span id="MathJax-Span-1215" class="mi">a</span><span id="MathJax-Span-1216" class="mi">x</span><span id="MathJax-Span-1217" class="mi">l</span><span id="MathJax-Span-1218" class="mi">e</span><span id="MathJax-Span-1219" class="mi">n</span><span id="MathJax-Span-1220" class="mo">(</span><span id="MathJax-Span-1221" class="mi">v</span><span id="MathJax-Span-1222" class="mo">)</span><span id="MathJax-Span-1223" class="mo">+</span><span id="MathJax-Span-1224" class="mn">1</span><span id="MathJax-Span-1225" class="mo">=</span><span id="MathJax-Span-1226" class="mi">m</span><span id="MathJax-Span-1227" class="mi">i</span><span id="MathJax-Span-1228" class="mi">n</span><span id="MathJax-Span-1229" class="mi">l</span><span id="MathJax-Span-1230" class="mi">e</span><span id="MathJax-Span-1231" class="mi">n</span><span id="MathJax-Span-1232" class="mo">(</span><span id="MathJax-Span-1233" class="mi">u</span><span id="MathJax-Span-1234" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>. 例如, 对于 <span id="MathJax-Element-107-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo&gt;=&amp;quot;&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1235" class="math"><span id="MathJax-Span-1236" class="mrow"><span id="MathJax-Span-1237" class="mi">T</span><span id="MathJax-Span-1238" class="mo">=”</span><span id="MathJax-Span-1239" class="mi">a</span><span id="MathJax-Span-1240" class="mi">b</span><span id="MathJax-Span-1241" class="mi">c</span><span id="MathJax-Span-1242" class="mi">b</span><span id="MathJax-Span-1243" class="mo">“</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo>=”</mo><mi>a</mi><mi>b</mi><mi>c</mi><mi>b</mi><mo>“</mo></math></span></span>, 有如下的 SAM 结构:</p>
<p><img src="http://huntzhan.org/content/images/2016/07/abcb-3.png" alt="abcb.png"></p>
<p>可以看到, 相比于之前的图例, 上图中加入了蓝色的 edges, 这些蓝色的 edges 就是 suffix links. 同时, 在图例中的每个 state <span id="MathJax-Element-108-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1244" class="math"><span id="MathJax-Span-1245" class="mrow"><span id="MathJax-Span-1246" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 里标记了 <span id="MathJax-Element-109-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1247" class="math"><span id="MathJax-Span-1248" class="mrow"><span id="MathJax-Span-1249" class="mi">l</span><span id="MathJax-Span-1250" class="mi">o</span><span id="MathJax-Span-1251" class="mi">n</span><span id="MathJax-Span-1252" class="mi">g</span><span id="MathJax-Span-1253" class="mi">e</span><span id="MathJax-Span-1254" class="mi">s</span><span id="MathJax-Span-1255" class="mi">t</span><span id="MathJax-Span-1256" class="mo">(</span><span id="MathJax-Span-1257" class="mi">u</span><span id="MathJax-Span-1258" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 与 <span id="MathJax-Element-110-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1259" class="math"><span id="MathJax-Span-1260" class="mrow"><span id="MathJax-Span-1261" class="mi">s</span><span id="MathJax-Span-1262" class="mi">h</span><span id="MathJax-Span-1263" class="mi">o</span><span id="MathJax-Span-1264" class="mi">r</span><span id="MathJax-Span-1265" class="mi">t</span><span id="MathJax-Span-1266" class="mi">e</span><span id="MathJax-Span-1267" class="mi">s</span><span id="MathJax-Span-1268" class="mi">t</span><span id="MathJax-Span-1269" class="mo">(</span><span id="MathJax-Span-1270" class="mi">u</span><span id="MathJax-Span-1271" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>h</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>, 以方便理解. 在上图中可以看到, state <span id="MathJax-Element-111-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1272" class="math"><span id="MathJax-Span-1273" class="mrow"><span id="MathJax-Span-1274" class="mo">[</span><span id="MathJax-Span-1275" class="mo">“</span><span id="MathJax-Span-1276" class="mi">a</span><span id="MathJax-Span-1277" class="mi">b</span><span id="MathJax-Span-1278" class="mi">c</span><span id="MathJax-Span-1279" class="mi">b</span><span id="MathJax-Span-1280" class="mo">“</span><span id="MathJax-Span-1281" class="mo">,</span><span id="MathJax-Span-1282" class="mo">“</span><span id="MathJax-Span-1283" class="mi">c</span><span id="MathJax-Span-1284" class="mi">b</span><span id="MathJax-Span-1285" class="mo">“</span><span id="MathJax-Span-1286" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>“</mo><mi>a</mi><mi>b</mi><mi>c</mi><mi>b</mi><mo>“</mo><mo>,</mo><mo>“</mo><mi>c</mi><mi>b</mi><mo>“</mo><mo stretchy="false">]</mo></math></span></span> (也就是最右边的 state) 通过 suffix link 指向 state <span id="MathJax-Element-112-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1287" class="math"><span id="MathJax-Span-1288" class="mrow"><span id="MathJax-Span-1289" class="mo">[</span><span id="MathJax-Span-1290" class="mo">“</span><span id="MathJax-Span-1291" class="mi">b</span><span id="MathJax-Span-1292" class="mo">“</span><span id="MathJax-Span-1293" class="mo">,</span><span id="MathJax-Span-1294" class="mo">“</span><span id="MathJax-Span-1295" class="mi">b</span><span id="MathJax-Span-1296" class="mo">“</span><span id="MathJax-Span-1297" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>“</mo><mi>b</mi><mo>“</mo><mo>,</mo><mo>“</mo><mi>b</mi><mo>“</mo><mo stretchy="false">]</mo></math></span></span>, state <span id="MathJax-Element-113-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1298" class="math"><span id="MathJax-Span-1299" class="mrow"><span id="MathJax-Span-1300" class="mo">[</span><span id="MathJax-Span-1301" class="mo">“</span><span id="MathJax-Span-1302" class="mi">b</span><span id="MathJax-Span-1303" class="mo">“</span><span id="MathJax-Span-1304" class="mo">,</span><span id="MathJax-Span-1305" class="mo">“</span><span id="MathJax-Span-1306" class="mi">b</span><span id="MathJax-Span-1307" class="mo">“</span><span id="MathJax-Span-1308" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>“</mo><mi>b</mi><mo>“</mo><mo>,</mo><mo>“</mo><mi>b</mi><mo>“</mo><mo stretchy="false">]</mo></math></span></span> 再通过 suffix link 指向 start state. 其中,<span id="MathJax-Element-114-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1309" class="math"><span id="MathJax-Span-1310" class="mrow"><span id="MathJax-Span-1311" class="mi">m</span><span id="MathJax-Span-1312" class="mi">a</span><span id="MathJax-Span-1313" class="mi">x</span><span id="MathJax-Span-1314" class="mi">l</span><span id="MathJax-Span-1315" class="mi">e</span><span id="MathJax-Span-1316" class="mi">n</span><span id="MathJax-Span-1317" class="mo">(</span><span id="MathJax-Span-1318" class="mo">[</span><span id="MathJax-Span-1319" class="mo">“</span><span id="MathJax-Span-1320" class="mi">b</span><span id="MathJax-Span-1321" class="mo">“</span><span id="MathJax-Span-1322" class="mo">,</span><span id="MathJax-Span-1323" class="mo">“</span><span id="MathJax-Span-1324" class="mi">b</span><span id="MathJax-Span-1325" class="mo">“</span><span id="MathJax-Span-1326" class="mo">]</span><span id="MathJax-Span-1327" class="mo">)</span><span id="MathJax-Span-1328" class="mo">+</span><span id="MathJax-Span-1329" class="mn">1</span><span id="MathJax-Span-1330" class="mo">=</span><span id="MathJax-Span-1331" class="mi">m</span><span id="MathJax-Span-1332" class="mi">i</span><span id="MathJax-Span-1333" class="mi">n</span><span id="MathJax-Span-1334" class="mi">l</span><span id="MathJax-Span-1335" class="mi">e</span><span id="MathJax-Span-1336" class="mi">n</span><span id="MathJax-Span-1337" class="mo">(</span><span id="MathJax-Span-1338" class="mo">[</span><span id="MathJax-Span-1339" class="mo">“</span><span id="MathJax-Span-1340" class="mi">a</span><span id="MathJax-Span-1341" class="mi">b</span><span id="MathJax-Span-1342" class="mi">c</span><span id="MathJax-Span-1343" class="mi">b</span><span id="MathJax-Span-1344" class="mo">“</span><span id="MathJax-Span-1345" class="mo">,</span><span id="MathJax-Span-1346" class="mo">“</span><span id="MathJax-Span-1347" class="mi">c</span><span id="MathJax-Span-1348" class="mi">b</span><span id="MathJax-Span-1349" class="mo">“</span><span id="MathJax-Span-1350" class="mo">]</span><span id="MathJax-Span-1351" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mo stretchy="false">[</mo><mo>“</mo><mi>b</mi><mo>“</mo><mo>,</mo><mo>“</mo><mi>b</mi><mo>“</mo><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mo stretchy="false">[</mo><mo>“</mo><mi>a</mi><mi>b</mi><mi>c</mi><mi>b</mi><mo>“</mo><mo>,</mo><mo>“</mo><mi>c</mi><mi>b</mi><mo>“</mo><mo stretchy="false">]</mo><mo stretchy="false">)</mo></math></span></span>.</p>
<p>为了简化表述, 引入以下与 suffix link 相关的符号与术语:</p>
<ul>
<li><span id="MathJax-Element-115-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-1352" class="math"><span id="MathJax-Span-1353" class="mrow"><span id="MathJax-Span-1354" class="msubsup"><span id="MathJax-Span-1355" class="mi">T</span><span id="MathJax-Span-1356" class="mi">i</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>i</mi></msub></math></span></span>: 表示 <span id="MathJax-Element-116-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1357" class="math"><span id="MathJax-Span-1358" class="mrow"><span id="MathJax-Span-1359" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span> 中以 <span id="MathJax-Element-117-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1360" class="math"><span id="MathJax-Span-1361" class="mrow"><span id="MathJax-Span-1362" class="mi">T</span><span id="MathJax-Span-1363" class="mo">[</span><span id="MathJax-Span-1364" class="mi">i</span><span id="MathJax-Span-1365" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></math></span></span> 结尾的 prefix.</li>
<li><strong>Suffix-link path</strong> from <span id="MathJax-Element-118-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1366" class="math"><span id="MathJax-Span-1367" class="mrow"><span id="MathJax-Span-1368" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> to <span id="MathJax-Element-119-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1369" class="math"><span id="MathJax-Span-1370" class="mrow"><span id="MathJax-Span-1371" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span>: 从 state <span id="MathJax-Element-120-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1372" class="math"><span id="MathJax-Span-1373" class="mrow"><span id="MathJax-Span-1374" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 到 state <span id="MathJax-Element-121-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1375" class="math"><span id="MathJax-Span-1376" class="mrow"><span id="MathJax-Span-1377" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span> 的, 一条使用 suffix link 相连的路径.<br>直观来讲, SAM 会把 <span id="MathJax-Element-122-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-1378" class="math"><span id="MathJax-Span-1379" class="mrow"><span id="MathJax-Span-1380" class="msubsup"><span id="MathJax-Span-1381" class="mi">T</span><span id="MathJax-Span-1382" class="mi">i</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>i</mi></msub></math></span></span> 的 suffix 集合 (注意, 我这里用的不是 substring) <span id="MathJax-Element-123-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1383" class="math"><span id="MathJax-Span-1384" class="mrow"><span id="MathJax-Span-1385" class="mo">[</span><span id="MathJax-Span-1386" class="mo">“”</span><span id="MathJax-Span-1387" class="mo">,</span><span id="MathJax-Span-1388" class="msubsup"><span id="MathJax-Span-1389" class="mi">T</span><span id="MathJax-Span-1390" class="mi">i</span></span><span id="MathJax-Span-1391" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>“”</mo><mo>,</mo><msub><mi>T</mi><mi>i</mi></msub><mo stretchy="false">]</mo></math></span></span> 切成几个区间, 每个区间可以视为一个 state, state 之间使用 suffix link 连接. 所以, 对于某个满足 <span id="MathJax-Element-124-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-1392" class="math"><span id="MathJax-Span-1393" class="mrow"><span id="MathJax-Span-1394" class="mi">l</span><span id="MathJax-Span-1395" class="mi">o</span><span id="MathJax-Span-1396" class="mi">n</span><span id="MathJax-Span-1397" class="mi">g</span><span id="MathJax-Span-1398" class="mi">e</span><span id="MathJax-Span-1399" class="mi">s</span><span id="MathJax-Span-1400" class="mi">t</span><span id="MathJax-Span-1401" class="mo">(</span><span id="MathJax-Span-1402" class="mi">u</span><span id="MathJax-Span-1403" class="mo">)</span><span id="MathJax-Span-1404" class="mo">=</span><span id="MathJax-Span-1405" class="msubsup"><span id="MathJax-Span-1406" class="mi">T</span><span id="MathJax-Span-1407" class="mi">i</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>T</mi><mi>i</mi></msub></math></span></span> 的 state <span id="MathJax-Element-125-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1408" class="math"><span id="MathJax-Span-1409" class="mrow"><span id="MathJax-Span-1410" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> , 考虑 suffix-link path from <span id="MathJax-Element-126-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1411" class="math"><span id="MathJax-Span-1412" class="mrow"><span id="MathJax-Span-1413" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> to start state 上的所有 states, 对这些 states 对应的 <span id="MathJax-Element-127-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1414" class="math"><span id="MathJax-Span-1415" class="mrow"><span id="MathJax-Span-1416" class="mi">s</span><span id="MathJax-Span-1417" class="mi">u</span><span id="MathJax-Span-1418" class="mi">b</span><span id="MathJax-Span-1419" class="mi">s</span><span id="MathJax-Span-1420" class="mi">t</span><span id="MathJax-Span-1421" class="mi">r</span><span id="MathJax-Span-1422" class="mi">i</span><span id="MathJax-Span-1423" class="mi">n</span><span id="MathJax-Span-1424" class="mi">g</span><span id="MathJax-Span-1425" class="mi">s</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi></math></span></span> 集合做 union 操作, 即可得到 suffix 集合 <span id="MathJax-Element-128-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1426" class="math"><span id="MathJax-Span-1427" class="mrow"><span id="MathJax-Span-1428" class="mo">[</span><span id="MathJax-Span-1429" class="mo">“”</span><span id="MathJax-Span-1430" class="mo">,</span><span id="MathJax-Span-1431" class="msubsup"><span id="MathJax-Span-1432" class="mi">T</span><span id="MathJax-Span-1433" class="mi">i</span></span><span id="MathJax-Span-1434" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>“”</mo><mo>,</mo><msub><mi>T</mi><mi>i</mi></msub><mo stretchy="false">]</mo></math></span></span>. 以下是 <span id="MathJax-Element-129-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&amp;quot;&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1435" class="math"><span id="MathJax-Span-1436" class="mrow"><span id="MathJax-Span-1437" class="mi">l</span><span id="MathJax-Span-1438" class="mi">o</span><span id="MathJax-Span-1439" class="mi">n</span><span id="MathJax-Span-1440" class="mi">g</span><span id="MathJax-Span-1441" class="mi">e</span><span id="MathJax-Span-1442" class="mi">s</span><span id="MathJax-Span-1443" class="mi">t</span><span id="MathJax-Span-1444" class="mo">(</span><span id="MathJax-Span-1445" class="mi">u</span><span id="MathJax-Span-1446" class="mo">)</span><span id="MathJax-Span-1447" class="mo">=”</span><span id="MathJax-Span-1448" class="mi">a</span><span id="MathJax-Span-1449" class="mi">b</span><span id="MathJax-Span-1450" class="mi">c</span><span id="MathJax-Span-1451" class="mi">d</span><span id="MathJax-Span-1452" class="mi">e</span><span id="MathJax-Span-1453" class="mo">“</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo>=”</mo><mi>a</mi><mi>b</mi><mi>c</mi><mi>d</mi><mi>e</mi><mo>“</mo></math></span></span> 的图例:</li>
</ul>
<p><img src="http://huntzhan.org/content/images/2016/07/suffix-link-1.png" alt="suffix-link.png"></p>
<p>可以看到, suffix 集合 <span id="MathJax-Element-130-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1454" class="math"><span id="MathJax-Span-1455" class="mrow"><span id="MathJax-Span-1456" class="mo">[</span><span id="MathJax-Span-1457" class="mo">“”</span><span id="MathJax-Span-1458" class="mo">,</span><span id="MathJax-Span-1459" class="mo">“</span><span id="MathJax-Span-1460" class="mi">a</span><span id="MathJax-Span-1461" class="mi">b</span><span id="MathJax-Span-1462" class="mi">c</span><span id="MathJax-Span-1463" class="mi">d</span><span id="MathJax-Span-1464" class="mi">e</span><span id="MathJax-Span-1465" class="mo">“</span><span id="MathJax-Span-1466" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>“”</mo><mo>,</mo><mo>“</mo><mi>a</mi><mi>b</mi><mi>c</mi><mi>d</mi><mi>e</mi><mo>“</mo><mo stretchy="false">]</mo></math></span></span> 被划分成 <span id="MathJax-Element-131-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1467" class="math"><span id="MathJax-Span-1468" class="mrow"><span id="MathJax-Span-1469" class="mo">[</span><span id="MathJax-Span-1470" class="mo">“”</span><span id="MathJax-Span-1471" class="mo">,</span><span id="MathJax-Span-1472" class="mo">“”</span><span id="MathJax-Span-1473" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>“”</mo><mo>,</mo><mo>“”</mo><mo stretchy="false">]</mo></math></span></span>, <span id="MathJax-Element-132-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1474" class="math"><span id="MathJax-Span-1475" class="mrow"><span id="MathJax-Span-1476" class="mo">[</span><span id="MathJax-Span-1477" class="mo">“</span><span id="MathJax-Span-1478" class="mi">e</span><span id="MathJax-Span-1479" class="mo">“</span><span id="MathJax-Span-1480" class="mo">,</span><span id="MathJax-Span-1481" class="mo">“</span><span id="MathJax-Span-1482" class="mi">e</span><span id="MathJax-Span-1483" class="mo">“</span><span id="MathJax-Span-1484" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>“</mo><mi>e</mi><mo>“</mo><mo>,</mo><mo>“</mo><mi>e</mi><mo>“</mo><mo stretchy="false">]</mo></math></span></span>, <span id="MathJax-Element-133-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1485" class="math"><span id="MathJax-Span-1486" class="mrow"><span id="MathJax-Span-1487" class="mo">[</span><span id="MathJax-Span-1488" class="mo">“</span><span id="MathJax-Span-1489" class="mi">d</span><span id="MathJax-Span-1490" class="mi">e</span><span id="MathJax-Span-1491" class="mo">“</span><span id="MathJax-Span-1492" class="mo">,</span><span id="MathJax-Span-1493" class="mo">“</span><span id="MathJax-Span-1494" class="mi">c</span><span id="MathJax-Span-1495" class="mi">d</span><span id="MathJax-Span-1496" class="mi">e</span><span id="MathJax-Span-1497" class="mo">“</span><span id="MathJax-Span-1498" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>“</mo><mi>d</mi><mi>e</mi><mo>“</mo><mo>,</mo><mo>“</mo><mi>c</mi><mi>d</mi><mi>e</mi><mo>“</mo><mo stretchy="false">]</mo></math></span></span>, <span id="MathJax-Element-134-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1499" class="math"><span id="MathJax-Span-1500" class="mrow"><span id="MathJax-Span-1501" class="mo">[</span><span id="MathJax-Span-1502" class="mo">“</span><span id="MathJax-Span-1503" class="mi">b</span><span id="MathJax-Span-1504" class="mi">c</span><span id="MathJax-Span-1505" class="mi">d</span><span id="MathJax-Span-1506" class="mi">e</span><span id="MathJax-Span-1507" class="mo">“</span><span id="MathJax-Span-1508" class="mo">,</span><span id="MathJax-Span-1509" class="mo">“</span><span id="MathJax-Span-1510" class="mi">a</span><span id="MathJax-Span-1511" class="mi">b</span><span id="MathJax-Span-1512" class="mi">c</span><span id="MathJax-Span-1513" class="mi">d</span><span id="MathJax-Span-1514" class="mi">e</span><span id="MathJax-Span-1515" class="mo">“</span><span id="MathJax-Span-1516" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>“</mo><mi>b</mi><mi>c</mi><mi>d</mi><mi>e</mi><mo>“</mo><mo>,</mo><mo>“</mo><mi>a</mi><mi>b</mi><mi>c</mi><mi>d</mi><mi>e</mi><mo>“</mo><mo stretchy="false">]</mo></math></span></span> 4 个区间, 其间通过 suffix link 相连.</p>
<h2 id="State’s-Transitions"><a href="#State’s-Transitions" class="headerlink" title="State’s Transitions"></a>State’s Transitions</h2><p>现在我们来深入探讨一下 SAM 里面的 state transition 的含义. 需要注意的是, <em>就 DFA 的定义而言</em>, suffix link 与 state transition 是没有关系的, 原因是 suffix link 并没有被 symbol labeled, 这不符合 DFA 里 <em>transition function</em> 的定义. 这也是为什么我在上一小节使用”<em>状态变化</em>“来描述 suffix link, 因为 suffix link 并不是”<em>状态转移</em>“. (但在 SAM 的结构里两者是有关系的, 本小节会讨论这一关系)</p>
<p>给定一个 state <span id="MathJax-Element-135-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1517" class="math"><span id="MathJax-Span-1518" class="mrow"><span id="MathJax-Span-1519" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 与 symbol <span id="MathJax-Element-136-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1520" class="math"><span id="MathJax-Span-1521" class="mrow"><span id="MathJax-Span-1522" class="mi">c</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi></math></span></span>, 定义 <span id="MathJax-Element-137-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1523" class="math"><span id="MathJax-Span-1524" class="mrow"><span id="MathJax-Span-1525" class="mi">t</span><span id="MathJax-Span-1526" class="mi">r</span><span id="MathJax-Span-1527" class="mi">a</span><span id="MathJax-Span-1528" class="mi">n</span><span id="MathJax-Span-1529" class="mi">s</span><span id="MathJax-Span-1530" class="mo">(</span><span id="MathJax-Span-1531" class="mi">u</span><span id="MathJax-Span-1532" class="mo">,</span><span id="MathJax-Span-1533" class="mi">c</span><span id="MathJax-Span-1534" class="mo">)</span><span id="MathJax-Span-1535" class="mo">=</span><span id="MathJax-Span-1536" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>c</mi><mo stretchy="false">)</mo><mo>=</mo><mi>v</mi></math></span></span>, 表示从 state <span id="MathJax-Element-138-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1537" class="math"><span id="MathJax-Span-1538" class="mrow"><span id="MathJax-Span-1539" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 到 state <span id="MathJax-Element-139-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1540" class="math"><span id="MathJax-Span-1541" class="mrow"><span id="MathJax-Span-1542" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span> 存在 state transition 路径, 该路径通过 symbol <span id="MathJax-Element-140-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1543" class="math"><span id="MathJax-Span-1544" class="mrow"><span id="MathJax-Span-1545" class="mi">c</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi></math></span></span> 标识. 在本文的图例中, state transition 一律使用黑色的 edge 表示.</p>
<p>为了深入理解 SAM state transition 的含义, 需要思考一个问题: <strong>如果存在 <span id="MathJax-Element-141-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1546" class="math"><span id="MathJax-Span-1547" class="mrow"><span id="MathJax-Span-1548" class="mi">t</span><span id="MathJax-Span-1549" class="mi">r</span><span id="MathJax-Span-1550" class="mi">a</span><span id="MathJax-Span-1551" class="mi">n</span><span id="MathJax-Span-1552" class="mi">s</span><span id="MathJax-Span-1553" class="mo">(</span><span id="MathJax-Span-1554" class="mi">u</span><span id="MathJax-Span-1555" class="mo">,</span><span id="MathJax-Span-1556" class="mi">c</span><span id="MathJax-Span-1557" class="mo">)</span><span id="MathJax-Span-1558" class="mo">=</span><span id="MathJax-Span-1559" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>c</mi><mo stretchy="false">)</mo><mo>=</mo><mi>v</mi></math></span></span>, state <span id="MathJax-Element-142-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1560" class="math"><span id="MathJax-Span-1561" class="mrow"><span id="MathJax-Span-1562" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span> 与 state <span id="MathJax-Element-143-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1563" class="math"><span id="MathJax-Span-1564" class="mrow"><span id="MathJax-Span-1565" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 有什么关系?</strong></p>
<p>由于有 <span id="MathJax-Element-144-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1566" class="math"><span id="MathJax-Span-1567" class="mrow"><span id="MathJax-Span-1568" class="mi">t</span><span id="MathJax-Span-1569" class="mi">r</span><span id="MathJax-Span-1570" class="mi">a</span><span id="MathJax-Span-1571" class="mi">n</span><span id="MathJax-Span-1572" class="mi">s</span><span id="MathJax-Span-1573" class="mo">(</span><span id="MathJax-Span-1574" class="mi">u</span><span id="MathJax-Span-1575" class="mo">,</span><span id="MathJax-Span-1576" class="mi">c</span><span id="MathJax-Span-1577" class="mo">)</span><span id="MathJax-Span-1578" class="mo">=</span><span id="MathJax-Span-1579" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>c</mi><mo stretchy="false">)</mo><mo>=</mo><mi>v</mi></math></span></span>, 那么必有 <span id="MathJax-Element-145-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;#x2223;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;&amp;#x2286;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1580" class="math"><span id="MathJax-Span-1581" class="mrow"><span id="MathJax-Span-1582" class="mo">{</span><span id="MathJax-Span-1583" class="msubsup"><span id="MathJax-Span-1584" class="mi">s</span><span id="MathJax-Span-1585" class="mi">i</span></span><span id="MathJax-Span-1586" class="mo">+</span><span id="MathJax-Span-1587" class="mi">c</span><span id="MathJax-Span-1588" class="mo">∣</span><span id="MathJax-Span-1589" class="msubsup"><span id="MathJax-Span-1590" class="mi">s</span><span id="MathJax-Span-1591" class="mi">i</span></span><span id="MathJax-Span-1592" class="mo">∈</span><span id="MathJax-Span-1593" class="mi">s</span><span id="MathJax-Span-1594" class="mi">u</span><span id="MathJax-Span-1595" class="mi">b</span><span id="MathJax-Span-1596" class="mi">s</span><span id="MathJax-Span-1597" class="mi">t</span><span id="MathJax-Span-1598" class="mi">r</span><span id="MathJax-Span-1599" class="mi">i</span><span id="MathJax-Span-1600" class="mi">n</span><span id="MathJax-Span-1601" class="mi">g</span><span id="MathJax-Span-1602" class="mi">s</span><span id="MathJax-Span-1603" class="mo">(</span><span id="MathJax-Span-1604" class="mi">u</span><span id="MathJax-Span-1605" class="mo">)</span><span id="MathJax-Span-1606" class="mo">}</span><span id="MathJax-Span-1607" class="mo">⊆</span><span id="MathJax-Span-1608" class="mi">s</span><span id="MathJax-Span-1609" class="mi">u</span><span id="MathJax-Span-1610" class="mi">b</span><span id="MathJax-Span-1611" class="mi">s</span><span id="MathJax-Span-1612" class="mi">t</span><span id="MathJax-Span-1613" class="mi">r</span><span id="MathJax-Span-1614" class="mi">i</span><span id="MathJax-Span-1615" class="mi">n</span><span id="MathJax-Span-1616" class="mi">g</span><span id="MathJax-Span-1617" class="mi">s</span><span id="MathJax-Span-1618" class="mo">(</span><span id="MathJax-Span-1619" class="mi">v</span><span id="MathJax-Span-1620" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">{</mo><msub><mi>s</mi><mi>i</mi></msub><mo>+</mo><mi>c</mi><mo>∣</mo><msub><mi>s</mi><mi>i</mi></msub><mo>∈</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo fence="false" stretchy="false">}</mo><mo>⊆</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></math></span></span>, 也就是说, 往 state <span id="MathJax-Element-146-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1621" class="math"><span id="MathJax-Span-1622" class="mrow"><span id="MathJax-Span-1623" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 的对应的 substrings 后面拼接 symbol <span id="MathJax-Element-147-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1624" class="math"><span id="MathJax-Span-1625" class="mrow"><span id="MathJax-Span-1626" class="mi">c</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi></math></span></span>, 得到的新 substrings 集合必然包含于 <span id="MathJax-Element-148-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1627" class="math"><span id="MathJax-Span-1628" class="mrow"><span id="MathJax-Span-1629" class="mi">s</span><span id="MathJax-Span-1630" class="mi">u</span><span id="MathJax-Span-1631" class="mi">b</span><span id="MathJax-Span-1632" class="mi">s</span><span id="MathJax-Span-1633" class="mi">t</span><span id="MathJax-Span-1634" class="mi">r</span><span id="MathJax-Span-1635" class="mi">i</span><span id="MathJax-Span-1636" class="mi">n</span><span id="MathJax-Span-1637" class="mi">g</span><span id="MathJax-Span-1638" class="mi">s</span><span id="MathJax-Span-1639" class="mo">(</span><span id="MathJax-Span-1640" class="mi">v</span><span id="MathJax-Span-1641" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></math></span></span>.</p>
<p>而且, 考虑到 <span id="MathJax-Element-149-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1642" class="math"><span id="MathJax-Span-1643" class="mrow"><span id="MathJax-Span-1644" class="mi">s</span><span id="MathJax-Span-1645" class="mi">u</span><span id="MathJax-Span-1646" class="mi">b</span><span id="MathJax-Span-1647" class="mi">s</span><span id="MathJax-Span-1648" class="mi">t</span><span id="MathJax-Span-1649" class="mi">r</span><span id="MathJax-Span-1650" class="mi">i</span><span id="MathJax-Span-1651" class="mi">n</span><span id="MathJax-Span-1652" class="mi">g</span><span id="MathJax-Span-1653" class="mi">s</span><span id="MathJax-Span-1654" class="mo">(</span><span id="MathJax-Span-1655" class="mi">v</span><span id="MathJax-Span-1656" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></math></span></span> 里的 substring 都是以某个 symbol <span id="MathJax-Element-150-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1657" class="math"><span id="MathJax-Span-1658" class="mrow"><span id="MathJax-Span-1659" class="mi">c</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi></math></span></span> 结尾的, 我们可以知道, 对于 SAM 里所有合法的 state transitions <span id="MathJax-Element-151-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1660" class="math"><span id="MathJax-Span-1661" class="mrow"><span id="MathJax-Span-1662" class="mi">t</span><span id="MathJax-Span-1663" class="mi">r</span><span id="MathJax-Span-1664" class="mi">a</span><span id="MathJax-Span-1665" class="mi">n</span><span id="MathJax-Span-1666" class="mi">s</span><span id="MathJax-Span-1667" class="mo">(</span><span id="MathJax-Span-1668" class="msubsup"><span id="MathJax-Span-1669" class="mi">u</span><span id="MathJax-Span-1670" class="mi">i</span></span><span id="MathJax-Span-1671" class="mo">,</span><span id="MathJax-Span-1672" class="msubsup"><span id="MathJax-Span-1673" class="mi">c</span><span id="MathJax-Span-1674" class="mi">i</span></span><span id="MathJax-Span-1675" class="mo">)</span><span id="MathJax-Span-1676" class="mo">=</span><span id="MathJax-Span-1677" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>u</mi><mi>i</mi></msub><mo>,</mo><msub><mi>c</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>v</mi></math></span></span>, 必有 <span id="MathJax-Element-152-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1678" class="math"><span id="MathJax-Span-1679" class="mrow"><span id="MathJax-Span-1680" class="msubsup"><span id="MathJax-Span-1681" class="mi">c</span><span id="MathJax-Span-1682" class="mi">i</span></span><span id="MathJax-Span-1683" class="mo">=</span><span id="MathJax-Span-1684" class="mi">c</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>c</mi><mi>i</mi></msub><mo>=</mo><mi>c</mi></math></span></span>, 也就是说, 所有以 <span id="MathJax-Element-153-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1685" class="math"><span id="MathJax-Span-1686" class="mrow"><span id="MathJax-Span-1687" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span>为终点的 transition , 必然带有相同的 symbol!</p>
<p>我们现在来考虑 indegrees <span id="MathJax-Element-154-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;#x2265;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;"><span id="MathJax-Span-1688" class="math"><span id="MathJax-Span-1689" class="mrow"><span id="MathJax-Span-1690" class="mo">≥</span><span id="MathJax-Span-1691" class="mn">1</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≥</mo><mn>1</mn></math></span></span> 的情况, 还是以 <span id="MathJax-Element-155-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo&gt;=&amp;quot;&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1692" class="math"><span id="MathJax-Span-1693" class="mrow"><span id="MathJax-Span-1694" class="mi">T</span><span id="MathJax-Span-1695" class="mo">=”</span><span id="MathJax-Span-1696" class="mi">a</span><span id="MathJax-Span-1697" class="mi">b</span><span id="MathJax-Span-1698" class="mi">c</span><span id="MathJax-Span-1699" class="mi">b</span><span id="MathJax-Span-1700" class="mo">“</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo>=”</mo><mi>a</mi><mi>b</mi><mi>c</mi><mi>b</mi><mo>“</mo></math></span></span> 为例:</p>
<p><img src="http://huntzhan.org/content/images/2016/07/trans-1.png" alt="trans.png"></p>
<p>在上图中, 设</p>
<ul>
<li><span id="MathJax-Element-156-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1701" class="math"><span id="MathJax-Span-1702" class="mrow"><span id="MathJax-Span-1703" class="mi">s</span><span id="MathJax-Span-1704" class="mi">t</span><span id="MathJax-Span-1705" class="mi">a</span><span id="MathJax-Span-1706" class="mi">r</span><span id="MathJax-Span-1707" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></math></span></span>: start state, 等价于 state <span id="MathJax-Element-157-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1708" class="math"><span id="MathJax-Span-1709" class="mrow"><span id="MathJax-Span-1710" class="mo">[</span><span id="MathJax-Span-1711" class="mo">“”</span><span id="MathJax-Span-1712" class="mo">,</span><span id="MathJax-Span-1713" class="mo">“”</span><span id="MathJax-Span-1714" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>“”</mo><mo>,</mo><mo>“”</mo><mo stretchy="false">]</mo></math></span></span> (最左, green 标记)</li>
<li><span id="MathJax-Element-158-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-1715" class="math"><span id="MathJax-Span-1716" class="mrow"><span id="MathJax-Span-1717" class="msubsup"><span id="MathJax-Span-1718" class="mi">s</span><span id="MathJax-Span-1719" class="mn">1</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>1</mn></msub></math></span></span>: state <span id="MathJax-Element-159-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1720" class="math"><span id="MathJax-Span-1721" class="mrow"><span id="MathJax-Span-1722" class="mo">[</span><span id="MathJax-Span-1723" class="mo">“</span><span id="MathJax-Span-1724" class="mi">b</span><span id="MathJax-Span-1725" class="mo">“</span><span id="MathJax-Span-1726" class="mo">,</span><span id="MathJax-Span-1727" class="mo">“</span><span id="MathJax-Span-1728" class="mi">b</span><span id="MathJax-Span-1729" class="mo">“</span><span id="MathJax-Span-1730" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>“</mo><mi>b</mi><mo>“</mo><mo>,</mo><mo>“</mo><mi>b</mi><mo>“</mo><mo stretchy="false">]</mo></math></span></span> (green 标记)</li>
<li><span id="MathJax-Element-160-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-1731" class="math"><span id="MathJax-Span-1732" class="mrow"><span id="MathJax-Span-1733" class="msubsup"><span id="MathJax-Span-1734" class="mi">s</span><span id="MathJax-Span-1735" class="mn">2</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>2</mn></msub></math></span></span>: state <span id="MathJax-Element-161-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1736" class="math"><span id="MathJax-Span-1737" class="mrow"><span id="MathJax-Span-1738" class="mo">[</span><span id="MathJax-Span-1739" class="mo">“</span><span id="MathJax-Span-1740" class="mi">a</span><span id="MathJax-Span-1741" class="mi">b</span><span id="MathJax-Span-1742" class="mo">“</span><span id="MathJax-Span-1743" class="mo">,</span><span id="MathJax-Span-1744" class="mo">“</span><span id="MathJax-Span-1745" class="mi">a</span><span id="MathJax-Span-1746" class="mi">b</span><span id="MathJax-Span-1747" class="mo">“</span><span id="MathJax-Span-1748" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>“</mo><mi>a</mi><mi>b</mi><mo>“</mo><mo>,</mo><mo>“</mo><mi>a</mi><mi>b</mi><mo>“</mo><mo stretchy="false">]</mo></math></span></span> (green 标记)</li>
<li><span id="MathJax-Element-162-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1749" class="math"><span id="MathJax-Span-1750" class="mrow"><span id="MathJax-Span-1751" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span>: state <span id="MathJax-Element-163-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1752" class="math"><span id="MathJax-Span-1753" class="mrow"><span id="MathJax-Span-1754" class="mo">[</span><span id="MathJax-Span-1755" class="mo">“</span><span id="MathJax-Span-1756" class="mi">c</span><span id="MathJax-Span-1757" class="mo">“</span><span id="MathJax-Span-1758" class="mo">,</span><span id="MathJax-Span-1759" class="mo">“</span><span id="MathJax-Span-1760" class="mi">a</span><span id="MathJax-Span-1761" class="mi">b</span><span id="MathJax-Span-1762" class="mi">c</span><span id="MathJax-Span-1763" class="mo">“</span><span id="MathJax-Span-1764" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>“</mo><mi>c</mi><mo>“</mo><mo>,</mo><mo>“</mo><mi>a</mi><mi>b</mi><mi>c</mi><mo>“</mo><mo stretchy="false">]</mo></math></span></span> (red 标记)<br>所以, 有 <span id="MathJax-Element-164-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1765" class="math"><span id="MathJax-Span-1766" class="mrow"><span id="MathJax-Span-1767" class="mi">t</span><span id="MathJax-Span-1768" class="mi">r</span><span id="MathJax-Span-1769" class="mi">a</span><span id="MathJax-Span-1770" class="mi">n</span><span id="MathJax-Span-1771" class="mi">s</span><span id="MathJax-Span-1772" class="mo">(</span><span id="MathJax-Span-1773" class="mi">s</span><span id="MathJax-Span-1774" class="mi">t</span><span id="MathJax-Span-1775" class="mi">a</span><span id="MathJax-Span-1776" class="mi">r</span><span id="MathJax-Span-1777" class="mi">t</span><span id="MathJax-Span-1778" class="mo">,</span><span id="MathJax-Span-1779" class="mo">“</span><span id="MathJax-Span-1780" class="mi">c</span><span id="MathJax-Span-1781" class="mo">“</span><span id="MathJax-Span-1782" class="mo">)</span><span id="MathJax-Span-1783" class="mo">=</span><span id="MathJax-Span-1784" class="mi">t</span><span id="MathJax-Span-1785" class="mi">r</span><span id="MathJax-Span-1786" class="mi">a</span><span id="MathJax-Span-1787" class="mi">n</span><span id="MathJax-Span-1788" class="mi">s</span><span id="MathJax-Span-1789" class="mo">(</span><span id="MathJax-Span-1790" class="msubsup"><span id="MathJax-Span-1791" class="mi">s</span><span id="MathJax-Span-1792" class="mn">1</span></span><span id="MathJax-Span-1793" class="mo">,</span><span id="MathJax-Span-1794" class="mo">“</span><span id="MathJax-Span-1795" class="mi">c</span><span id="MathJax-Span-1796" class="mo">“</span><span id="MathJax-Span-1797" class="mo">)</span><span id="MathJax-Span-1798" class="mo">=</span><span id="MathJax-Span-1799" class="mi">t</span><span id="MathJax-Span-1800" class="mi">r</span><span id="MathJax-Span-1801" class="mi">a</span><span id="MathJax-Span-1802" class="mi">n</span><span id="MathJax-Span-1803" class="mi">s</span><span id="MathJax-Span-1804" class="mo">(</span><span id="MathJax-Span-1805" class="msubsup"><span id="MathJax-Span-1806" class="mi">s</span><span id="MathJax-Span-1807" class="mn">2</span></span><span id="MathJax-Span-1808" class="mo">,</span><span id="MathJax-Span-1809" class="mo">“</span><span id="MathJax-Span-1810" class="mi">c</span><span id="MathJax-Span-1811" class="mo">“</span><span id="MathJax-Span-1812" class="mo">)</span><span id="MathJax-Span-1813" class="mo">=</span><span id="MathJax-Span-1814" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi><mo>,</mo><mo>“</mo><mi>c</mi><mo>“</mo><mo stretchy="false">)</mo><mo>=</mo><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo>,</mo><mo>“</mo><mi>c</mi><mo>“</mo><mo stretchy="false">)</mo><mo>=</mo><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>2</mn></msub><mo>,</mo><mo>“</mo><mi>c</mi><mo>“</mo><mo stretchy="false">)</mo><mo>=</mo><mi>v</mi></math></span></span>. 可以看到, <span id="MathJax-Element-165-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1815" class="math"><span id="MathJax-Span-1816" class="mrow"><span id="MathJax-Span-1817" class="mi">s</span><span id="MathJax-Span-1818" class="mi">u</span><span id="MathJax-Span-1819" class="mi">b</span><span id="MathJax-Span-1820" class="mi">s</span><span id="MathJax-Span-1821" class="mi">t</span><span id="MathJax-Span-1822" class="mi">r</span><span id="MathJax-Span-1823" class="mi">i</span><span id="MathJax-Span-1824" class="mi">n</span><span id="MathJax-Span-1825" class="mi">g</span><span id="MathJax-Span-1826" class="mi">s</span><span id="MathJax-Span-1827" class="mo">(</span><span id="MathJax-Span-1828" class="mi">v</span><span id="MathJax-Span-1829" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></math></span></span> 其实就是往集合 <span id="MathJax-Element-166-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x222A;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x222A;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1830" class="math"><span id="MathJax-Span-1831" class="mrow"><span id="MathJax-Span-1832" class="mi">s</span><span id="MathJax-Span-1833" class="mi">u</span><span id="MathJax-Span-1834" class="mi">b</span><span id="MathJax-Span-1835" class="mi">s</span><span id="MathJax-Span-1836" class="mi">t</span><span id="MathJax-Span-1837" class="mi">r</span><span id="MathJax-Span-1838" class="mi">i</span><span id="MathJax-Span-1839" class="mi">n</span><span id="MathJax-Span-1840" class="mi">g</span><span id="MathJax-Span-1841" class="mi">s</span><span id="MathJax-Span-1842" class="mo">(</span><span id="MathJax-Span-1843" class="mi">s</span><span id="MathJax-Span-1844" class="mi">t</span><span id="MathJax-Span-1845" class="mi">a</span><span id="MathJax-Span-1846" class="mi">r</span><span id="MathJax-Span-1847" class="mi">t</span><span id="MathJax-Span-1848" class="mo">)</span><span id="MathJax-Span-1849" class="mo">∪</span><span id="MathJax-Span-1850" class="mi">s</span><span id="MathJax-Span-1851" class="mi">u</span><span id="MathJax-Span-1852" class="mi">b</span><span id="MathJax-Span-1853" class="mi">s</span><span id="MathJax-Span-1854" class="mi">t</span><span id="MathJax-Span-1855" class="mi">r</span><span id="MathJax-Span-1856" class="mi">i</span><span id="MathJax-Span-1857" class="mi">n</span><span id="MathJax-Span-1858" class="mi">g</span><span id="MathJax-Span-1859" class="mi">s</span><span id="MathJax-Span-1860" class="mo">(</span><span id="MathJax-Span-1861" class="msubsup"><span id="MathJax-Span-1862" class="mi">s</span><span id="MathJax-Span-1863" class="mn">1</span></span><span id="MathJax-Span-1864" class="mo">)</span><span id="MathJax-Span-1865" class="mo">∪</span><span id="MathJax-Span-1866" class="mi">s</span><span id="MathJax-Span-1867" class="mi">u</span><span id="MathJax-Span-1868" class="mi">b</span><span id="MathJax-Span-1869" class="mi">s</span><span id="MathJax-Span-1870" class="mi">t</span><span id="MathJax-Span-1871" class="mi">r</span><span id="MathJax-Span-1872" class="mi">i</span><span id="MathJax-Span-1873" class="mi">n</span><span id="MathJax-Span-1874" class="mi">g</span><span id="MathJax-Span-1875" class="mi">s</span><span id="MathJax-Span-1876" class="mo">(</span><span id="MathJax-Span-1877" class="msubsup"><span id="MathJax-Span-1878" class="mi">s</span><span id="MathJax-Span-1879" class="mn">2</span></span><span id="MathJax-Span-1880" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi><mo stretchy="false">)</mo><mo>∪</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>∪</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo></math></span></span>的所有 substrings 末尾拼接上 <span id="MathJax-Element-167-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1881" class="math"><span id="MathJax-Span-1882" class="mrow"><span id="MathJax-Span-1883" class="mo">“</span><span id="MathJax-Span-1884" class="mi">c</span><span id="MathJax-Span-1885" class="mo">“</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>“</mo><mi>c</mi><mo>“</mo></math></span></span> 之后得到的新集合! 由此可以引申得到以下性质:</li>
</ul>
<p>对于 SAM 里的 state <span id="MathJax-Element-168-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1886" class="math"><span id="MathJax-Span-1887" class="mrow"><span id="MathJax-Span-1888" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span>, 设 transition symbol 为 <span id="MathJax-Element-169-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1889" class="math"><span id="MathJax-Span-1890" class="mrow"><span id="MathJax-Span-1891" class="mi">c</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi></math></span></span>, 则有 <span id="MathJax-Element-170-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;#x2223;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1892" class="math"><span id="MathJax-Span-1893" class="mrow"><span id="MathJax-Span-1894" class="mi">s</span><span id="MathJax-Span-1895" class="mi">u</span><span id="MathJax-Span-1896" class="mi">b</span><span id="MathJax-Span-1897" class="mi">s</span><span id="MathJax-Span-1898" class="mi">t</span><span id="MathJax-Span-1899" class="mi">r</span><span id="MathJax-Span-1900" class="mi">i</span><span id="MathJax-Span-1901" class="mi">n</span><span id="MathJax-Span-1902" class="mi">g</span><span id="MathJax-Span-1903" class="mi">s</span><span id="MathJax-Span-1904" class="mo">(</span><span id="MathJax-Span-1905" class="mi">v</span><span id="MathJax-Span-1906" class="mo">)</span><span id="MathJax-Span-1907" class="mo">=</span><span id="MathJax-Span-1908" class="mo">{</span><span id="MathJax-Span-1909" class="msubsup"><span id="MathJax-Span-1910" class="mi">s</span><span id="MathJax-Span-1911" class="mi">i</span></span><span id="MathJax-Span-1912" class="mo">+</span><span id="MathJax-Span-1913" class="mi">c</span><span id="MathJax-Span-1914" class="mo">∣</span><span id="MathJax-Span-1915" class="msubsup"><span id="MathJax-Span-1916" class="mi">s</span><span id="MathJax-Span-1917" class="mi">i</span></span><span id="MathJax-Span-1918" class="mo">∈</span><span id="MathJax-Span-1919" class="mi">s</span><span id="MathJax-Span-1920" class="mi">u</span><span id="MathJax-Span-1921" class="mi">b</span><span id="MathJax-Span-1922" class="mi">s</span><span id="MathJax-Span-1923" class="mi">t</span><span id="MathJax-Span-1924" class="mi">r</span><span id="MathJax-Span-1925" class="mi">i</span><span id="MathJax-Span-1926" class="mi">n</span><span id="MathJax-Span-1927" class="mi">g</span><span id="MathJax-Span-1928" class="mi">s</span><span id="MathJax-Span-1929" class="mo">(</span><span id="MathJax-Span-1930" class="msubsup"><span id="MathJax-Span-1931" class="mi">u</span><span id="MathJax-Span-1932" class="mi">i</span></span><span id="MathJax-Span-1933" class="mo">)</span><span id="MathJax-Span-1934" class="mo">,</span><span id="MathJax-Span-1935" class="mi">t</span><span id="MathJax-Span-1936" class="mi">r</span><span id="MathJax-Span-1937" class="mi">a</span><span id="MathJax-Span-1938" class="mi">n</span><span id="MathJax-Span-1939" class="mi">s</span><span id="MathJax-Span-1940" class="mo">(</span><span id="MathJax-Span-1941" class="msubsup"><span id="MathJax-Span-1942" class="mi">u</span><span id="MathJax-Span-1943" class="mi">i</span></span><span id="MathJax-Span-1944" class="mo">,</span><span id="MathJax-Span-1945" class="mi">c</span><span id="MathJax-Span-1946" class="mo">)</span><span id="MathJax-Span-1947" class="mo">=</span><span id="MathJax-Span-1948" class="mi">v</span><span id="MathJax-Span-1949" class="mo">}</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><mo fence="false" stretchy="false">{</mo><msub><mi>s</mi><mi>i</mi></msub><mo>+</mo><mi>c</mi><mo>∣</mo><msub><mi>s</mi><mi>i</mi></msub><mo>∈</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>,</mo><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>u</mi><mi>i</mi></msub><mo>,</mo><mi>c</mi><mo stretchy="false">)</mo><mo>=</mo><mi>v</mi><mo fence="false" stretchy="false">}</mo></math></span></span>. 通俗来讲, 可以通过观察 state transitions 得到 state <span id="MathJax-Element-171-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1950" class="math"><span id="MathJax-Span-1951" class="mrow"><span id="MathJax-Span-1952" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span> 的 <span id="MathJax-Element-172-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1953" class="math"><span id="MathJax-Span-1954" class="mrow"><span id="MathJax-Span-1955" class="mi">s</span><span id="MathJax-Span-1956" class="mi">u</span><span id="MathJax-Span-1957" class="mi">b</span><span id="MathJax-Span-1958" class="mi">s</span><span id="MathJax-Span-1959" class="mi">t</span><span id="MathJax-Span-1960" class="mi">r</span><span id="MathJax-Span-1961" class="mi">i</span><span id="MathJax-Span-1962" class="mi">n</span><span id="MathJax-Span-1963" class="mi">g</span><span id="MathJax-Span-1964" class="mi">s</span><span id="MathJax-Span-1965" class="mo">(</span><span id="MathJax-Span-1966" class="mi">u</span><span id="MathJax-Span-1967" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>.</p>
<p>那么问题来了: <strong>设 <span id="MathJax-Element-173-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2223;&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-1968" class="math"><span id="MathJax-Span-1969" class="mrow"><span id="MathJax-Span-1970" class="msubsup"><span id="MathJax-Span-1971" class="mi">U</span><span id="MathJax-Span-1972" class="mi">v</span></span><span id="MathJax-Span-1973" class="mo">=</span><span id="MathJax-Span-1974" class="mo">{</span><span id="MathJax-Span-1975" class="msubsup"><span id="MathJax-Span-1976" class="mi">u</span><span id="MathJax-Span-1977" class="mi">i</span></span><span id="MathJax-Span-1978" class="mo">∣</span><span id="MathJax-Span-1979" class="mi">t</span><span id="MathJax-Span-1980" class="mi">r</span><span id="MathJax-Span-1981" class="mi">a</span><span id="MathJax-Span-1982" class="mi">n</span><span id="MathJax-Span-1983" class="mi">s</span><span id="MathJax-Span-1984" class="mo">(</span><span id="MathJax-Span-1985" class="msubsup"><span id="MathJax-Span-1986" class="mi">u</span><span id="MathJax-Span-1987" class="mi">i</span></span><span id="MathJax-Span-1988" class="mo">,</span><span id="MathJax-Span-1989" class="mi">c</span><span id="MathJax-Span-1990" class="mo">)</span><span id="MathJax-Span-1991" class="mo">=</span><span id="MathJax-Span-1992" class="mi">v</span><span id="MathJax-Span-1993" class="mo">}</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>U</mi><mi>v</mi></msub><mo>=</mo><mo fence="false" stretchy="false">{</mo><msub><mi>u</mi><mi>i</mi></msub><mo>∣</mo><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>u</mi><mi>i</mi></msub><mo>,</mo><mi>c</mi><mo stretchy="false">)</mo><mo>=</mo><mi>v</mi><mo fence="false" stretchy="false">}</mo></math></span></span>, <span id="MathJax-Element-174-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-1994" class="math"><span id="MathJax-Span-1995" class="mrow"><span id="MathJax-Span-1996" class="msubsup"><span id="MathJax-Span-1997" class="mi">U</span><span id="MathJax-Span-1998" class="mi">v</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>U</mi><mi>v</mi></msub></math></span></span> 中的 states 有什么关系呢?</strong></p>
<p>我们已经知道, 对于一个 state <span id="MathJax-Element-175-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-1999" class="math"><span id="MathJax-Span-2000" class="mrow"><span id="MathJax-Span-2001" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span>, <span id="MathJax-Element-176-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2002" class="math"><span id="MathJax-Span-2003" class="mrow"><span id="MathJax-Span-2004" class="mi">s</span><span id="MathJax-Span-2005" class="mi">u</span><span id="MathJax-Span-2006" class="mi">b</span><span id="MathJax-Span-2007" class="mi">s</span><span id="MathJax-Span-2008" class="mi">t</span><span id="MathJax-Span-2009" class="mi">r</span><span id="MathJax-Span-2010" class="mi">i</span><span id="MathJax-Span-2011" class="mi">n</span><span id="MathJax-Span-2012" class="mi">g</span><span id="MathJax-Span-2013" class="mi">s</span><span id="MathJax-Span-2014" class="mo">(</span><span id="MathJax-Span-2015" class="mi">v</span><span id="MathJax-Span-2016" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></math></span></span> 中的 substrings 是”连续的”. 由于到 state <span id="MathJax-Element-177-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2017" class="math"><span id="MathJax-Span-2018" class="mrow"><span id="MathJax-Span-2019" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span>的 transition 都带有相同的 symbol <span id="MathJax-Element-178-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2020" class="math"><span id="MathJax-Span-2021" class="mrow"><span id="MathJax-Span-2022" class="mi">c</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi></math></span></span>, 那么 <span id="MathJax-Element-179-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2223;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/msub&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2023" class="math"><span id="MathJax-Span-2024" class="mrow"><span id="MathJax-Span-2025" class="mo">{</span><span id="MathJax-Span-2026" class="msubsup"><span id="MathJax-Span-2027" class="mi">s</span><span id="MathJax-Span-2028" class="mi">i</span></span><span id="MathJax-Span-2029" class="mo">∣</span><span id="MathJax-Span-2030" class="msubsup"><span id="MathJax-Span-2031" class="mi">s</span><span id="MathJax-Span-2032" class="mi">i</span></span><span id="MathJax-Span-2033" class="mo">∈</span><span id="MathJax-Span-2034" class="mi">s</span><span id="MathJax-Span-2035" class="mi">u</span><span id="MathJax-Span-2036" class="mi">b</span><span id="MathJax-Span-2037" class="mi">s</span><span id="MathJax-Span-2038" class="mi">t</span><span id="MathJax-Span-2039" class="mi">r</span><span id="MathJax-Span-2040" class="mi">i</span><span id="MathJax-Span-2041" class="mi">n</span><span id="MathJax-Span-2042" class="mi">g</span><span id="MathJax-Span-2043" class="mi">s</span><span id="MathJax-Span-2044" class="mo">(</span><span id="MathJax-Span-2045" class="msubsup"><span id="MathJax-Span-2046" class="mi">u</span><span id="MathJax-Span-2047" class="mi">i</span></span><span id="MathJax-Span-2048" class="mo">)</span><span id="MathJax-Span-2049" class="mo">,</span><span id="MathJax-Span-2050" class="msubsup"><span id="MathJax-Span-2051" class="mi">u</span><span id="MathJax-Span-2052" class="mi">i</span></span><span id="MathJax-Span-2053" class="mo">∈</span><span id="MathJax-Span-2054" class="msubsup"><span id="MathJax-Span-2055" class="mi">U</span><span id="MathJax-Span-2056" class="mi">v</span></span><span id="MathJax-Span-2057" class="mo">}</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">{</mo><msub><mi>s</mi><mi>i</mi></msub><mo>∣</mo><msub><mi>s</mi><mi>i</mi></msub><mo>∈</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>,</mo><msub><mi>u</mi><mi>i</mi></msub><mo>∈</mo><msub><mi>U</mi><mi>v</mi></msub><mo fence="false" stretchy="false">}</mo></math></span></span> 必然也是”连续的”.</p>
<p>回想一下上一小节的 suffix link 定义, <span id="MathJax-Element-180-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mspace width=&quot;thickmathspace&quot; /&gt;&lt;mo stretchy=&quot;false&quot;&gt;&amp;#x27F9;&lt;/mo&gt;&lt;mspace width=&quot;thickmathspace&quot; /&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2058" class="math"><span id="MathJax-Span-2059" class="mrow"><span id="MathJax-Span-2060" class="mi">v</span><span id="MathJax-Span-2061" class="mo">=</span><span id="MathJax-Span-2062" class="mi">l</span><span id="MathJax-Span-2063" class="mi">i</span><span id="MathJax-Span-2064" class="mi">n</span><span id="MathJax-Span-2065" class="mi">k</span><span id="MathJax-Span-2066" class="mo">(</span><span id="MathJax-Span-2067" class="mi">u</span><span id="MathJax-Span-2068" class="mo">)</span><span id="MathJax-Span-2069" class="mspace"></span><span id="MathJax-Span-2070" class="mo">⟹</span><span id="MathJax-Span-2071" class="mspace"></span><span id="MathJax-Span-2072" class="mi">m</span><span id="MathJax-Span-2073" class="mi">a</span><span id="MathJax-Span-2074" class="mi">x</span><span id="MathJax-Span-2075" class="mi">l</span><span id="MathJax-Span-2076" class="mi">e</span><span id="MathJax-Span-2077" class="mi">n</span><span id="MathJax-Span-2078" class="mo">(</span><span id="MathJax-Span-2079" class="mi">v</span><span id="MathJax-Span-2080" class="mo">)</span><span id="MathJax-Span-2081" class="mo">+</span><span id="MathJax-Span-2082" class="mn">1</span><span id="MathJax-Span-2083" class="mo">=</span><span id="MathJax-Span-2084" class="mi">m</span><span id="MathJax-Span-2085" class="mi">i</span><span id="MathJax-Span-2086" class="mi">n</span><span id="MathJax-Span-2087" class="mi">l</span><span id="MathJax-Span-2088" class="mi">e</span><span id="MathJax-Span-2089" class="mi">n</span><span id="MathJax-Span-2090" class="mo">(</span><span id="MathJax-Span-2091" class="mi">u</span><span id="MathJax-Span-2092" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mspace width="thickmathspace"></mspace><mo stretchy="false">⟹</mo><mspace width="thickmathspace"></mspace><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>, 我们可以知道, <span id="MathJax-Element-181-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-2093" class="math"><span id="MathJax-Span-2094" class="mrow"><span id="MathJax-Span-2095" class="msubsup"><span id="MathJax-Span-2096" class="mi">U</span><span id="MathJax-Span-2097" class="mi">v</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>U</mi><mi>v</mi></msub></math></span></span> 中的 states, 必然形成一条 <strong>suffix-link path</strong>! 以上图为例, 有 <span id="MathJax-Element-182-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2098" class="math"><span id="MathJax-Span-2099" class="mrow"><span id="MathJax-Span-2100" class="msubsup"><span id="MathJax-Span-2101" class="mi">U</span><span id="MathJax-Span-2102" class="mi">v</span></span><span id="MathJax-Span-2103" class="mo">=</span><span id="MathJax-Span-2104" class="mo">{</span><span id="MathJax-Span-2105" class="mi">s</span><span id="MathJax-Span-2106" class="mi">t</span><span id="MathJax-Span-2107" class="mi">a</span><span id="MathJax-Span-2108" class="mi">r</span><span id="MathJax-Span-2109" class="mi">t</span><span id="MathJax-Span-2110" class="mo">,</span><span id="MathJax-Span-2111" class="msubsup"><span id="MathJax-Span-2112" class="mi">s</span><span id="MathJax-Span-2113" class="mn">1</span></span><span id="MathJax-Span-2114" class="mo">,</span><span id="MathJax-Span-2115" class="msubsup"><span id="MathJax-Span-2116" class="mi">s</span><span id="MathJax-Span-2117" class="mn">2</span></span><span id="MathJax-Span-2118" class="mo">}</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>U</mi><mi>v</mi></msub><mo>=</mo><mo fence="false" stretchy="false">{</mo><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi><mo>,</mo><msub><mi>s</mi><mn>1</mn></msub><mo>,</mo><msub><mi>s</mi><mn>2</mn></msub><mo fence="false" stretchy="false">}</mo></math></span></span>, <span id="MathJax-Element-183-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2119" class="math"><span id="MathJax-Span-2120" class="mrow"><span id="MathJax-Span-2121" class="mi">s</span><span id="MathJax-Span-2122" class="mi">t</span><span id="MathJax-Span-2123" class="mi">a</span><span id="MathJax-Span-2124" class="mi">r</span><span id="MathJax-Span-2125" class="mi">t</span><span id="MathJax-Span-2126" class="mo">=</span><span id="MathJax-Span-2127" class="mi">l</span><span id="MathJax-Span-2128" class="mi">i</span><span id="MathJax-Span-2129" class="mi">n</span><span id="MathJax-Span-2130" class="mi">k</span><span id="MathJax-Span-2131" class="mo">(</span><span id="MathJax-Span-2132" class="msubsup"><span id="MathJax-Span-2133" class="mi">s</span><span id="MathJax-Span-2134" class="mn">1</span></span><span id="MathJax-Span-2135" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo stretchy="false">)</mo></math></span></span>, <span id="MathJax-Element-184-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2136" class="math"><span id="MathJax-Span-2137" class="mrow"><span id="MathJax-Span-2138" class="msubsup"><span id="MathJax-Span-2139" class="mi">s</span><span id="MathJax-Span-2140" class="mn">1</span></span><span id="MathJax-Span-2141" class="mo">=</span><span id="MathJax-Span-2142" class="mi">l</span><span id="MathJax-Span-2143" class="mi">i</span><span id="MathJax-Span-2144" class="mi">n</span><span id="MathJax-Span-2145" class="mi">k</span><span id="MathJax-Span-2146" class="mo">(</span><span id="MathJax-Span-2147" class="msubsup"><span id="MathJax-Span-2148" class="mi">s</span><span id="MathJax-Span-2149" class="mn">2</span></span><span id="MathJax-Span-2150" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mn>1</mn></msub><mo>=</mo><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo></math></span></span>.</p>
<p>到此, 我们已经基本理解了 SAM 的 state, suffix link, transition 的概念. 下面将会讲解如何构建 SAM.</p>
<h2 id="SAM-Online-Construction-The-Principle"><a href="#SAM-Online-Construction-The-Principle" class="headerlink" title="SAM Online Construction: The Principle"></a>SAM Online Construction: The Principle</h2><p>假设我们已经为 <span id="MathJax-Element-185-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-2151" class="math"><span id="MathJax-Span-2152" class="mrow"><span id="MathJax-Span-2153" class="msubsup"><span id="MathJax-Span-2154" class="mi">T</span><span id="MathJax-Span-2155" class="mi">i</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>i</mi></msub></math></span></span> 构建了 SAM, 该 SAM 的结构使用两个 variables 追踪:</p>
<ul>
<li><span id="MathJax-Element-186-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2156" class="math"><span id="MathJax-Span-2157" class="mrow"><span id="MathJax-Span-2158" class="mi">s</span><span id="MathJax-Span-2159" class="mi">t</span><span id="MathJax-Span-2160" class="mi">a</span><span id="MathJax-Span-2161" class="mi">r</span><span id="MathJax-Span-2162" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></math></span></span>: 指向 start state.</li>
<li><p><span id="MathJax-Element-187-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2163" class="math"><span id="MathJax-Span-2164" class="mrow"><span id="MathJax-Span-2165" class="mi">l</span><span id="MathJax-Span-2166" class="mi">a</span><span id="MathJax-Span-2167" class="mi">s</span><span id="MathJax-Span-2168" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></math></span></span>: 指向”最后一个” state, <span id="MathJax-Element-188-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2169" class="math"><span id="MathJax-Span-2170" class="mrow"><span id="MathJax-Span-2171" class="msubsup"><span id="MathJax-Span-2172" class="mi">T</span><span id="MathJax-Span-2173" class="mi">i</span></span><span id="MathJax-Span-2174" class="mo">∈</span><span id="MathJax-Span-2175" class="mi">s</span><span id="MathJax-Span-2176" class="mi">u</span><span id="MathJax-Span-2177" class="mi">b</span><span id="MathJax-Span-2178" class="mi">s</span><span id="MathJax-Span-2179" class="mi">t</span><span id="MathJax-Span-2180" class="mi">r</span><span id="MathJax-Span-2181" class="mi">i</span><span id="MathJax-Span-2182" class="mi">n</span><span id="MathJax-Span-2183" class="mi">g</span><span id="MathJax-Span-2184" class="mi">s</span><span id="MathJax-Span-2185" class="mo">(</span><span id="MathJax-Span-2186" class="mi">l</span><span id="MathJax-Span-2187" class="mi">a</span><span id="MathJax-Span-2188" class="mi">s</span><span id="MathJax-Span-2189" class="mi">t</span><span id="MathJax-Span-2190" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>i</mi></msub><mo>∈</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi><mo stretchy="false">)</mo></math></span></span>.<br>为了简化 construction, 在本小节中, SAM 中的每个 State <span id="MathJax-Element-189-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2191" class="math"><span id="MathJax-Span-2192" class="mrow"><span id="MathJax-Span-2193" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 仅维护以下信息:</p>
</li>
<li><p><span id="MathJax-Element-190-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2194" class="math"><span id="MathJax-Span-2195" class="mrow"><span id="MathJax-Span-2196" class="mi">m</span><span id="MathJax-Span-2197" class="mi">a</span><span id="MathJax-Span-2198" class="mi">x</span><span id="MathJax-Span-2199" class="mi">l</span><span id="MathJax-Span-2200" class="mi">e</span><span id="MathJax-Span-2201" class="mi">n</span><span id="MathJax-Span-2202" class="mo">(</span><span id="MathJax-Span-2203" class="mi">u</span><span id="MathJax-Span-2204" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span></p>
</li>
<li><span id="MathJax-Element-191-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2205" class="math"><span id="MathJax-Span-2206" class="mrow"><span id="MathJax-Span-2207" class="mi">l</span><span id="MathJax-Span-2208" class="mi">i</span><span id="MathJax-Span-2209" class="mi">n</span><span id="MathJax-Span-2210" class="mi">k</span><span id="MathJax-Span-2211" class="mo">(</span><span id="MathJax-Span-2212" class="mi">u</span><span id="MathJax-Span-2213" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span></li>
<li><p><span id="MathJax-Element-192-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A3;&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2214" class="math"><span id="MathJax-Span-2215" class="mrow"><span id="MathJax-Span-2216" class="mi">t</span><span id="MathJax-Span-2217" class="mi">r</span><span id="MathJax-Span-2218" class="mi">a</span><span id="MathJax-Span-2219" class="mi">n</span><span id="MathJax-Span-2220" class="mi">s</span><span id="MathJax-Span-2221" class="mo">(</span><span id="MathJax-Span-2222" class="mi">u</span><span id="MathJax-Span-2223" class="mo">,</span><span id="MathJax-Span-2224" class="mi">Σ</span><span id="MathJax-Span-2225" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi mathvariant="normal">Σ</mi><mo stretchy="false">)</mo></math></span></span>, 也就是以 <span id="MathJax-Element-193-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2226" class="math"><span id="MathJax-Span-2227" class="mrow"><span id="MathJax-Span-2228" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 为起点的 state transitions<br><span id="MathJax-Element-194-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2229" class="math"><span id="MathJax-Span-2230" class="mrow"><span id="MathJax-Span-2231" class="mi">s</span><span id="MathJax-Span-2232" class="mi">t</span><span id="MathJax-Span-2233" class="mi">a</span><span id="MathJax-Span-2234" class="mi">r</span><span id="MathJax-Span-2235" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></math></span></span> 作为一个特殊的 state, 有:</p>
</li>
<li><p><span id="MathJax-Element-195-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/math&gt;"><span id="MathJax-Span-2236" class="math"><span id="MathJax-Span-2237" class="mrow"><span id="MathJax-Span-2238" class="mi">m</span><span id="MathJax-Span-2239" class="mi">a</span><span id="MathJax-Span-2240" class="mi">x</span><span id="MathJax-Span-2241" class="mi">l</span><span id="MathJax-Span-2242" class="mi">e</span><span id="MathJax-Span-2243" class="mi">n</span><span id="MathJax-Span-2244" class="mo">(</span><span id="MathJax-Span-2245" class="mi">u</span><span id="MathJax-Span-2246" class="mo">)</span><span id="MathJax-Span-2247" class="mo">=</span><span id="MathJax-Span-2248" class="mn">0</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></math></span></span></p>
</li>
<li><span id="MathJax-Element-196-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2249" class="math"><span id="MathJax-Span-2250" class="mrow"><span id="MathJax-Span-2251" class="mi">l</span><span id="MathJax-Span-2252" class="mi">i</span><span id="MathJax-Span-2253" class="mi">n</span><span id="MathJax-Span-2254" class="mi">k</span><span id="MathJax-Span-2255" class="mo">(</span><span id="MathJax-Span-2256" class="mi">u</span><span id="MathJax-Span-2257" class="mo">)</span><span id="MathJax-Span-2258" class="mo">=</span><span id="MathJax-Span-2259" class="mi">n</span><span id="MathJax-Span-2260" class="mi">u</span><span id="MathJax-Span-2261" class="mi">l</span><span id="MathJax-Span-2262" class="mi">l</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo>=</mo><mi>n</mi><mi>u</mi><mi>l</mi><mi>l</mi></math></span></span><br>以下是一个简单的图例:</li>
</ul>
<p><img src="http://huntzhan.org/content/images/2016/07/start-last-1.png" alt="start-last.png"></p>
<p>其中, <span id="MathJax-Element-197-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2263" class="math"><span id="MathJax-Span-2264" class="mrow"><span id="MathJax-Span-2265" class="mi">s</span><span id="MathJax-Span-2266" class="mi">t</span><span id="MathJax-Span-2267" class="mi">a</span><span id="MathJax-Span-2268" class="mi">r</span><span id="MathJax-Span-2269" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></math></span></span> 是 red state, <span id="MathJax-Element-198-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2270" class="math"><span id="MathJax-Span-2271" class="mrow"><span id="MathJax-Span-2272" class="mi">l</span><span id="MathJax-Span-2273" class="mi">a</span><span id="MathJax-Span-2274" class="mi">s</span><span id="MathJax-Span-2275" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></math></span></span> 是 green state.</p>
<p>SAM <a href="https://en.wikipedia.org/wiki/Online_algorithm" target="_blank" rel="noopener">online</a> construction 的核心问题是: <strong>如何将 <span id="MathJax-Element-199-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2276" class="math"><span id="MathJax-Span-2277" class="mrow"><span id="MathJax-Span-2278" class="mi">T</span><span id="MathJax-Span-2279" class="mo">[</span><span id="MathJax-Span-2280" class="mi">i</span><span id="MathJax-Span-2281" class="mo">+</span><span id="MathJax-Span-2282" class="mn">1</span><span id="MathJax-Span-2283" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></math></span></span> 插入到 <span id="MathJax-Element-200-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-2284" class="math"><span id="MathJax-Span-2285" class="mrow"><span id="MathJax-Span-2286" class="msubsup"><span id="MathJax-Span-2287" class="mi">T</span><span id="MathJax-Span-2288" class="mi">i</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>i</mi></msub></math></span></span> 对应的 SAM 里, 插入 <span id="MathJax-Element-201-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2289" class="math"><span id="MathJax-Span-2290" class="mrow"><span id="MathJax-Span-2291" class="mi">c</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi></math></span></span>会导致 SAM 的结构发生什么变化?</strong></p>
<p>如果加入 <span id="MathJax-Element-202-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2292" class="math"><span id="MathJax-Span-2293" class="mrow"><span id="MathJax-Span-2294" class="mi">T</span><span id="MathJax-Span-2295" class="mo">[</span><span id="MathJax-Span-2296" class="mi">i</span><span id="MathJax-Span-2297" class="mo">+</span><span id="MathJax-Span-2298" class="mn">1</span><span id="MathJax-Span-2299" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></math></span></span>, 意味着更新后的 SAM 里必定有一个 state <span id="MathJax-Element-203-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2300" class="math"><span id="MathJax-Span-2301" class="mrow"><span id="MathJax-Span-2302" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span>, 满足 <span id="MathJax-Element-204-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2303" class="math"><span id="MathJax-Span-2304" class="mrow"><span id="MathJax-Span-2305" class="mi">i</span><span id="MathJax-Span-2306" class="mo">+</span><span id="MathJax-Span-2307" class="mn">1</span><span id="MathJax-Span-2308" class="mo">∈</span><span id="MathJax-Span-2309" class="mi">e</span><span id="MathJax-Span-2310" class="mi">n</span><span id="MathJax-Span-2311" class="mi">d</span><span id="MathJax-Span-2312" class="mi">p</span><span id="MathJax-Span-2313" class="mi">o</span><span id="MathJax-Span-2314" class="mi">s</span><span id="MathJax-Span-2315" class="mo">(</span><span id="MathJax-Span-2316" class="mi">u</span><span id="MathJax-Span-2317" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>+</mo><mn>1</mn><mo>∈</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>, 而更新前的 SAM 必然不存在这样的 state. 所以, 我们需要创建一个新的 state <span id="MathJax-Element-205-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2318" class="math"><span id="MathJax-Span-2319" class="mrow"><span id="MathJax-Span-2320" class="mi">c</span><span id="MathJax-Span-2321" class="mi">u</span><span id="MathJax-Span-2322" class="mi">r</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mi>u</mi><mi>r</mi></math></span></span> 使</p>
<ul>
<li><span id="MathJax-Element-206-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2323" class="math"><span id="MathJax-Span-2324" class="mrow"><span id="MathJax-Span-2325" class="mi">i</span><span id="MathJax-Span-2326" class="mo">+</span><span id="MathJax-Span-2327" class="mn">1</span><span id="MathJax-Span-2328" class="mo">∈</span><span id="MathJax-Span-2329" class="mi">e</span><span id="MathJax-Span-2330" class="mi">n</span><span id="MathJax-Span-2331" class="mi">d</span><span id="MathJax-Span-2332" class="mi">p</span><span id="MathJax-Span-2333" class="mi">o</span><span id="MathJax-Span-2334" class="mi">s</span><span id="MathJax-Span-2335" class="mo">(</span><span id="MathJax-Span-2336" class="mi">c</span><span id="MathJax-Span-2337" class="mi">u</span><span id="MathJax-Span-2338" class="mi">r</span><span id="MathJax-Span-2339" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>+</mo><mn>1</mn><mo>∈</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo></math></span></span></li>
<li><span id="MathJax-Element-207-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2340" class="math"><span id="MathJax-Span-2341" class="mrow"><span id="MathJax-Span-2342" class="msubsup"><span id="MathJax-Span-2343" class="mi">T</span><span id="MathJax-Span-2344" class="texatom"><span id="MathJax-Span-2345" class="mrow"><span id="MathJax-Span-2346" class="mi">i</span><span id="MathJax-Span-2347" class="mo">+</span><span id="MathJax-Span-2348" class="mn">1</span></span></span></span><span id="MathJax-Span-2349" class="mo">∈</span><span id="MathJax-Span-2350" class="mi">s</span><span id="MathJax-Span-2351" class="mi">u</span><span id="MathJax-Span-2352" class="mi">b</span><span id="MathJax-Span-2353" class="mi">s</span><span id="MathJax-Span-2354" class="mi">t</span><span id="MathJax-Span-2355" class="mi">r</span><span id="MathJax-Span-2356" class="mi">i</span><span id="MathJax-Span-2357" class="mi">n</span><span id="MathJax-Span-2358" class="mi">g</span><span id="MathJax-Span-2359" class="mi">s</span><span id="MathJax-Span-2360" class="mo">(</span><span id="MathJax-Span-2361" class="mi">c</span><span id="MathJax-Span-2362" class="mi">u</span><span id="MathJax-Span-2363" class="mi">r</span><span id="MathJax-Span-2364" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>∈</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo></math></span></span><br>把 <span id="MathJax-Element-208-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2365" class="math"><span id="MathJax-Span-2366" class="mrow"><span id="MathJax-Span-2367" class="mi">T</span><span id="MathJax-Span-2368" class="mo">[</span><span id="MathJax-Span-2369" class="mi">i</span><span id="MathJax-Span-2370" class="mo">+</span><span id="MathJax-Span-2371" class="mn">1</span><span id="MathJax-Span-2372" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></math></span></span> 加入到 SAM, 是期望新的 SAM 可以识别 <span id="MathJax-Element-209-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-2373" class="math"><span id="MathJax-Span-2374" class="mrow"><span id="MathJax-Span-2375" class="msubsup"><span id="MathJax-Span-2376" class="mi">T</span><span id="MathJax-Span-2377" class="texatom"><span id="MathJax-Span-2378" class="mrow"><span id="MathJax-Span-2379" class="mi">i</span><span id="MathJax-Span-2380" class="mo">+</span><span id="MathJax-Span-2381" class="mn">1</span></span></span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math></span></span> 的 suffix 集合. 这个集合, 恰好是 <span id="MathJax-Element-210-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo&gt;&amp;#x2223;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2290;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2382" class="math"><span id="MathJax-Span-2383" class="mrow"><span id="MathJax-Span-2384" class="mo">{</span><span id="MathJax-Span-2385" class="msubsup"><span id="MathJax-Span-2386" class="mi">s</span><span id="MathJax-Span-2387" class="mi">i</span></span><span id="MathJax-Span-2388" class="mo">+</span><span id="MathJax-Span-2389" class="mi">T</span><span id="MathJax-Span-2390" class="mo">[</span><span id="MathJax-Span-2391" class="mi">i</span><span id="MathJax-Span-2392" class="mo">+</span><span id="MathJax-Span-2393" class="mn">1</span><span id="MathJax-Span-2394" class="mo">]</span><span id="MathJax-Span-2395" class="mo">∣</span><span id="MathJax-Span-2396" class="msubsup"><span id="MathJax-Span-2397" class="mi">s</span><span id="MathJax-Span-2398" class="mi">i</span></span><span id="MathJax-Span-2399" class="mo">⊐</span><span id="MathJax-Span-2400" class="msubsup"><span id="MathJax-Span-2401" class="mi">T</span><span id="MathJax-Span-2402" class="mi">i</span></span><span id="MathJax-Span-2403" class="mo">}</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">{</mo><msub><mi>s</mi><mi>i</mi></msub><mo>+</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo>∣</mo><msub><mi>s</mi><mi>i</mi></msub><mo>⊐</mo><msub><mi>T</mi><mi>i</mi></msub><mo fence="false" stretchy="false">}</mo></math></span></span>, 也就是说, 这是将 symbol <span id="MathJax-Element-211-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2404" class="math"><span id="MathJax-Span-2405" class="mrow"><span id="MathJax-Span-2406" class="mi">T</span><span id="MathJax-Span-2407" class="mo">[</span><span id="MathJax-Span-2408" class="mi">i</span><span id="MathJax-Span-2409" class="mo">+</span><span id="MathJax-Span-2410" class="mn">1</span><span id="MathJax-Span-2411" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></math></span></span> 拼接到 <span id="MathJax-Element-212-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-2412" class="math"><span id="MathJax-Span-2413" class="mrow"><span id="MathJax-Span-2414" class="msubsup"><span id="MathJax-Span-2415" class="mi">T</span><span id="MathJax-Span-2416" class="mi">i</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>i</mi></msub></math></span></span> 的所有 suffix 的末尾之后得到的新集合 (当然, 还需要加入一个 empty string, 不过这个是细节性问题).</li>
</ul>
<p>显然的, 根据 suffix link 的性质, 要得到 <span id="MathJax-Element-213-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-2417" class="math"><span id="MathJax-Span-2418" class="mrow"><span id="MathJax-Span-2419" class="msubsup"><span id="MathJax-Span-2420" class="mi">T</span><span id="MathJax-Span-2421" class="mi">i</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>i</mi></msub></math></span></span> 的 suffix 集合, 只需要访问 suffix-link path from <span id="MathJax-Element-214-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2422" class="math"><span id="MathJax-Span-2423" class="mrow"><span id="MathJax-Span-2424" class="mi">l</span><span id="MathJax-Span-2425" class="mi">a</span><span id="MathJax-Span-2426" class="mi">s</span><span id="MathJax-Span-2427" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></math></span></span> to <span id="MathJax-Element-215-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2428" class="math"><span id="MathJax-Span-2429" class="mrow"><span id="MathJax-Span-2430" class="mi">s</span><span id="MathJax-Span-2431" class="mi">t</span><span id="MathJax-Span-2432" class="mi">a</span><span id="MathJax-Span-2433" class="mi">r</span><span id="MathJax-Span-2434" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></math></span></span> 上的每一个 state <span id="MathJax-Element-216-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2435" class="math"><span id="MathJax-Span-2436" class="mrow"><span id="MathJax-Span-2437" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span>, 将所有的 <span id="MathJax-Element-217-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2438" class="math"><span id="MathJax-Span-2439" class="mrow"><span id="MathJax-Span-2440" class="mi">s</span><span id="MathJax-Span-2441" class="mi">u</span><span id="MathJax-Span-2442" class="mi">b</span><span id="MathJax-Span-2443" class="mi">s</span><span id="MathJax-Span-2444" class="mi">t</span><span id="MathJax-Span-2445" class="mi">r</span><span id="MathJax-Span-2446" class="mi">i</span><span id="MathJax-Span-2447" class="mi">n</span><span id="MathJax-Span-2448" class="mi">g</span><span id="MathJax-Span-2449" class="mo">(</span><span id="MathJax-Span-2450" class="mi">u</span><span id="MathJax-Span-2451" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 合并即可. 由于这些 states 已经代表了 <span id="MathJax-Element-218-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-2452" class="math"><span id="MathJax-Span-2453" class="mrow"><span id="MathJax-Span-2454" class="msubsup"><span id="MathJax-Span-2455" class="mi">T</span><span id="MathJax-Span-2456" class="mi">i</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>i</mi></msub></math></span></span> 的 suffix 集合, 只需要建立从这些 states 到 state <span id="MathJax-Element-219-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2457" class="math"><span id="MathJax-Span-2458" class="mrow"><span id="MathJax-Span-2459" class="mi">c</span><span id="MathJax-Span-2460" class="mi">u</span><span id="MathJax-Span-2461" class="mi">r</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mi>u</mi><mi>r</mi></math></span></span> 的 transition, 就可以使 SAM 能识别 <span id="MathJax-Element-220-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-2462" class="math"><span id="MathJax-Span-2463" class="mrow"><span id="MathJax-Span-2464" class="msubsup"><span id="MathJax-Span-2465" class="mi">T</span><span id="MathJax-Span-2466" class="texatom"><span id="MathJax-Span-2467" class="mrow"><span id="MathJax-Span-2468" class="mi">i</span><span id="MathJax-Span-2469" class="mo">+</span><span id="MathJax-Span-2470" class="mn">1</span></span></span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math></span></span> 的 suffix 集合.</p>
<p>设 state <span id="MathJax-Element-221-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2471" class="math"><span id="MathJax-Span-2472" class="mrow"><span id="MathJax-Span-2473" class="mi">p</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span> 为 suffix-link path from <span id="MathJax-Element-222-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2474" class="math"><span id="MathJax-Span-2475" class="mrow"><span id="MathJax-Span-2476" class="mi">l</span><span id="MathJax-Span-2477" class="mi">a</span><span id="MathJax-Span-2478" class="mi">s</span><span id="MathJax-Span-2479" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></math></span></span> to <span id="MathJax-Element-223-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2480" class="math"><span id="MathJax-Span-2481" class="mrow"><span id="MathJax-Span-2482" class="mi">s</span><span id="MathJax-Span-2483" class="mi">t</span><span id="MathJax-Span-2484" class="mi">a</span><span id="MathJax-Span-2485" class="mi">r</span><span id="MathJax-Span-2486" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></math></span></span> 上当前正在处理的 state, 我们希望可以建立<span id="MathJax-Element-224-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2487" class="math"><span id="MathJax-Span-2488" class="mrow"><span id="MathJax-Span-2489" class="mi">t</span><span id="MathJax-Span-2490" class="mi">r</span><span id="MathJax-Span-2491" class="mi">a</span><span id="MathJax-Span-2492" class="mi">n</span><span id="MathJax-Span-2493" class="mi">s</span><span id="MathJax-Span-2494" class="mo">(</span><span id="MathJax-Span-2495" class="mi">p</span><span id="MathJax-Span-2496" class="mo">,</span><span id="MathJax-Span-2497" class="mi">T</span><span id="MathJax-Span-2498" class="mo">[</span><span id="MathJax-Span-2499" class="mi">i</span><span id="MathJax-Span-2500" class="mo">+</span><span id="MathJax-Span-2501" class="mn">1</span><span id="MathJax-Span-2502" class="mo">]</span><span id="MathJax-Span-2503" class="mo">)</span><span id="MathJax-Span-2504" class="mo">=</span><span id="MathJax-Span-2505" class="mi">c</span><span id="MathJax-Span-2506" class="mi">u</span><span id="MathJax-Span-2507" class="mi">r</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>p</mi><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mi>c</mi><mi>u</mi><mi>r</mi></math></span></span>, 使得 <span id="MathJax-Element-225-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo&gt;&amp;#x2223;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;&amp;#x2286;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2508" class="math"><span id="MathJax-Span-2509" class="mrow"><span id="MathJax-Span-2510" class="mo">{</span><span id="MathJax-Span-2511" class="msubsup"><span id="MathJax-Span-2512" class="mi">s</span><span id="MathJax-Span-2513" class="mi">i</span></span><span id="MathJax-Span-2514" class="mo">+</span><span id="MathJax-Span-2515" class="mi">T</span><span id="MathJax-Span-2516" class="mo">[</span><span id="MathJax-Span-2517" class="mi">i</span><span id="MathJax-Span-2518" class="mo">+</span><span id="MathJax-Span-2519" class="mn">1</span><span id="MathJax-Span-2520" class="mo">]</span><span id="MathJax-Span-2521" class="mo">∣</span><span id="MathJax-Span-2522" class="msubsup"><span id="MathJax-Span-2523" class="mi">s</span><span id="MathJax-Span-2524" class="mi">i</span></span><span id="MathJax-Span-2525" class="mo">∈</span><span id="MathJax-Span-2526" class="mi">s</span><span id="MathJax-Span-2527" class="mi">u</span><span id="MathJax-Span-2528" class="mi">b</span><span id="MathJax-Span-2529" class="mi">s</span><span id="MathJax-Span-2530" class="mi">t</span><span id="MathJax-Span-2531" class="mi">r</span><span id="MathJax-Span-2532" class="mi">i</span><span id="MathJax-Span-2533" class="mi">n</span><span id="MathJax-Span-2534" class="mi">g</span><span id="MathJax-Span-2535" class="mi">s</span><span id="MathJax-Span-2536" class="mo">(</span><span id="MathJax-Span-2537" class="mi">p</span><span id="MathJax-Span-2538" class="mo">)</span><span id="MathJax-Span-2539" class="mo">}</span><span id="MathJax-Span-2540" class="mo">⊆</span><span id="MathJax-Span-2541" class="mi">s</span><span id="MathJax-Span-2542" class="mi">u</span><span id="MathJax-Span-2543" class="mi">b</span><span id="MathJax-Span-2544" class="mi">s</span><span id="MathJax-Span-2545" class="mi">t</span><span id="MathJax-Span-2546" class="mi">r</span><span id="MathJax-Span-2547" class="mi">i</span><span id="MathJax-Span-2548" class="mi">n</span><span id="MathJax-Span-2549" class="mi">g</span><span id="MathJax-Span-2550" class="mi">s</span><span id="MathJax-Span-2551" class="mo">(</span><span id="MathJax-Span-2552" class="mi">c</span><span id="MathJax-Span-2553" class="mi">u</span><span id="MathJax-Span-2554" class="mi">r</span><span id="MathJax-Span-2555" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">{</mo><msub><mi>s</mi><mi>i</mi></msub><mo>+</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo>∣</mo><msub><mi>s</mi><mi>i</mi></msub><mo>∈</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo fence="false" stretchy="false">}</mo><mo>⊆</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo></math></span></span>. 那么问题来了, <strong>如果已经存在 state transition <span id="MathJax-Element-226-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2556" class="math"><span id="MathJax-Span-2557" class="mrow"><span id="MathJax-Span-2558" class="mi">t</span><span id="MathJax-Span-2559" class="mi">r</span><span id="MathJax-Span-2560" class="mi">a</span><span id="MathJax-Span-2561" class="mi">n</span><span id="MathJax-Span-2562" class="mi">s</span><span id="MathJax-Span-2563" class="mo">(</span><span id="MathJax-Span-2564" class="mi">p</span><span id="MathJax-Span-2565" class="mo">,</span><span id="MathJax-Span-2566" class="mi">T</span><span id="MathJax-Span-2567" class="mo">[</span><span id="MathJax-Span-2568" class="mi">i</span><span id="MathJax-Span-2569" class="mo">+</span><span id="MathJax-Span-2570" class="mn">1</span><span id="MathJax-Span-2571" class="mo">]</span><span id="MathJax-Span-2572" class="mo">)</span><span id="MathJax-Span-2573" class="mo">=</span><span id="MathJax-Span-2574" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>p</mi><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mi>q</mi></math></span></span>, 其中 <span id="MathJax-Element-227-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2575" class="math"><span id="MathJax-Span-2576" class="mrow"><span id="MathJax-Span-2577" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>q</mi></math></span></span> 是 SAM 里某个已经存在的 state, 我们该怎么处理?</strong></p>
<p>首先, 如果出现了 <span id="MathJax-Element-228-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2578" class="math"><span id="MathJax-Span-2579" class="mrow"><span id="MathJax-Span-2580" class="mi">t</span><span id="MathJax-Span-2581" class="mi">r</span><span id="MathJax-Span-2582" class="mi">a</span><span id="MathJax-Span-2583" class="mi">n</span><span id="MathJax-Span-2584" class="mi">s</span><span id="MathJax-Span-2585" class="mo">(</span><span id="MathJax-Span-2586" class="mi">p</span><span id="MathJax-Span-2587" class="mo">,</span><span id="MathJax-Span-2588" class="mi">T</span><span id="MathJax-Span-2589" class="mo">[</span><span id="MathJax-Span-2590" class="mi">i</span><span id="MathJax-Span-2591" class="mo">+</span><span id="MathJax-Span-2592" class="mn">1</span><span id="MathJax-Span-2593" class="mo">]</span><span id="MathJax-Span-2594" class="mo">)</span><span id="MathJax-Span-2595" class="mo">=</span><span id="MathJax-Span-2596" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>p</mi><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mi>q</mi></math></span></span> 的情况, 意味着存在某个 suffix <span id="MathJax-Element-229-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;&amp;#x2290;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-2597" class="math"><span id="MathJax-Span-2598" class="mrow"><span id="MathJax-Span-2599" class="mi">x</span><span id="MathJax-Span-2600" class="mo">⊐</span><span id="MathJax-Span-2601" class="msubsup"><span id="MathJax-Span-2602" class="mi">T</span><span id="MathJax-Span-2603" class="mi">i</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>⊐</mo><msub><mi>T</mi><mi>i</mi></msub></math></span></span> (等价的, <span id="MathJax-Element-230-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2604" class="math"><span id="MathJax-Span-2605" class="mrow"><span id="MathJax-Span-2606" class="mi">x</span><span id="MathJax-Span-2607" class="mo">∈</span><span id="MathJax-Span-2608" class="mi">s</span><span id="MathJax-Span-2609" class="mi">u</span><span id="MathJax-Span-2610" class="mi">b</span><span id="MathJax-Span-2611" class="mi">s</span><span id="MathJax-Span-2612" class="mi">t</span><span id="MathJax-Span-2613" class="mi">r</span><span id="MathJax-Span-2614" class="mi">i</span><span id="MathJax-Span-2615" class="mi">n</span><span id="MathJax-Span-2616" class="mi">g</span><span id="MathJax-Span-2617" class="mi">s</span><span id="MathJax-Span-2618" class="mo">(</span><span id="MathJax-Span-2619" class="mi">p</span><span id="MathJax-Span-2620" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>∈</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></math></span></span>), 使 string <span id="MathJax-Element-231-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2621" class="math"><span id="MathJax-Span-2622" class="mrow"><span id="MathJax-Span-2623" class="mo">(</span><span id="MathJax-Span-2624" class="mi">x</span><span id="MathJax-Span-2625" class="mo">+</span><span id="MathJax-Span-2626" class="mi">T</span><span id="MathJax-Span-2627" class="mo">[</span><span id="MathJax-Span-2628" class="mi">i</span><span id="MathJax-Span-2629" class="mo">+</span><span id="MathJax-Span-2630" class="mn">1</span><span id="MathJax-Span-2631" class="mo">]</span><span id="MathJax-Span-2632" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo></math></span></span></p>
<ul>
<li><span id="MathJax-Element-232-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2633" class="math"><span id="MathJax-Span-2634" class="mrow"><span id="MathJax-Span-2635" class="mo">(</span><span id="MathJax-Span-2636" class="mi">x</span><span id="MathJax-Span-2637" class="mo">+</span><span id="MathJax-Span-2638" class="mi">T</span><span id="MathJax-Span-2639" class="mo">[</span><span id="MathJax-Span-2640" class="mi">i</span><span id="MathJax-Span-2641" class="mo">+</span><span id="MathJax-Span-2642" class="mn">1</span><span id="MathJax-Span-2643" class="mo">]</span><span id="MathJax-Span-2644" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo></math></span></span> 是 <span id="MathJax-Element-233-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-2645" class="math"><span id="MathJax-Span-2646" class="mrow"><span id="MathJax-Span-2647" class="msubsup"><span id="MathJax-Span-2648" class="mi">T</span><span id="MathJax-Span-2649" class="texatom"><span id="MathJax-Span-2650" class="mrow"><span id="MathJax-Span-2651" class="mi">i</span><span id="MathJax-Span-2652" class="mo">+</span><span id="MathJax-Span-2653" class="mn">1</span></span></span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math></span></span> 的 suffix (显然).</li>
<li><span id="MathJax-Element-234-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2654" class="math"><span id="MathJax-Span-2655" class="mrow"><span id="MathJax-Span-2656" class="mo">(</span><span id="MathJax-Span-2657" class="mi">x</span><span id="MathJax-Span-2658" class="mo">+</span><span id="MathJax-Span-2659" class="mi">T</span><span id="MathJax-Span-2660" class="mo">[</span><span id="MathJax-Span-2661" class="mi">i</span><span id="MathJax-Span-2662" class="mo">+</span><span id="MathJax-Span-2663" class="mn">1</span><span id="MathJax-Span-2664" class="mo">]</span><span id="MathJax-Span-2665" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo></math></span></span> 同时是 <span id="MathJax-Element-235-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-2666" class="math"><span id="MathJax-Span-2667" class="mrow"><span id="MathJax-Span-2668" class="msubsup"><span id="MathJax-Span-2669" class="mi">T</span><span id="MathJax-Span-2670" class="mi">i</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>i</mi></msub></math></span></span> 的某个 substring. 等价的, <span id="MathJax-Element-236-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2671" class="math"><span id="MathJax-Span-2672" class="mrow"><span id="MathJax-Span-2673" class="mo">(</span><span id="MathJax-Span-2674" class="mi">x</span><span id="MathJax-Span-2675" class="mo">+</span><span id="MathJax-Span-2676" class="mi">T</span><span id="MathJax-Span-2677" class="mo">[</span><span id="MathJax-Span-2678" class="mi">i</span><span id="MathJax-Span-2679" class="mo">+</span><span id="MathJax-Span-2680" class="mn">1</span><span id="MathJax-Span-2681" class="mo">]</span><span id="MathJax-Span-2682" class="mo">)</span><span id="MathJax-Span-2683" class="mo">∈</span><span id="MathJax-Span-2684" class="mi">s</span><span id="MathJax-Span-2685" class="mi">u</span><span id="MathJax-Span-2686" class="mi">b</span><span id="MathJax-Span-2687" class="mi">s</span><span id="MathJax-Span-2688" class="mi">t</span><span id="MathJax-Span-2689" class="mi">r</span><span id="MathJax-Span-2690" class="mi">i</span><span id="MathJax-Span-2691" class="mi">n</span><span id="MathJax-Span-2692" class="mi">g</span><span id="MathJax-Span-2693" class="mi">s</span><span id="MathJax-Span-2694" class="mo">(</span><span id="MathJax-Span-2695" class="mi">q</span><span id="MathJax-Span-2696" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>∈</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span>.<br>在识别到这个 <span id="MathJax-Element-237-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2697" class="math"><span id="MathJax-Span-2698" class="mrow"><span id="MathJax-Span-2699" class="mi">t</span><span id="MathJax-Span-2700" class="mi">r</span><span id="MathJax-Span-2701" class="mi">a</span><span id="MathJax-Span-2702" class="mi">n</span><span id="MathJax-Span-2703" class="mi">s</span><span id="MathJax-Span-2704" class="mo">(</span><span id="MathJax-Span-2705" class="mi">p</span><span id="MathJax-Span-2706" class="mo">,</span><span id="MathJax-Span-2707" class="mi">T</span><span id="MathJax-Span-2708" class="mo">[</span><span id="MathJax-Span-2709" class="mi">i</span><span id="MathJax-Span-2710" class="mo">+</span><span id="MathJax-Span-2711" class="mn">1</span><span id="MathJax-Span-2712" class="mo">]</span><span id="MathJax-Span-2713" class="mo">)</span><span id="MathJax-Span-2714" class="mo">=</span><span id="MathJax-Span-2715" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>p</mi><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mi>q</mi></math></span></span> 之后, 我们可以知道, 原先的 SAM 已经可以识别了 <span id="MathJax-Element-238-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-2716" class="math"><span id="MathJax-Span-2717" class="mrow"><span id="MathJax-Span-2718" class="msubsup"><span id="MathJax-Span-2719" class="mi">T</span><span id="MathJax-Span-2720" class="texatom"><span id="MathJax-Span-2721" class="mrow"><span id="MathJax-Span-2722" class="mi">i</span><span id="MathJax-Span-2723" class="mo">+</span><span id="MathJax-Span-2724" class="mn">1</span></span></span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math></span></span> 的 suffix 集合的<strong>子集</strong>, 由此, 可以使用 suffix link 将 state <span id="MathJax-Element-239-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2725" class="math"><span id="MathJax-Span-2726" class="mrow"><span id="MathJax-Span-2727" class="mi">c</span><span id="MathJax-Span-2728" class="mi">u</span><span id="MathJax-Span-2729" class="mi">r</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mi>u</mi><mi>r</mi></math></span></span> 指向 <strong>某个</strong> state, 这样更新后的 SAM 即可识别 <span id="MathJax-Element-240-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-2730" class="math"><span id="MathJax-Span-2731" class="mrow"><span id="MathJax-Span-2732" class="msubsup"><span id="MathJax-Span-2733" class="mi">T</span><span id="MathJax-Span-2734" class="texatom"><span id="MathJax-Span-2735" class="mrow"><span id="MathJax-Span-2736" class="mi">i</span><span id="MathJax-Span-2737" class="mo">+</span><span id="MathJax-Span-2738" class="mn">1</span></span></span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math></span></span> 的 suffix 集合.</li>
</ul>
<p>设 <strong>某个</strong> state 为 <span id="MathJax-Element-241-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2739" class="math"><span id="MathJax-Span-2740" class="mrow"><span id="MathJax-Span-2741" class="mi">p</span><span id="MathJax-Span-2742" class="mi">r</span><span id="MathJax-Span-2743" class="mi">e</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mi>r</mi><mi>e</mi></math></span></span>, 在识别到 <span id="MathJax-Element-242-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2744" class="math"><span id="MathJax-Span-2745" class="mrow"><span id="MathJax-Span-2746" class="mi">t</span><span id="MathJax-Span-2747" class="mi">r</span><span id="MathJax-Span-2748" class="mi">a</span><span id="MathJax-Span-2749" class="mi">n</span><span id="MathJax-Span-2750" class="mi">s</span><span id="MathJax-Span-2751" class="mo">(</span><span id="MathJax-Span-2752" class="mi">p</span><span id="MathJax-Span-2753" class="mo">,</span><span id="MathJax-Span-2754" class="mi">T</span><span id="MathJax-Span-2755" class="mo">[</span><span id="MathJax-Span-2756" class="mi">i</span><span id="MathJax-Span-2757" class="mo">+</span><span id="MathJax-Span-2758" class="mn">1</span><span id="MathJax-Span-2759" class="mo">]</span><span id="MathJax-Span-2760" class="mo">)</span><span id="MathJax-Span-2761" class="mo">=</span><span id="MathJax-Span-2762" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>p</mi><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mi>q</mi></math></span></span> 的情况下, 需要有 <span id="MathJax-Element-243-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2763" class="math"><span id="MathJax-Span-2764" class="mrow"><span id="MathJax-Span-2765" class="mi">l</span><span id="MathJax-Span-2766" class="mi">i</span><span id="MathJax-Span-2767" class="mi">n</span><span id="MathJax-Span-2768" class="mi">k</span><span id="MathJax-Span-2769" class="mo">(</span><span id="MathJax-Span-2770" class="mi">c</span><span id="MathJax-Span-2771" class="mi">u</span><span id="MathJax-Span-2772" class="mi">r</span><span id="MathJax-Span-2773" class="mo">)</span><span id="MathJax-Span-2774" class="mo">=</span><span id="MathJax-Span-2775" class="mi">p</span><span id="MathJax-Span-2776" class="mi">r</span><span id="MathJax-Span-2777" class="mi">e</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>p</mi><mi>r</mi><mi>e</mi></math></span></span>, 那么, <strong>state <span id="MathJax-Element-244-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2778" class="math"><span id="MathJax-Span-2779" class="mrow"><span id="MathJax-Span-2780" class="mi">p</span><span id="MathJax-Span-2781" class="mi">r</span><span id="MathJax-Span-2782" class="mi">e</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mi>r</mi><mi>e</mi></math></span></span> 需要满足什么样的性质?</strong></p>
<p>显然的, 在处理 state <span id="MathJax-Element-245-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2783" class="math"><span id="MathJax-Span-2784" class="mrow"><span id="MathJax-Span-2785" class="mi">p</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span> 的时候, 已经有 <span id="MathJax-Element-246-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/math&gt;"><span id="MathJax-Span-2786" class="math"><span id="MathJax-Span-2787" class="mrow"><span id="MathJax-Span-2788" class="mi">m</span><span id="MathJax-Span-2789" class="mi">i</span><span id="MathJax-Span-2790" class="mi">n</span><span id="MathJax-Span-2791" class="mi">l</span><span id="MathJax-Span-2792" class="mi">e</span><span id="MathJax-Span-2793" class="mi">n</span><span id="MathJax-Span-2794" class="mo">(</span><span id="MathJax-Span-2795" class="mi">c</span><span id="MathJax-Span-2796" class="mi">u</span><span id="MathJax-Span-2797" class="mi">r</span><span id="MathJax-Span-2798" class="mo">)</span><span id="MathJax-Span-2799" class="mo">=</span><span id="MathJax-Span-2800" class="mi">m</span><span id="MathJax-Span-2801" class="mi">a</span><span id="MathJax-Span-2802" class="mi">x</span><span id="MathJax-Span-2803" class="mi">l</span><span id="MathJax-Span-2804" class="mi">e</span><span id="MathJax-Span-2805" class="mi">n</span><span id="MathJax-Span-2806" class="mo">(</span><span id="MathJax-Span-2807" class="mi">p</span><span id="MathJax-Span-2808" class="mo">)</span><span id="MathJax-Span-2809" class="mo">+</span><span id="MathJax-Span-2810" class="mn">2</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>+</mo><mn>2</mn></math></span></span>. 设 state <span id="MathJax-Element-247-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;/math&gt;"><span id="MathJax-Span-2811" class="math"><span id="MathJax-Span-2812" class="mrow"><span id="MathJax-Span-2813" class="msup"><span id="MathJax-Span-2814" class="mi">p</span><span id="MathJax-Span-2815" class="mo">′</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>p</mi><mo>′</mo></msup></math></span></span> 满足 <span id="MathJax-Element-248-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2816" class="math"><span id="MathJax-Span-2817" class="mrow"><span id="MathJax-Span-2818" class="mi">p</span><span id="MathJax-Span-2819" class="mo">=</span><span id="MathJax-Span-2820" class="mi">l</span><span id="MathJax-Span-2821" class="mi">i</span><span id="MathJax-Span-2822" class="mi">n</span><span id="MathJax-Span-2823" class="mi">k</span><span id="MathJax-Span-2824" class="mo">(</span><span id="MathJax-Span-2825" class="msup"><span id="MathJax-Span-2826" class="mi">p</span><span id="MathJax-Span-2827" class="mo">′</span></span><span id="MathJax-Span-2828" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><msup><mi>p</mi><mo>′</mo></msup><mo stretchy="false">)</mo></math></span></span>, 根据 suffix link 的定义, 有 <span id="MathJax-Element-249-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2829" class="math"><span id="MathJax-Span-2830" class="mrow"><span id="MathJax-Span-2831" class="mi">m</span><span id="MathJax-Span-2832" class="mi">a</span><span id="MathJax-Span-2833" class="mi">x</span><span id="MathJax-Span-2834" class="mi">l</span><span id="MathJax-Span-2835" class="mi">e</span><span id="MathJax-Span-2836" class="mi">n</span><span id="MathJax-Span-2837" class="mo">(</span><span id="MathJax-Span-2838" class="mi">p</span><span id="MathJax-Span-2839" class="mo">)</span><span id="MathJax-Span-2840" class="mo">+</span><span id="MathJax-Span-2841" class="mn">1</span><span id="MathJax-Span-2842" class="mo">=</span><span id="MathJax-Span-2843" class="mi">m</span><span id="MathJax-Span-2844" class="mi">i</span><span id="MathJax-Span-2845" class="mi">n</span><span id="MathJax-Span-2846" class="mi">l</span><span id="MathJax-Span-2847" class="mi">e</span><span id="MathJax-Span-2848" class="mi">n</span><span id="MathJax-Span-2849" class="mo">(</span><span id="MathJax-Span-2850" class="msup"><span id="MathJax-Span-2851" class="mi">p</span><span id="MathJax-Span-2852" class="mo">′</span></span><span id="MathJax-Span-2853" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><msup><mi>p</mi><mo>′</mo></msup><mo stretchy="false">)</mo></math></span></span>. 由于在处理 state <span id="MathJax-Element-250-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2854" class="math"><span id="MathJax-Span-2855" class="mrow"><span id="MathJax-Span-2856" class="mi">p</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span> 的时候, 已经存在 <span id="MathJax-Element-251-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2857" class="math"><span id="MathJax-Span-2858" class="mrow"><span id="MathJax-Span-2859" class="mi">t</span><span id="MathJax-Span-2860" class="mi">r</span><span id="MathJax-Span-2861" class="mi">a</span><span id="MathJax-Span-2862" class="mi">n</span><span id="MathJax-Span-2863" class="mi">s</span><span id="MathJax-Span-2864" class="mo">(</span><span id="MathJax-Span-2865" class="msup"><span id="MathJax-Span-2866" class="mi">p</span><span id="MathJax-Span-2867" class="mo">′</span></span><span id="MathJax-Span-2868" class="mo">,</span><span id="MathJax-Span-2869" class="mi">T</span><span id="MathJax-Span-2870" class="mo">[</span><span id="MathJax-Span-2871" class="mi">i</span><span id="MathJax-Span-2872" class="mo">+</span><span id="MathJax-Span-2873" class="mn">1</span><span id="MathJax-Span-2874" class="mo">]</span><span id="MathJax-Span-2875" class="mo">)</span><span id="MathJax-Span-2876" class="mo">=</span><span id="MathJax-Span-2877" class="mi">c</span><span id="MathJax-Span-2878" class="mi">u</span><span id="MathJax-Span-2879" class="mi">r</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><msup><mi>p</mi><mo>′</mo></msup><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mi>c</mi><mi>u</mi><mi>r</mi></math></span></span>, 即有 <span id="MathJax-Element-252-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;"><span id="MathJax-Span-2880" class="math"><span id="MathJax-Span-2881" class="mrow"><span id="MathJax-Span-2882" class="mi">m</span><span id="MathJax-Span-2883" class="mi">i</span><span id="MathJax-Span-2884" class="mi">n</span><span id="MathJax-Span-2885" class="mi">l</span><span id="MathJax-Span-2886" class="mi">e</span><span id="MathJax-Span-2887" class="mi">n</span><span id="MathJax-Span-2888" class="mo">(</span><span id="MathJax-Span-2889" class="mi">c</span><span id="MathJax-Span-2890" class="mi">u</span><span id="MathJax-Span-2891" class="mi">r</span><span id="MathJax-Span-2892" class="mo">)</span><span id="MathJax-Span-2893" class="mo">=</span><span id="MathJax-Span-2894" class="mi">m</span><span id="MathJax-Span-2895" class="mi">i</span><span id="MathJax-Span-2896" class="mi">n</span><span id="MathJax-Span-2897" class="mi">l</span><span id="MathJax-Span-2898" class="mi">e</span><span id="MathJax-Span-2899" class="mi">n</span><span id="MathJax-Span-2900" class="mo">(</span><span id="MathJax-Span-2901" class="msup"><span id="MathJax-Span-2902" class="mi">p</span><span id="MathJax-Span-2903" class="mo">′</span></span><span id="MathJax-Span-2904" class="mo">)</span><span id="MathJax-Span-2905" class="mo">+</span><span id="MathJax-Span-2906" class="mn">1</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><msup><mi>p</mi><mo>′</mo></msup><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></math></span></span>. 所以, <span id="MathJax-Element-253-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/math&gt;"><span id="MathJax-Span-2907" class="math"><span id="MathJax-Span-2908" class="mrow"><span id="MathJax-Span-2909" class="mi">m</span><span id="MathJax-Span-2910" class="mi">i</span><span id="MathJax-Span-2911" class="mi">n</span><span id="MathJax-Span-2912" class="mi">l</span><span id="MathJax-Span-2913" class="mi">e</span><span id="MathJax-Span-2914" class="mi">n</span><span id="MathJax-Span-2915" class="mo">(</span><span id="MathJax-Span-2916" class="mi">c</span><span id="MathJax-Span-2917" class="mi">u</span><span id="MathJax-Span-2918" class="mi">r</span><span id="MathJax-Span-2919" class="mo">)</span><span id="MathJax-Span-2920" class="mo">=</span><span id="MathJax-Span-2921" class="mi">m</span><span id="MathJax-Span-2922" class="mi">i</span><span id="MathJax-Span-2923" class="mi">n</span><span id="MathJax-Span-2924" class="mi">l</span><span id="MathJax-Span-2925" class="mi">e</span><span id="MathJax-Span-2926" class="mi">n</span><span id="MathJax-Span-2927" class="mo">(</span><span id="MathJax-Span-2928" class="msup"><span id="MathJax-Span-2929" class="mi">p</span><span id="MathJax-Span-2930" class="mo">′</span></span><span id="MathJax-Span-2931" class="mo">)</span><span id="MathJax-Span-2932" class="mo">+</span><span id="MathJax-Span-2933" class="mn">1</span><span id="MathJax-Span-2934" class="mo">=</span><span id="MathJax-Span-2935" class="mi">m</span><span id="MathJax-Span-2936" class="mi">a</span><span id="MathJax-Span-2937" class="mi">x</span><span id="MathJax-Span-2938" class="mi">l</span><span id="MathJax-Span-2939" class="mi">e</span><span id="MathJax-Span-2940" class="mi">n</span><span id="MathJax-Span-2941" class="mo">(</span><span id="MathJax-Span-2942" class="mi">p</span><span id="MathJax-Span-2943" class="mo">)</span><span id="MathJax-Span-2944" class="mo">+</span><span id="MathJax-Span-2945" class="mn">2</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><msup><mi>p</mi><mo>′</mo></msup><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>+</mo><mn>2</mn></math></span></span>, 得证.</p>
<p>因为 <span id="MathJax-Element-254-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-2946" class="math"><span id="MathJax-Span-2947" class="mrow"><span id="MathJax-Span-2948" class="mi">l</span><span id="MathJax-Span-2949" class="mi">i</span><span id="MathJax-Span-2950" class="mi">n</span><span id="MathJax-Span-2951" class="mi">k</span><span id="MathJax-Span-2952" class="mo">(</span><span id="MathJax-Span-2953" class="mi">c</span><span id="MathJax-Span-2954" class="mi">u</span><span id="MathJax-Span-2955" class="mi">r</span><span id="MathJax-Span-2956" class="mo">)</span><span id="MathJax-Span-2957" class="mo">=</span><span id="MathJax-Span-2958" class="mi">p</span><span id="MathJax-Span-2959" class="mi">r</span><span id="MathJax-Span-2960" class="mi">e</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>p</mi><mi>r</mi><mi>e</mi></math></span></span>, 所以必有 <span id="MathJax-Element-255-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-2961" class="math"><span id="MathJax-Span-2962" class="mrow"><span id="MathJax-Span-2963" class="mi">m</span><span id="MathJax-Span-2964" class="mi">a</span><span id="MathJax-Span-2965" class="mi">x</span><span id="MathJax-Span-2966" class="mi">l</span><span id="MathJax-Span-2967" class="mi">e</span><span id="MathJax-Span-2968" class="mi">n</span><span id="MathJax-Span-2969" class="mo">(</span><span id="MathJax-Span-2970" class="mi">p</span><span id="MathJax-Span-2971" class="mi">r</span><span id="MathJax-Span-2972" class="mi">e</span><span id="MathJax-Span-2973" class="mo">)</span><span id="MathJax-Span-2974" class="mo">+</span><span id="MathJax-Span-2975" class="mn">1</span><span id="MathJax-Span-2976" class="mo">=</span><span id="MathJax-Span-2977" class="mi">m</span><span id="MathJax-Span-2978" class="mi">i</span><span id="MathJax-Span-2979" class="mi">n</span><span id="MathJax-Span-2980" class="mi">l</span><span id="MathJax-Span-2981" class="mi">e</span><span id="MathJax-Span-2982" class="mi">n</span><span id="MathJax-Span-2983" class="mo">(</span><span id="MathJax-Span-2984" class="mi">c</span><span id="MathJax-Span-2985" class="mi">u</span><span id="MathJax-Span-2986" class="mi">r</span><span id="MathJax-Span-2987" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>p</mi><mi>r</mi><mi>e</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo></math></span></span>, 结合上面的结论, 可以推导出 <span id="MathJax-Element-256-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;"><span id="MathJax-Span-2988" class="math"><span id="MathJax-Span-2989" class="mrow"><span id="MathJax-Span-2990" class="mi">m</span><span id="MathJax-Span-2991" class="mi">a</span><span id="MathJax-Span-2992" class="mi">x</span><span id="MathJax-Span-2993" class="mi">l</span><span id="MathJax-Span-2994" class="mi">e</span><span id="MathJax-Span-2995" class="mi">n</span><span id="MathJax-Span-2996" class="mo">(</span><span id="MathJax-Span-2997" class="mi">p</span><span id="MathJax-Span-2998" class="mi">r</span><span id="MathJax-Span-2999" class="mi">e</span><span id="MathJax-Span-3000" class="mo">)</span><span id="MathJax-Span-3001" class="mo">=</span><span id="MathJax-Span-3002" class="mi">m</span><span id="MathJax-Span-3003" class="mi">a</span><span id="MathJax-Span-3004" class="mi">x</span><span id="MathJax-Span-3005" class="mi">l</span><span id="MathJax-Span-3006" class="mi">e</span><span id="MathJax-Span-3007" class="mi">n</span><span id="MathJax-Span-3008" class="mo">(</span><span id="MathJax-Span-3009" class="mi">p</span><span id="MathJax-Span-3010" class="mo">)</span><span id="MathJax-Span-3011" class="mo">+</span><span id="MathJax-Span-3012" class="mn">1</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>p</mi><mi>r</mi><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></math></span></span>. 这意味着:</p>
<ul>
<li>存在 <span id="MathJax-Element-257-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3013" class="math"><span id="MathJax-Span-3014" class="mrow"><span id="MathJax-Span-3015" class="mi">t</span><span id="MathJax-Span-3016" class="mi">r</span><span id="MathJax-Span-3017" class="mi">a</span><span id="MathJax-Span-3018" class="mi">n</span><span id="MathJax-Span-3019" class="mi">s</span><span id="MathJax-Span-3020" class="mo">(</span><span id="MathJax-Span-3021" class="mi">p</span><span id="MathJax-Span-3022" class="mo">,</span><span id="MathJax-Span-3023" class="mi">T</span><span id="MathJax-Span-3024" class="mo">[</span><span id="MathJax-Span-3025" class="mi">i</span><span id="MathJax-Span-3026" class="mo">+</span><span id="MathJax-Span-3027" class="mn">1</span><span id="MathJax-Span-3028" class="mo">]</span><span id="MathJax-Span-3029" class="mo">)</span><span id="MathJax-Span-3030" class="mo">=</span><span id="MathJax-Span-3031" class="mi">p</span><span id="MathJax-Span-3032" class="mi">r</span><span id="MathJax-Span-3033" class="mi">e</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>p</mi><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mi>p</mi><mi>r</mi><mi>e</mi></math></span></span></li>
<li><span id="MathJax-Element-258-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3034" class="math"><span id="MathJax-Span-3035" class="mrow"><span id="MathJax-Span-3036" class="mi">l</span><span id="MathJax-Span-3037" class="mi">o</span><span id="MathJax-Span-3038" class="mi">n</span><span id="MathJax-Span-3039" class="mi">g</span><span id="MathJax-Span-3040" class="mi">e</span><span id="MathJax-Span-3041" class="mi">s</span><span id="MathJax-Span-3042" class="mi">t</span><span id="MathJax-Span-3043" class="mo">(</span><span id="MathJax-Span-3044" class="mi">p</span><span id="MathJax-Span-3045" class="mi">r</span><span id="MathJax-Span-3046" class="mi">e</span><span id="MathJax-Span-3047" class="mo">)</span><span id="MathJax-Span-3048" class="mo">=</span><span id="MathJax-Span-3049" class="mi">l</span><span id="MathJax-Span-3050" class="mi">o</span><span id="MathJax-Span-3051" class="mi">n</span><span id="MathJax-Span-3052" class="mi">g</span><span id="MathJax-Span-3053" class="mi">e</span><span id="MathJax-Span-3054" class="mi">s</span><span id="MathJax-Span-3055" class="mi">t</span><span id="MathJax-Span-3056" class="mo">(</span><span id="MathJax-Span-3057" class="mi">p</span><span id="MathJax-Span-3058" class="mo">)</span><span id="MathJax-Span-3059" class="mo">+</span><span id="MathJax-Span-3060" class="mi">T</span><span id="MathJax-Span-3061" class="mo">[</span><span id="MathJax-Span-3062" class="mi">i</span><span id="MathJax-Span-3063" class="mo">+</span><span id="MathJax-Span-3064" class="mn">1</span><span id="MathJax-Span-3065" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>p</mi><mi>r</mi><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><mi>l</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>+</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></math></span></span><br>And that’s it! 我们需要检测 state <span id="MathJax-Element-259-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3066" class="math"><span id="MathJax-Span-3067" class="mrow"><span id="MathJax-Span-3068" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>q</mi></math></span></span> 是否满足作为 <span id="MathJax-Element-260-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3069" class="math"><span id="MathJax-Span-3070" class="mrow"><span id="MathJax-Span-3071" class="mi">p</span><span id="MathJax-Span-3072" class="mi">r</span><span id="MathJax-Span-3073" class="mi">e</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mi>r</mi><mi>e</mi></math></span></span> 的条件:</li>
</ul>
<ol>
<li>如果 <span id="MathJax-Element-261-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3074" class="math"><span id="MathJax-Span-3075" class="mrow"><span id="MathJax-Span-3076" class="mi">m</span><span id="MathJax-Span-3077" class="mi">a</span><span id="MathJax-Span-3078" class="mi">x</span><span id="MathJax-Span-3079" class="mi">l</span><span id="MathJax-Span-3080" class="mi">e</span><span id="MathJax-Span-3081" class="mi">n</span><span id="MathJax-Span-3082" class="mo">(</span><span id="MathJax-Span-3083" class="mi">p</span><span id="MathJax-Span-3084" class="mo">)</span><span id="MathJax-Span-3085" class="mo">+</span><span id="MathJax-Span-3086" class="mn">1</span><span id="MathJax-Span-3087" class="mo">=</span><span id="MathJax-Span-3088" class="mi">m</span><span id="MathJax-Span-3089" class="mi">a</span><span id="MathJax-Span-3090" class="mi">x</span><span id="MathJax-Span-3091" class="mi">l</span><span id="MathJax-Span-3092" class="mi">e</span><span id="MathJax-Span-3093" class="mi">n</span><span id="MathJax-Span-3094" class="mo">(</span><span id="MathJax-Span-3095" class="mi">q</span><span id="MathJax-Span-3096" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span>, 那么 state <span id="MathJax-Element-262-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3097" class="math"><span id="MathJax-Span-3098" class="mrow"><span id="MathJax-Span-3099" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>q</mi></math></span></span> 就是我们要找的 <span id="MathJax-Element-263-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3100" class="math"><span id="MathJax-Span-3101" class="mrow"><span id="MathJax-Span-3102" class="mi">p</span><span id="MathJax-Span-3103" class="mi">r</span><span id="MathJax-Span-3104" class="mi">e</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mi>r</mi><mi>e</mi></math></span></span>, 直接设 <span id="MathJax-Element-264-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3105" class="math"><span id="MathJax-Span-3106" class="mrow"><span id="MathJax-Span-3107" class="mi">l</span><span id="MathJax-Span-3108" class="mi">i</span><span id="MathJax-Span-3109" class="mi">n</span><span id="MathJax-Span-3110" class="mi">k</span><span id="MathJax-Span-3111" class="mo">(</span><span id="MathJax-Span-3112" class="mi">c</span><span id="MathJax-Span-3113" class="mi">u</span><span id="MathJax-Span-3114" class="mi">r</span><span id="MathJax-Span-3115" class="mo">)</span><span id="MathJax-Span-3116" class="mo">=</span><span id="MathJax-Span-3117" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>q</mi></math></span></span>.</li>
<li>如果 <span id="MathJax-Element-265-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x003C;&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3118" class="math"><span id="MathJax-Span-3119" class="mrow"><span id="MathJax-Span-3120" class="mi">m</span><span id="MathJax-Span-3121" class="mi">a</span><span id="MathJax-Span-3122" class="mi">x</span><span id="MathJax-Span-3123" class="mi">l</span><span id="MathJax-Span-3124" class="mi">e</span><span id="MathJax-Span-3125" class="mi">n</span><span id="MathJax-Span-3126" class="mo">(</span><span id="MathJax-Span-3127" class="mi">p</span><span id="MathJax-Span-3128" class="mo">)</span><span id="MathJax-Span-3129" class="mo">+</span><span id="MathJax-Span-3130" class="mn">1</span><span id="MathJax-Span-3131" class="mo">&lt;</span><span id="MathJax-Span-3132" class="mi">m</span><span id="MathJax-Span-3133" class="mi">a</span><span id="MathJax-Span-3134" class="mi">x</span><span id="MathJax-Span-3135" class="mi">l</span><span id="MathJax-Span-3136" class="mi">e</span><span id="MathJax-Span-3137" class="mi">n</span><span id="MathJax-Span-3138" class="mo">(</span><span id="MathJax-Span-3139" class="mi">q</span><span id="MathJax-Span-3140" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>&lt;</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span>, 这意味着 <span id="MathJax-Element-266-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2282;&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3141" class="math"><span id="MathJax-Span-3142" class="mrow"><span id="MathJax-Span-3143" class="mi">s</span><span id="MathJax-Span-3144" class="mi">u</span><span id="MathJax-Span-3145" class="mi">b</span><span id="MathJax-Span-3146" class="mi">s</span><span id="MathJax-Span-3147" class="mi">t</span><span id="MathJax-Span-3148" class="mi">r</span><span id="MathJax-Span-3149" class="mi">i</span><span id="MathJax-Span-3150" class="mi">n</span><span id="MathJax-Span-3151" class="mi">g</span><span id="MathJax-Span-3152" class="mo">(</span><span id="MathJax-Span-3153" class="mi">p</span><span id="MathJax-Span-3154" class="mi">r</span><span id="MathJax-Span-3155" class="mi">e</span><span id="MathJax-Span-3156" class="mo">)</span><span id="MathJax-Span-3157" class="mo">⊂</span><span id="MathJax-Span-3158" class="mi">s</span><span id="MathJax-Span-3159" class="mi">u</span><span id="MathJax-Span-3160" class="mi">b</span><span id="MathJax-Span-3161" class="mi">s</span><span id="MathJax-Span-3162" class="mi">t</span><span id="MathJax-Span-3163" class="mi">r</span><span id="MathJax-Span-3164" class="mi">i</span><span id="MathJax-Span-3165" class="mi">n</span><span id="MathJax-Span-3166" class="mi">g</span><span id="MathJax-Span-3167" class="mo">(</span><span id="MathJax-Span-3168" class="mi">q</span><span id="MathJax-Span-3169" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mo stretchy="false">(</mo><mi>p</mi><mi>r</mi><mi>e</mi><mo stretchy="false">)</mo><mo>⊂</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span>. 这个时候, 需要将满足 <span id="MathJax-Element-267-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3170" class="math"><span id="MathJax-Span-3171" class="mrow"><span id="MathJax-Span-3172" class="mi">p</span><span id="MathJax-Span-3173" class="mi">r</span><span id="MathJax-Span-3174" class="mi">e</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mi>r</mi><mi>e</mi></math></span></span> 条件的部分从 <span id="MathJax-Element-268-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3175" class="math"><span id="MathJax-Span-3176" class="mrow"><span id="MathJax-Span-3177" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>q</mi></math></span></span> 里面剥离出去!</li>
<li>显然的, 不可能出现 <span id="MathJax-Element-269-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x003E;&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3178" class="math"><span id="MathJax-Span-3179" class="mrow"><span id="MathJax-Span-3180" class="mi">m</span><span id="MathJax-Span-3181" class="mi">a</span><span id="MathJax-Span-3182" class="mi">x</span><span id="MathJax-Span-3183" class="mi">l</span><span id="MathJax-Span-3184" class="mi">e</span><span id="MathJax-Span-3185" class="mi">n</span><span id="MathJax-Span-3186" class="mo">(</span><span id="MathJax-Span-3187" class="mi">p</span><span id="MathJax-Span-3188" class="mo">)</span><span id="MathJax-Span-3189" class="mo">+</span><span id="MathJax-Span-3190" class="mn">1</span><span id="MathJax-Span-3191" class="mo">&gt;</span><span id="MathJax-Span-3192" class="mi">m</span><span id="MathJax-Span-3193" class="mi">a</span><span id="MathJax-Span-3194" class="mi">x</span><span id="MathJax-Span-3195" class="mi">l</span><span id="MathJax-Span-3196" class="mi">e</span><span id="MathJax-Span-3197" class="mi">n</span><span id="MathJax-Span-3198" class="mo">(</span><span id="MathJax-Span-3199" class="mi">q</span><span id="MathJax-Span-3200" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>&gt;</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span> 的情况..<br>对于 <span id="MathJax-Element-270-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x003C;&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3201" class="math"><span id="MathJax-Span-3202" class="mrow"><span id="MathJax-Span-3203" class="mi">m</span><span id="MathJax-Span-3204" class="mi">a</span><span id="MathJax-Span-3205" class="mi">x</span><span id="MathJax-Span-3206" class="mi">l</span><span id="MathJax-Span-3207" class="mi">e</span><span id="MathJax-Span-3208" class="mi">n</span><span id="MathJax-Span-3209" class="mo">(</span><span id="MathJax-Span-3210" class="mi">p</span><span id="MathJax-Span-3211" class="mo">)</span><span id="MathJax-Span-3212" class="mo">+</span><span id="MathJax-Span-3213" class="mn">1</span><span id="MathJax-Span-3214" class="mo">&lt;</span><span id="MathJax-Span-3215" class="mi">m</span><span id="MathJax-Span-3216" class="mi">a</span><span id="MathJax-Span-3217" class="mi">x</span><span id="MathJax-Span-3218" class="mi">l</span><span id="MathJax-Span-3219" class="mi">e</span><span id="MathJax-Span-3220" class="mi">n</span><span id="MathJax-Span-3221" class="mo">(</span><span id="MathJax-Span-3222" class="mi">q</span><span id="MathJax-Span-3223" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>&lt;</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span> 的情况, 利用在 state transition 小节得到的结论, 我们可以知道, 对于 state <span id="MathJax-Element-271-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3224" class="math"><span id="MathJax-Span-3225" class="mrow"><span id="MathJax-Span-3226" class="mi">p</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span> 所在的 suffix-link path, 必然有 state <span id="MathJax-Element-272-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;/math&gt;"><span id="MathJax-Span-3227" class="math"><span id="MathJax-Span-3228" class="mrow"><span id="MathJax-Span-3229" class="msup"><span id="MathJax-Span-3230" class="mi">p</span><span id="MathJax-Span-3231" class="mo">′</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>p</mi><mo>′</mo></msup></math></span></span> 满足 <span id="MathJax-Element-273-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3232" class="math"><span id="MathJax-Span-3233" class="mrow"><span id="MathJax-Span-3234" class="mi">p</span><span id="MathJax-Span-3235" class="mo">=</span><span id="MathJax-Span-3236" class="mi">l</span><span id="MathJax-Span-3237" class="mi">i</span><span id="MathJax-Span-3238" class="mi">n</span><span id="MathJax-Span-3239" class="mi">k</span><span id="MathJax-Span-3240" class="mo">(</span><span id="MathJax-Span-3241" class="msup"><span id="MathJax-Span-3242" class="mi">p</span><span id="MathJax-Span-3243" class="mo">′</span></span><span id="MathJax-Span-3244" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><msup><mi>p</mi><mo>′</mo></msup><mo stretchy="false">)</mo></math></span></span> 且存在 <span id="MathJax-Element-274-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3245" class="math"><span id="MathJax-Span-3246" class="mrow"><span id="MathJax-Span-3247" class="mi">t</span><span id="MathJax-Span-3248" class="mi">r</span><span id="MathJax-Span-3249" class="mi">a</span><span id="MathJax-Span-3250" class="mi">n</span><span id="MathJax-Span-3251" class="mi">s</span><span id="MathJax-Span-3252" class="mo">(</span><span id="MathJax-Span-3253" class="msup"><span id="MathJax-Span-3254" class="mi">p</span><span id="MathJax-Span-3255" class="mo">′</span></span><span id="MathJax-Span-3256" class="mo">,</span><span id="MathJax-Span-3257" class="mi">T</span><span id="MathJax-Span-3258" class="mo">[</span><span id="MathJax-Span-3259" class="mi">i</span><span id="MathJax-Span-3260" class="mo">+</span><span id="MathJax-Span-3261" class="mn">1</span><span id="MathJax-Span-3262" class="mo">]</span><span id="MathJax-Span-3263" class="mo">)</span><span id="MathJax-Span-3264" class="mo">=</span><span id="MathJax-Span-3265" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><msup><mi>p</mi><mo>′</mo></msup><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mi>q</mi></math></span></span>. 由此, 可以将到 state <span id="MathJax-Element-275-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3266" class="math"><span id="MathJax-Span-3267" class="mrow"><span id="MathJax-Span-3268" class="mi">p</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span> 的 transition 分为两个部分:</li>
</ol>
<ul>
<li><span id="MathJax-Element-276-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3269" class="math"><span id="MathJax-Span-3270" class="mrow"><span id="MathJax-Span-3271" class="mi">P</span><span id="MathJax-Span-3272" class="mi">a</span><span id="MathJax-Span-3273" class="mi">r</span><span id="MathJax-Span-3274" class="mi">e</span><span id="MathJax-Span-3275" class="mi">n</span><span id="MathJax-Span-3276" class="mi">t</span><span id="MathJax-Span-3277" class="mi">s</span><span id="MathJax-Span-3278" class="mi">T</span><span id="MathJax-Span-3279" class="mi">r</span><span id="MathJax-Span-3280" class="mi">a</span><span id="MathJax-Span-3281" class="mi">n</span><span id="MathJax-Span-3282" class="mi">s</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>s</mi><mi>T</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi></math></span></span>: 包含满足条件的 state transitions <span id="MathJax-Element-277-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3283" class="math"><span id="MathJax-Span-3284" class="mrow"><span id="MathJax-Span-3285" class="mi">t</span><span id="MathJax-Span-3286" class="mi">r</span><span id="MathJax-Span-3287" class="mi">a</span><span id="MathJax-Span-3288" class="mi">n</span><span id="MathJax-Span-3289" class="mi">s</span><span id="MathJax-Span-3290" class="mo">(</span><span id="MathJax-Span-3291" class="mi">u</span><span id="MathJax-Span-3292" class="mo">,</span><span id="MathJax-Span-3293" class="mi">T</span><span id="MathJax-Span-3294" class="mo">[</span><span id="MathJax-Span-3295" class="mi">i</span><span id="MathJax-Span-3296" class="mo">+</span><span id="MathJax-Span-3297" class="mn">1</span><span id="MathJax-Span-3298" class="mo">]</span><span id="MathJax-Span-3299" class="mo">)</span><span id="MathJax-Span-3300" class="mo">=</span><span id="MathJax-Span-3301" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mi>q</mi></math></span></span>, 其中 state <span id="MathJax-Element-278-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3302" class="math"><span id="MathJax-Span-3303" class="mrow"><span id="MathJax-Span-3304" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span>满足存在 suffix-link path from <span id="MathJax-Element-279-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3305" class="math"><span id="MathJax-Span-3306" class="mrow"><span id="MathJax-Span-3307" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> to <span id="MathJax-Element-280-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;/math&gt;"><span id="MathJax-Span-3308" class="math"><span id="MathJax-Span-3309" class="mrow"><span id="MathJax-Span-3310" class="msup"><span id="MathJax-Span-3311" class="mi">p</span><span id="MathJax-Span-3312" class="mo">′</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>p</mi><mo>′</mo></msup></math></span></span>, including <span id="MathJax-Element-281-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;/math&gt;"><span id="MathJax-Span-3313" class="math"><span id="MathJax-Span-3314" class="mrow"><span id="MathJax-Span-3315" class="msup"><span id="MathJax-Span-3316" class="mi">p</span><span id="MathJax-Span-3317" class="mo">′</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>p</mi><mo>′</mo></msup></math></span></span>.</li>
<li><span id="MathJax-Element-282-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3318" class="math"><span id="MathJax-Span-3319" class="mrow"><span id="MathJax-Span-3320" class="mi">C</span><span id="MathJax-Span-3321" class="mi">h</span><span id="MathJax-Span-3322" class="mi">i</span><span id="MathJax-Span-3323" class="mi">l</span><span id="MathJax-Span-3324" class="mi">d</span><span id="MathJax-Span-3325" class="mi">r</span><span id="MathJax-Span-3326" class="mi">e</span><span id="MathJax-Span-3327" class="mi">n</span><span id="MathJax-Span-3328" class="mi">T</span><span id="MathJax-Span-3329" class="mi">r</span><span id="MathJax-Span-3330" class="mi">a</span><span id="MathJax-Span-3331" class="mi">n</span><span id="MathJax-Span-3332" class="mi">s</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>C</mi><mi>h</mi><mi>i</mi><mi>l</mi><mi>d</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>T</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi></math></span></span>: 包含满足条件的 state transitions <span id="MathJax-Element-283-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3333" class="math"><span id="MathJax-Span-3334" class="mrow"><span id="MathJax-Span-3335" class="mi">t</span><span id="MathJax-Span-3336" class="mi">r</span><span id="MathJax-Span-3337" class="mi">a</span><span id="MathJax-Span-3338" class="mi">n</span><span id="MathJax-Span-3339" class="mi">s</span><span id="MathJax-Span-3340" class="mo">(</span><span id="MathJax-Span-3341" class="mi">u</span><span id="MathJax-Span-3342" class="mo">,</span><span id="MathJax-Span-3343" class="mi">T</span><span id="MathJax-Span-3344" class="mo">[</span><span id="MathJax-Span-3345" class="mi">i</span><span id="MathJax-Span-3346" class="mo">+</span><span id="MathJax-Span-3347" class="mn">1</span><span id="MathJax-Span-3348" class="mo">]</span><span id="MathJax-Span-3349" class="mo">)</span><span id="MathJax-Span-3350" class="mo">=</span><span id="MathJax-Span-3351" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mi>q</mi></math></span></span>, 其中 state <span id="MathJax-Element-284-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3352" class="math"><span id="MathJax-Span-3353" class="mrow"><span id="MathJax-Span-3354" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span>满足存在 suffix-link path from <span id="MathJax-Element-285-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3355" class="math"><span id="MathJax-Span-3356" class="mrow"><span id="MathJax-Span-3357" class="mi">p</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span> to <span id="MathJax-Element-286-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3358" class="math"><span id="MathJax-Span-3359" class="mrow"><span id="MathJax-Span-3360" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span>, including <span id="MathJax-Element-287-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3361" class="math"><span id="MathJax-Span-3362" class="mrow"><span id="MathJax-Span-3363" class="mi">p</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span>.<br>以下为对应图例:</li>
</ul>
<p><img src="http://huntzhan.org/content/images/2016/07/sq-1.png" alt="sq.png"></p>
<p>其中, state <span id="MathJax-Element-288-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2033;&lt;/mo&gt;&lt;/msup&gt;&lt;/math&gt;"><span id="MathJax-Span-3364" class="math"><span id="MathJax-Span-3365" class="mrow"><span id="MathJax-Span-3366" class="msup"><span id="MathJax-Span-3367" class="mi">p</span><span id="MathJax-Span-3368" class="mo">′′</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>p</mi><mo>″</mo></msup></math></span></span> 是 state <span id="MathJax-Element-289-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3369" class="math"><span id="MathJax-Span-3370" class="mrow"><span id="MathJax-Span-3371" class="mi">p</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span> 的 child (through suffix link), 是最后一个满足 <span id="MathJax-Element-290-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3372" class="math"><span id="MathJax-Span-3373" class="mrow"><span id="MathJax-Span-3374" class="mi">t</span><span id="MathJax-Span-3375" class="mi">r</span><span id="MathJax-Span-3376" class="mi">a</span><span id="MathJax-Span-3377" class="mi">n</span><span id="MathJax-Span-3378" class="mi">s</span><span id="MathJax-Span-3379" class="mo">(</span><span id="MathJax-Span-3380" class="mi">u</span><span id="MathJax-Span-3381" class="mo">,</span><span id="MathJax-Span-3382" class="mi">T</span><span id="MathJax-Span-3383" class="mo">[</span><span id="MathJax-Span-3384" class="mi">i</span><span id="MathJax-Span-3385" class="mo">+</span><span id="MathJax-Span-3386" class="mn">1</span><span id="MathJax-Span-3387" class="mo">]</span><span id="MathJax-Span-3388" class="mo">)</span><span id="MathJax-Span-3389" class="mo">=</span><span id="MathJax-Span-3390" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mi>q</mi></math></span></span> 条件的 state, 也就是说, <span id="MathJax-Element-291-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2033;&lt;/mo&gt;&lt;/msup&gt;&lt;/math&gt;"><span id="MathJax-Span-3391" class="math"><span id="MathJax-Span-3392" class="mrow"><span id="MathJax-Span-3393" class="msup"><span id="MathJax-Span-3394" class="mi">p</span><span id="MathJax-Span-3395" class="mo">′′</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>p</mi><mo>″</mo></msup></math></span></span> 满足以下条件中的一个:</p>
<ul>
<li><span id="MathJax-Element-292-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2033;&lt;/mo&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3396" class="math"><span id="MathJax-Span-3397" class="mrow"><span id="MathJax-Span-3398" class="mi">l</span><span id="MathJax-Span-3399" class="mi">i</span><span id="MathJax-Span-3400" class="mi">n</span><span id="MathJax-Span-3401" class="mi">k</span><span id="MathJax-Span-3402" class="mo">(</span><span id="MathJax-Span-3403" class="msup"><span id="MathJax-Span-3404" class="mi">p</span><span id="MathJax-Span-3405" class="mo">′′</span></span><span id="MathJax-Span-3406" class="mo">)</span><span id="MathJax-Span-3407" class="mo">=</span><span id="MathJax-Span-3408" class="mi">n</span><span id="MathJax-Span-3409" class="mi">u</span><span id="MathJax-Span-3410" class="mi">l</span><span id="MathJax-Span-3411" class="mi">l</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><msup><mi>p</mi><mo>″</mo></msup><mo stretchy="false">)</mo><mo>=</mo><mi>n</mi><mi>u</mi><mi>l</mi><mi>l</mi></math></span></span>, 即 <span id="MathJax-Element-293-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2033;&lt;/mo&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3412" class="math"><span id="MathJax-Span-3413" class="mrow"><span id="MathJax-Span-3414" class="msup"><span id="MathJax-Span-3415" class="mi">p</span><span id="MathJax-Span-3416" class="mo">′′</span></span><span id="MathJax-Span-3417" class="mo">=</span><span id="MathJax-Span-3418" class="mi">s</span><span id="MathJax-Span-3419" class="mi">t</span><span id="MathJax-Span-3420" class="mi">a</span><span id="MathJax-Span-3421" class="mi">r</span><span id="MathJax-Span-3422" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>p</mi><mo>″</mo></msup><mo>=</mo><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></math></span></span></li>
<li><span id="MathJax-Element-294-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2033;&lt;/mo&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3423" class="math"><span id="MathJax-Span-3424" class="mrow"><span id="MathJax-Span-3425" class="mi">t</span><span id="MathJax-Span-3426" class="mi">r</span><span id="MathJax-Span-3427" class="mi">a</span><span id="MathJax-Span-3428" class="mi">n</span><span id="MathJax-Span-3429" class="mi">s</span><span id="MathJax-Span-3430" class="mo">(</span><span id="MathJax-Span-3431" class="mi">l</span><span id="MathJax-Span-3432" class="mi">i</span><span id="MathJax-Span-3433" class="mi">n</span><span id="MathJax-Span-3434" class="mi">k</span><span id="MathJax-Span-3435" class="mo">(</span><span id="MathJax-Span-3436" class="msup"><span id="MathJax-Span-3437" class="mi">p</span><span id="MathJax-Span-3438" class="mo">′′</span></span><span id="MathJax-Span-3439" class="mo">)</span><span id="MathJax-Span-3440" class="mo">,</span><span id="MathJax-Span-3441" class="mi">T</span><span id="MathJax-Span-3442" class="mo">[</span><span id="MathJax-Span-3443" class="mi">i</span><span id="MathJax-Span-3444" class="mo">+</span><span id="MathJax-Span-3445" class="mn">1</span><span id="MathJax-Span-3446" class="mo">]</span><span id="MathJax-Span-3447" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><msup><mi>p</mi><mo>″</mo></msup><mo stretchy="false">)</mo><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo></math></span></span> 不存在</li>
<li><span id="MathJax-Element-295-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2033;&lt;/mo&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3448" class="math"><span id="MathJax-Span-3449" class="mrow"><span id="MathJax-Span-3450" class="mi">t</span><span id="MathJax-Span-3451" class="mi">r</span><span id="MathJax-Span-3452" class="mi">a</span><span id="MathJax-Span-3453" class="mi">n</span><span id="MathJax-Span-3454" class="mi">s</span><span id="MathJax-Span-3455" class="mo">(</span><span id="MathJax-Span-3456" class="mi">l</span><span id="MathJax-Span-3457" class="mi">i</span><span id="MathJax-Span-3458" class="mi">n</span><span id="MathJax-Span-3459" class="mi">k</span><span id="MathJax-Span-3460" class="mo">(</span><span id="MathJax-Span-3461" class="msup"><span id="MathJax-Span-3462" class="mi">p</span><span id="MathJax-Span-3463" class="mo">′′</span></span><span id="MathJax-Span-3464" class="mo">)</span><span id="MathJax-Span-3465" class="mo">,</span><span id="MathJax-Span-3466" class="mi">T</span><span id="MathJax-Span-3467" class="mo">[</span><span id="MathJax-Span-3468" class="mi">i</span><span id="MathJax-Span-3469" class="mo">+</span><span id="MathJax-Span-3470" class="mn">1</span><span id="MathJax-Span-3471" class="mo">]</span><span id="MathJax-Span-3472" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><msup><mi>p</mi><mo>″</mo></msup><mo stretchy="false">)</mo><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo></math></span></span> 存在, 但 <span id="MathJax-Element-296-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;&amp;#x2033;&lt;/mo&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2260;&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3473" class="math"><span id="MathJax-Span-3474" class="mrow"><span id="MathJax-Span-3475" class="mi">t</span><span id="MathJax-Span-3476" class="mi">r</span><span id="MathJax-Span-3477" class="mi">a</span><span id="MathJax-Span-3478" class="mi">n</span><span id="MathJax-Span-3479" class="mi">s</span><span id="MathJax-Span-3480" class="mo">(</span><span id="MathJax-Span-3481" class="mi">l</span><span id="MathJax-Span-3482" class="mi">i</span><span id="MathJax-Span-3483" class="mi">n</span><span id="MathJax-Span-3484" class="mi">k</span><span id="MathJax-Span-3485" class="mo">(</span><span id="MathJax-Span-3486" class="msup"><span id="MathJax-Span-3487" class="mi">p</span><span id="MathJax-Span-3488" class="mo">′′</span></span><span id="MathJax-Span-3489" class="mo">)</span><span id="MathJax-Span-3490" class="mo">,</span><span id="MathJax-Span-3491" class="mi">T</span><span id="MathJax-Span-3492" class="mo">[</span><span id="MathJax-Span-3493" class="mi">i</span><span id="MathJax-Span-3494" class="mo">+</span><span id="MathJax-Span-3495" class="mn">1</span><span id="MathJax-Span-3496" class="mo">]</span><span id="MathJax-Span-3497" class="mo">)</span><span id="MathJax-Span-3498" class="mo">≠</span><span id="MathJax-Span-3499" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><msup><mi>p</mi><mo>″</mo></msup><mo stretchy="false">)</mo><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>≠</mo><mi>q</mi></math></span></span><br>由于 state transition 决定了 <span id="MathJax-Element-297-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3500" class="math"><span id="MathJax-Span-3501" class="mrow"><span id="MathJax-Span-3502" class="mi">s</span><span id="MathJax-Span-3503" class="mi">u</span><span id="MathJax-Span-3504" class="mi">b</span><span id="MathJax-Span-3505" class="mi">s</span><span id="MathJax-Span-3506" class="mi">t</span><span id="MathJax-Span-3507" class="mi">r</span><span id="MathJax-Span-3508" class="mi">i</span><span id="MathJax-Span-3509" class="mi">n</span><span id="MathJax-Span-3510" class="mi">g</span><span id="MathJax-Span-3511" class="mi">s</span><span id="MathJax-Span-3512" class="mo">(</span><span id="MathJax-Span-3513" class="mi">q</span><span id="MathJax-Span-3514" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span>, 为了将属于 <span id="MathJax-Element-298-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3515" class="math"><span id="MathJax-Span-3516" class="mrow"><span id="MathJax-Span-3517" class="mi">p</span><span id="MathJax-Span-3518" class="mi">r</span><span id="MathJax-Span-3519" class="mi">e</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mi>r</mi><mi>e</mi></math></span></span> 的部分从 state <span id="MathJax-Element-299-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3520" class="math"><span id="MathJax-Span-3521" class="mrow"><span id="MathJax-Span-3522" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>q</mi></math></span></span> 中分离出来, 可以新建一个 state <span id="MathJax-Element-300-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3523" class="math"><span id="MathJax-Span-3524" class="mrow"><span id="MathJax-Span-3525" class="mi">s</span><span id="MathJax-Span-3526" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>q</mi></math></span></span>, 将 <span id="MathJax-Element-301-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3527" class="math"><span id="MathJax-Span-3528" class="mrow"><span id="MathJax-Span-3529" class="mi">C</span><span id="MathJax-Span-3530" class="mi">h</span><span id="MathJax-Span-3531" class="mi">i</span><span id="MathJax-Span-3532" class="mi">l</span><span id="MathJax-Span-3533" class="mi">d</span><span id="MathJax-Span-3534" class="mi">r</span><span id="MathJax-Span-3535" class="mi">e</span><span id="MathJax-Span-3536" class="mi">n</span><span id="MathJax-Span-3537" class="mi">T</span><span id="MathJax-Span-3538" class="mi">r</span><span id="MathJax-Span-3539" class="mi">a</span><span id="MathJax-Span-3540" class="mi">n</span><span id="MathJax-Span-3541" class="mi">s</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>C</mi><mi>h</mi><mi>i</mi><mi>l</mi><mi>d</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>T</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi></math></span></span> 中的 transitions 全部转向 <span id="MathJax-Element-302-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3542" class="math"><span id="MathJax-Span-3543" class="mrow"><span id="MathJax-Span-3544" class="mi">s</span><span id="MathJax-Span-3545" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>q</mi></math></span></span>. 如下图所示:</li>
</ul>
<p><img src="http://huntzhan.org/content/images/2016/07/sq1-1.png" alt="sq1.png"></p>
<p>处理完以 state <span id="MathJax-Element-303-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3546" class="math"><span id="MathJax-Span-3547" class="mrow"><span id="MathJax-Span-3548" class="mi">s</span><span id="MathJax-Span-3549" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>q</mi></math></span></span> 为<strong>终点</strong>的 transitions 之后, 还需要考虑以 <span id="MathJax-Element-304-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3550" class="math"><span id="MathJax-Span-3551" class="mrow"><span id="MathJax-Span-3552" class="mi">s</span><span id="MathJax-Span-3553" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>q</mi></math></span></span> 为<strong>起点</strong>的 transitions. 显然的, 对于所有的 <span id="MathJax-Element-305-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;/math&gt;"><span id="MathJax-Span-3554" class="math"><span id="MathJax-Span-3555" class="mrow"><span id="MathJax-Span-3556" class="mi">t</span><span id="MathJax-Span-3557" class="mi">r</span><span id="MathJax-Span-3558" class="mi">a</span><span id="MathJax-Span-3559" class="mi">n</span><span id="MathJax-Span-3560" class="mi">s</span><span id="MathJax-Span-3561" class="mo">(</span><span id="MathJax-Span-3562" class="mi">q</span><span id="MathJax-Span-3563" class="mo">,</span><span id="MathJax-Span-3564" class="mi">c</span><span id="MathJax-Span-3565" class="mo">)</span><span id="MathJax-Span-3566" class="mo">=</span><span id="MathJax-Span-3567" class="msup"><span id="MathJax-Span-3568" class="mi">q</span><span id="MathJax-Span-3569" class="mo">′</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>q</mi><mo>,</mo><mi>c</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>q</mi><mo>′</mo></msup></math></span></span>, 也必须存在有 <span id="MathJax-Element-306-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msup&gt;&lt;/math&gt;"><span id="MathJax-Span-3570" class="math"><span id="MathJax-Span-3571" class="mrow"><span id="MathJax-Span-3572" class="mi">t</span><span id="MathJax-Span-3573" class="mi">r</span><span id="MathJax-Span-3574" class="mi">a</span><span id="MathJax-Span-3575" class="mi">n</span><span id="MathJax-Span-3576" class="mi">s</span><span id="MathJax-Span-3577" class="mo">(</span><span id="MathJax-Span-3578" class="mi">s</span><span id="MathJax-Span-3579" class="mi">q</span><span id="MathJax-Span-3580" class="mo">,</span><span id="MathJax-Span-3581" class="mi">c</span><span id="MathJax-Span-3582" class="mo">)</span><span id="MathJax-Span-3583" class="mo">=</span><span id="MathJax-Span-3584" class="msup"><span id="MathJax-Span-3585" class="mi">q</span><span id="MathJax-Span-3586" class="mo">′</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>s</mi><mi>q</mi><mo>,</mo><mi>c</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>q</mi><mo>′</mo></msup></math></span></span>. 所以, 直接把 state <span id="MathJax-Element-307-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3587" class="math"><span id="MathJax-Span-3588" class="mrow"><span id="MathJax-Span-3589" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>q</mi></math></span></span> 维护的 transitions copy 给 state <span id="MathJax-Element-308-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3590" class="math"><span id="MathJax-Span-3591" class="mrow"><span id="MathJax-Span-3592" class="mi">s</span><span id="MathJax-Span-3593" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>q</mi></math></span></span> 就可以了.</p>
<p>完成 transition 的调整之后, 还需要调整 suffix links:</p>
<ul>
<li><span id="MathJax-Element-309-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3594" class="math"><span id="MathJax-Span-3595" class="mrow"><span id="MathJax-Span-3596" class="mi">l</span><span id="MathJax-Span-3597" class="mi">i</span><span id="MathJax-Span-3598" class="mi">n</span><span id="MathJax-Span-3599" class="mi">k</span><span id="MathJax-Span-3600" class="mo">(</span><span id="MathJax-Span-3601" class="mi">s</span><span id="MathJax-Span-3602" class="mi">q</span><span id="MathJax-Span-3603" class="mo">)</span><span id="MathJax-Span-3604" class="mo">=</span><span id="MathJax-Span-3605" class="mi">l</span><span id="MathJax-Span-3606" class="mi">i</span><span id="MathJax-Span-3607" class="mi">n</span><span id="MathJax-Span-3608" class="mi">k</span><span id="MathJax-Span-3609" class="mo">(</span><span id="MathJax-Span-3610" class="mi">q</span><span id="MathJax-Span-3611" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>s</mi><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span>, 原因在于, 原先的 <span id="MathJax-Element-310-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3612" class="math"><span id="MathJax-Span-3613" class="mrow"><span id="MathJax-Span-3614" class="mi">s</span><span id="MathJax-Span-3615" class="mi">h</span><span id="MathJax-Span-3616" class="mi">o</span><span id="MathJax-Span-3617" class="mi">r</span><span id="MathJax-Span-3618" class="mi">t</span><span id="MathJax-Span-3619" class="mi">e</span><span id="MathJax-Span-3620" class="mi">s</span><span id="MathJax-Span-3621" class="mi">t</span><span id="MathJax-Span-3622" class="mo">(</span><span id="MathJax-Span-3623" class="mi">q</span><span id="MathJax-Span-3624" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>h</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span> 现在已经在 <span id="MathJax-Element-311-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3625" class="math"><span id="MathJax-Span-3626" class="mrow"><span id="MathJax-Span-3627" class="mi">s</span><span id="MathJax-Span-3628" class="mi">u</span><span id="MathJax-Span-3629" class="mi">b</span><span id="MathJax-Span-3630" class="mi">s</span><span id="MathJax-Span-3631" class="mi">t</span><span id="MathJax-Span-3632" class="mi">r</span><span id="MathJax-Span-3633" class="mi">i</span><span id="MathJax-Span-3634" class="mi">n</span><span id="MathJax-Span-3635" class="mi">g</span><span id="MathJax-Span-3636" class="mi">s</span><span id="MathJax-Span-3637" class="mo">(</span><span id="MathJax-Span-3638" class="mi">s</span><span id="MathJax-Span-3639" class="mi">q</span><span id="MathJax-Span-3640" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>u</mi><mi>b</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo stretchy="false">(</mo><mi>s</mi><mi>q</mi><mo stretchy="false">)</mo></math></span></span> 集合里, 所以需要调整 suffix link 以保证 suffix-link 的”连续性”.</li>
<li><span id="MathJax-Element-312-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3641" class="math"><span id="MathJax-Span-3642" class="mrow"><span id="MathJax-Span-3643" class="mi">l</span><span id="MathJax-Span-3644" class="mi">i</span><span id="MathJax-Span-3645" class="mi">n</span><span id="MathJax-Span-3646" class="mi">k</span><span id="MathJax-Span-3647" class="mo">(</span><span id="MathJax-Span-3648" class="mi">q</span><span id="MathJax-Span-3649" class="mo">)</span><span id="MathJax-Span-3650" class="mo">=</span><span id="MathJax-Span-3651" class="mi">s</span><span id="MathJax-Span-3652" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>q</mi></math></span></span>, 原因同上.<br>至此, 我们已经从 state <span id="MathJax-Element-313-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3653" class="math"><span id="MathJax-Span-3654" class="mrow"><span id="MathJax-Span-3655" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>q</mi></math></span></span> 中分离出满足 <span id="MathJax-Element-314-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3656" class="math"><span id="MathJax-Span-3657" class="mrow"><span id="MathJax-Span-3658" class="mi">p</span><span id="MathJax-Span-3659" class="mi">r</span><span id="MathJax-Span-3660" class="mi">e</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mi>r</mi><mi>e</mi></math></span></span> 特性的 state <span id="MathJax-Element-315-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3661" class="math"><span id="MathJax-Span-3662" class="mrow"><span id="MathJax-Span-3663" class="mi">s</span><span id="MathJax-Span-3664" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>q</mi></math></span></span>! 最后, 设 <span id="MathJax-Element-316-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3665" class="math"><span id="MathJax-Span-3666" class="mrow"><span id="MathJax-Span-3667" class="mi">l</span><span id="MathJax-Span-3668" class="mi">i</span><span id="MathJax-Span-3669" class="mi">n</span><span id="MathJax-Span-3670" class="mi">k</span><span id="MathJax-Span-3671" class="mo">(</span><span id="MathJax-Span-3672" class="mi">c</span><span id="MathJax-Span-3673" class="mi">u</span><span id="MathJax-Span-3674" class="mi">r</span><span id="MathJax-Span-3675" class="mo">)</span><span id="MathJax-Span-3676" class="mo">=</span><span id="MathJax-Span-3677" class="mi">s</span><span id="MathJax-Span-3678" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>q</mi></math></span></span>, Done!</li>
</ul>
<h2 id="SAM-Online-Construction-The-Pseudocode"><a href="#SAM-Online-Construction-The-Pseudocode" class="headerlink" title="SAM Online Construction: The Pseudocode"></a>SAM Online Construction: The Pseudocode</h2><p>利用上一小节的结论, 可以给出将 <span id="MathJax-Element-317-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3679" class="math"><span id="MathJax-Span-3680" class="mrow"><span id="MathJax-Span-3681" class="mi">T</span><span id="MathJax-Span-3682" class="mo">[</span><span id="MathJax-Span-3683" class="mi">i</span><span id="MathJax-Span-3684" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></math></span></span> 插入到 SAM 的算法步骤 (注意, 上一小节我们讨论的是将 <span id="MathJax-Element-318-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3685" class="math"><span id="MathJax-Span-3686" class="mrow"><span id="MathJax-Span-3687" class="mi">T</span><span id="MathJax-Span-3688" class="mo">[</span><span id="MathJax-Span-3689" class="mi">i</span><span id="MathJax-Span-3690" class="mo">+</span><span id="MathJax-Span-3691" class="mn">1</span><span id="MathJax-Span-3692" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></math></span></span> 插入到 <span id="MathJax-Element-319-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-3693" class="math"><span id="MathJax-Span-3694" class="mrow"><span id="MathJax-Span-3695" class="msubsup"><span id="MathJax-Span-3696" class="mi">T</span><span id="MathJax-Span-3697" class="mi">i</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>i</mi></msub></math></span></span> 的 SAM 里, 所以下面的表述会有细微的区别, 但原理是一样的):</p>
<ol>
<li>新建一个 state <span id="MathJax-Element-320-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3698" class="math"><span id="MathJax-Span-3699" class="mrow"><span id="MathJax-Span-3700" class="mi">c</span><span id="MathJax-Span-3701" class="mi">u</span><span id="MathJax-Span-3702" class="mi">r</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mi>u</mi><mi>r</mi></math></span></span>, 使 <span id="MathJax-Element-321-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;"><span id="MathJax-Span-3703" class="math"><span id="MathJax-Span-3704" class="mrow"><span id="MathJax-Span-3705" class="mi">m</span><span id="MathJax-Span-3706" class="mi">a</span><span id="MathJax-Span-3707" class="mi">x</span><span id="MathJax-Span-3708" class="mi">l</span><span id="MathJax-Span-3709" class="mi">e</span><span id="MathJax-Span-3710" class="mi">n</span><span id="MathJax-Span-3711" class="mo">(</span><span id="MathJax-Span-3712" class="mi">c</span><span id="MathJax-Span-3713" class="mi">u</span><span id="MathJax-Span-3714" class="mi">r</span><span id="MathJax-Span-3715" class="mo">)</span><span id="MathJax-Span-3716" class="mo">=</span><span id="MathJax-Span-3717" class="mi">m</span><span id="MathJax-Span-3718" class="mi">a</span><span id="MathJax-Span-3719" class="mi">x</span><span id="MathJax-Span-3720" class="mi">l</span><span id="MathJax-Span-3721" class="mi">e</span><span id="MathJax-Span-3722" class="mi">n</span><span id="MathJax-Span-3723" class="mo">(</span><span id="MathJax-Span-3724" class="mi">l</span><span id="MathJax-Span-3725" class="mi">a</span><span id="MathJax-Span-3726" class="mi">s</span><span id="MathJax-Span-3727" class="mi">t</span><span id="MathJax-Span-3728" class="mo">)</span><span id="MathJax-Span-3729" class="mo">+</span><span id="MathJax-Span-3730" class="mn">1</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></math></span></span>.</li>
<li>从 <span id="MathJax-Element-322-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3731" class="math"><span id="MathJax-Span-3732" class="mrow"><span id="MathJax-Span-3733" class="mi">l</span><span id="MathJax-Span-3734" class="mi">a</span><span id="MathJax-Span-3735" class="mi">s</span><span id="MathJax-Span-3736" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></math></span></span> 开始, 沿着 suffix-link path from <span id="MathJax-Element-323-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3737" class="math"><span id="MathJax-Span-3738" class="mrow"><span id="MathJax-Span-3739" class="mi">l</span><span id="MathJax-Span-3740" class="mi">a</span><span id="MathJax-Span-3741" class="mi">s</span><span id="MathJax-Span-3742" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></math></span></span> to <span id="MathJax-Element-324-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3743" class="math"><span id="MathJax-Span-3744" class="mrow"><span id="MathJax-Span-3745" class="mi">s</span><span id="MathJax-Span-3746" class="mi">t</span><span id="MathJax-Span-3747" class="mi">a</span><span id="MathJax-Span-3748" class="mi">r</span><span id="MathJax-Span-3749" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></math></span></span> 访问每个 state <span id="MathJax-Element-325-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3750" class="math"><span id="MathJax-Span-3751" class="mrow"><span id="MathJax-Span-3752" class="mi">p</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span>, 直到 <span id="MathJax-Element-326-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3753" class="math"><span id="MathJax-Span-3754" class="mrow"><span id="MathJax-Span-3755" class="mi">p</span><span id="MathJax-Span-3756" class="mo">=</span><span id="MathJax-Span-3757" class="mi">n</span><span id="MathJax-Span-3758" class="mi">u</span><span id="MathJax-Span-3759" class="mi">l</span><span id="MathJax-Span-3760" class="mi">l</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mo>=</mo><mi>n</mi><mi>u</mi><mi>l</mi><mi>l</mi></math></span></span> 或者存在 <span id="MathJax-Element-327-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3761" class="math"><span id="MathJax-Span-3762" class="mrow"><span id="MathJax-Span-3763" class="mi">t</span><span id="MathJax-Span-3764" class="mi">r</span><span id="MathJax-Span-3765" class="mi">a</span><span id="MathJax-Span-3766" class="mi">n</span><span id="MathJax-Span-3767" class="mi">s</span><span id="MathJax-Span-3768" class="mo">(</span><span id="MathJax-Span-3769" class="mi">p</span><span id="MathJax-Span-3770" class="mo">,</span><span id="MathJax-Span-3771" class="mi">T</span><span id="MathJax-Span-3772" class="mo">[</span><span id="MathJax-Span-3773" class="mi">i</span><span id="MathJax-Span-3774" class="mo">]</span><span id="MathJax-Span-3775" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>p</mi><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo></math></span></span> 的情况. 在循环中, 设 <span id="MathJax-Element-328-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3776" class="math"><span id="MathJax-Span-3777" class="mrow"><span id="MathJax-Span-3778" class="mi">t</span><span id="MathJax-Span-3779" class="mi">r</span><span id="MathJax-Span-3780" class="mi">a</span><span id="MathJax-Span-3781" class="mi">n</span><span id="MathJax-Span-3782" class="mi">s</span><span id="MathJax-Span-3783" class="mo">(</span><span id="MathJax-Span-3784" class="mi">p</span><span id="MathJax-Span-3785" class="mo">,</span><span id="MathJax-Span-3786" class="mi">T</span><span id="MathJax-Span-3787" class="mo">[</span><span id="MathJax-Span-3788" class="mi">i</span><span id="MathJax-Span-3789" class="mo">]</span><span id="MathJax-Span-3790" class="mo">)</span><span id="MathJax-Span-3791" class="mo">=</span><span id="MathJax-Span-3792" class="mi">c</span><span id="MathJax-Span-3793" class="mi">u</span><span id="MathJax-Span-3794" class="mi">r</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>p</mi><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mi>c</mi><mi>u</mi><mi>r</mi></math></span></span>.</li>
<li>判断 <span id="MathJax-Element-329-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3795" class="math"><span id="MathJax-Span-3796" class="mrow"><span id="MathJax-Span-3797" class="mi">p</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span> 是否为 <span id="MathJax-Element-330-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3798" class="math"><span id="MathJax-Span-3799" class="mrow"><span id="MathJax-Span-3800" class="mi">n</span><span id="MathJax-Span-3801" class="mi">u</span><span id="MathJax-Span-3802" class="mi">l</span><span id="MathJax-Span-3803" class="mi">l</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mi>u</mi><mi>l</mi><mi>l</mi></math></span></span>. 如果 <span id="MathJax-Element-331-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3804" class="math"><span id="MathJax-Span-3805" class="mrow"><span id="MathJax-Span-3806" class="mi">p</span><span id="MathJax-Span-3807" class="mo">=</span><span id="MathJax-Span-3808" class="mi">n</span><span id="MathJax-Span-3809" class="mi">u</span><span id="MathJax-Span-3810" class="mi">l</span><span id="MathJax-Span-3811" class="mi">l</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mo>=</mo><mi>n</mi><mi>u</mi><mi>l</mi><mi>l</mi></math></span></span>, 则设 <span id="MathJax-Element-332-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3812" class="math"><span id="MathJax-Span-3813" class="mrow"><span id="MathJax-Span-3814" class="mi">l</span><span id="MathJax-Span-3815" class="mi">i</span><span id="MathJax-Span-3816" class="mi">n</span><span id="MathJax-Span-3817" class="mi">k</span><span id="MathJax-Span-3818" class="mo">(</span><span id="MathJax-Span-3819" class="mi">c</span><span id="MathJax-Span-3820" class="mi">u</span><span id="MathJax-Span-3821" class="mi">r</span><span id="MathJax-Span-3822" class="mo">)</span><span id="MathJax-Span-3823" class="mo">=</span><span id="MathJax-Span-3824" class="mi">s</span><span id="MathJax-Span-3825" class="mi">t</span><span id="MathJax-Span-3826" class="mi">a</span><span id="MathJax-Span-3827" class="mi">r</span><span id="MathJax-Span-3828" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></math></span></span>, 结束后续操作. 反之, <span id="MathJax-Element-333-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3829" class="math"><span id="MathJax-Span-3830" class="mrow"><span id="MathJax-Span-3831" class="mi">p</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span> 是某个合法的 state, 且有 <span id="MathJax-Element-334-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3832" class="math"><span id="MathJax-Span-3833" class="mrow"><span id="MathJax-Span-3834" class="mi">t</span><span id="MathJax-Span-3835" class="mi">r</span><span id="MathJax-Span-3836" class="mi">a</span><span id="MathJax-Span-3837" class="mi">n</span><span id="MathJax-Span-3838" class="mi">s</span><span id="MathJax-Span-3839" class="mo">(</span><span id="MathJax-Span-3840" class="mi">p</span><span id="MathJax-Span-3841" class="mo">,</span><span id="MathJax-Span-3842" class="mi">T</span><span id="MathJax-Span-3843" class="mo">[</span><span id="MathJax-Span-3844" class="mi">i</span><span id="MathJax-Span-3845" class="mo">]</span><span id="MathJax-Span-3846" class="mo">)</span><span id="MathJax-Span-3847" class="mo">=</span><span id="MathJax-Span-3848" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>p</mi><mo>,</mo><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mi>q</mi></math></span></span>.</li>
<li>如果 <span id="MathJax-Element-335-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3849" class="math"><span id="MathJax-Span-3850" class="mrow"><span id="MathJax-Span-3851" class="mi">m</span><span id="MathJax-Span-3852" class="mi">a</span><span id="MathJax-Span-3853" class="mi">x</span><span id="MathJax-Span-3854" class="mi">l</span><span id="MathJax-Span-3855" class="mi">e</span><span id="MathJax-Span-3856" class="mi">n</span><span id="MathJax-Span-3857" class="mo">(</span><span id="MathJax-Span-3858" class="mi">p</span><span id="MathJax-Span-3859" class="mo">)</span><span id="MathJax-Span-3860" class="mo">+</span><span id="MathJax-Span-3861" class="mn">1</span><span id="MathJax-Span-3862" class="mo">=</span><span id="MathJax-Span-3863" class="mi">m</span><span id="MathJax-Span-3864" class="mi">a</span><span id="MathJax-Span-3865" class="mi">x</span><span id="MathJax-Span-3866" class="mi">l</span><span id="MathJax-Span-3867" class="mi">e</span><span id="MathJax-Span-3868" class="mi">n</span><span id="MathJax-Span-3869" class="mo">(</span><span id="MathJax-Span-3870" class="mi">q</span><span id="MathJax-Span-3871" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span>, 设 <span id="MathJax-Element-336-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3872" class="math"><span id="MathJax-Span-3873" class="mrow"><span id="MathJax-Span-3874" class="mi">l</span><span id="MathJax-Span-3875" class="mi">i</span><span id="MathJax-Span-3876" class="mi">n</span><span id="MathJax-Span-3877" class="mi">k</span><span id="MathJax-Span-3878" class="mo">(</span><span id="MathJax-Span-3879" class="mi">c</span><span id="MathJax-Span-3880" class="mi">u</span><span id="MathJax-Span-3881" class="mi">r</span><span id="MathJax-Span-3882" class="mo">)</span><span id="MathJax-Span-3883" class="mo">=</span><span id="MathJax-Span-3884" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>q</mi></math></span></span>.</li>
<li>如果 <span id="MathJax-Element-337-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x003C;&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3885" class="math"><span id="MathJax-Span-3886" class="mrow"><span id="MathJax-Span-3887" class="mi">m</span><span id="MathJax-Span-3888" class="mi">a</span><span id="MathJax-Span-3889" class="mi">x</span><span id="MathJax-Span-3890" class="mi">l</span><span id="MathJax-Span-3891" class="mi">e</span><span id="MathJax-Span-3892" class="mi">n</span><span id="MathJax-Span-3893" class="mo">(</span><span id="MathJax-Span-3894" class="mi">p</span><span id="MathJax-Span-3895" class="mo">)</span><span id="MathJax-Span-3896" class="mo">+</span><span id="MathJax-Span-3897" class="mn">1</span><span id="MathJax-Span-3898" class="mo">&lt;</span><span id="MathJax-Span-3899" class="mi">m</span><span id="MathJax-Span-3900" class="mi">a</span><span id="MathJax-Span-3901" class="mi">x</span><span id="MathJax-Span-3902" class="mi">l</span><span id="MathJax-Span-3903" class="mi">e</span><span id="MathJax-Span-3904" class="mi">n</span><span id="MathJax-Span-3905" class="mo">(</span><span id="MathJax-Span-3906" class="mi">q</span><span id="MathJax-Span-3907" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>&lt;</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span>, 从 state <span id="MathJax-Element-338-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3908" class="math"><span id="MathJax-Span-3909" class="mrow"><span id="MathJax-Span-3910" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>q</mi></math></span></span> 中拆分出 state <span id="MathJax-Element-339-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3911" class="math"><span id="MathJax-Span-3912" class="mrow"><span id="MathJax-Span-3913" class="mi">s</span><span id="MathJax-Span-3914" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>q</mi></math></span></span>, 设 <span id="MathJax-Element-340-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3915" class="math"><span id="MathJax-Span-3916" class="mrow"><span id="MathJax-Span-3917" class="mi">l</span><span id="MathJax-Span-3918" class="mi">i</span><span id="MathJax-Span-3919" class="mi">n</span><span id="MathJax-Span-3920" class="mi">k</span><span id="MathJax-Span-3921" class="mo">(</span><span id="MathJax-Span-3922" class="mi">s</span><span id="MathJax-Span-3923" class="mi">q</span><span id="MathJax-Span-3924" class="mo">)</span><span id="MathJax-Span-3925" class="mo">=</span><span id="MathJax-Span-3926" class="mi">l</span><span id="MathJax-Span-3927" class="mi">i</span><span id="MathJax-Span-3928" class="mi">n</span><span id="MathJax-Span-3929" class="mi">k</span><span id="MathJax-Span-3930" class="mo">(</span><span id="MathJax-Span-3931" class="mi">q</span><span id="MathJax-Span-3932" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>s</mi><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span>, 之后设 <span id="MathJax-Element-341-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3933" class="math"><span id="MathJax-Span-3934" class="mrow"><span id="MathJax-Span-3935" class="mi">l</span><span id="MathJax-Span-3936" class="mi">i</span><span id="MathJax-Span-3937" class="mi">n</span><span id="MathJax-Span-3938" class="mi">k</span><span id="MathJax-Span-3939" class="mo">(</span><span id="MathJax-Span-3940" class="mi">q</span><span id="MathJax-Span-3941" class="mo">)</span><span id="MathJax-Span-3942" class="mo">=</span><span id="MathJax-Span-3943" class="mi">s</span><span id="MathJax-Span-3944" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>q</mi></math></span></span>, <span id="MathJax-Element-342-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3945" class="math"><span id="MathJax-Span-3946" class="mrow"><span id="MathJax-Span-3947" class="mi">l</span><span id="MathJax-Span-3948" class="mi">i</span><span id="MathJax-Span-3949" class="mi">n</span><span id="MathJax-Span-3950" class="mi">k</span><span id="MathJax-Span-3951" class="mo">(</span><span id="MathJax-Span-3952" class="mi">c</span><span id="MathJax-Span-3953" class="mi">u</span><span id="MathJax-Span-3954" class="mi">r</span><span id="MathJax-Span-3955" class="mo">)</span><span id="MathJax-Span-3956" class="mo">=</span><span id="MathJax-Span-3957" class="mi">s</span><span id="MathJax-Span-3958" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>q</mi></math></span></span>.</li>
<li><p>更新 <span id="MathJax-Element-343-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3959" class="math"><span id="MathJax-Span-3960" class="mrow"><span id="MathJax-Span-3961" class="mi">l</span><span id="MathJax-Span-3962" class="mi">a</span><span id="MathJax-Span-3963" class="mi">s</span><span id="MathJax-Span-3964" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></math></span></span>, 使 <span id="MathJax-Element-344-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-3965" class="math"><span id="MathJax-Span-3966" class="mrow"><span id="MathJax-Span-3967" class="mi">l</span><span id="MathJax-Span-3968" class="mi">a</span><span id="MathJax-Span-3969" class="mi">s</span><span id="MathJax-Span-3970" class="mi">t</span><span id="MathJax-Span-3971" class="mo">=</span><span id="MathJax-Span-3972" class="mi">c</span><span id="MathJax-Span-3973" class="mi">u</span><span id="MathJax-Span-3974" class="mi">r</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi><mo>=</mo><mi>c</mi><mi>u</mi><mi>r</mi></math></span></span>.<br>以下是对应的 pseudocode:</p>
<p>Procedure Name: AddSymbolToSAM<br>Input: start, last, T[i]<br>Output: cur</p>
<h1 id="1"><a href="#1" class="headerlink" title="(1)"></a>(1)</h1><p>create state cur<br>maxlen(cur) = maxlen(last) + 1</p>
<h1 id="2"><a href="#2" class="headerlink" title="(2)"></a>(2)</h1><p>p = last<br>while p is not null AND trans(p, T[i]) not exists:<br>  trans(p, T[i]) = cur<br>  p = link(p)</p>
<h1 id="3"><a href="#3" class="headerlink" title="(3)"></a>(3)</h1><p>if p is null:<br>  link(cur) = start<br>  return cur</p>
<p>q = trans(p, T[i])<br>if maxlen(p) + 1 = maxlen(q):  </p>
<h1 id="4"><a href="#4" class="headerlink" title="(4)"></a>(4)</h1><p>  link(cur) = q<br>else:  </p>
<h1 id="5"><a href="#5" class="headerlink" title="(5)"></a>(5)</h1><p>  create state sq<br>  maxlen(sq) = maxlen(p) + 1<br>  for all trans(q, c) = q’:</p>
<pre><code>trans(sq, c) = q&apos;
</code></pre><p>  while p is valid AND trans(p, T[i]) = q:</p>
<pre><code>trans(p, T[i]) = sq
p = link(p)
</code></pre><p>  link(sq) = link(q)<br>  link(q) = sq<br>  link(cur) = sq</p>
<p>reutrn cur<br><code>&lt;/pre&gt;
所以, 给定一个 string &lt;span id=&quot;MathJax-Element-345-Frame&quot; class=&quot;MathJax&quot; style=&quot;text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;&quot; tabindex=&quot;0&quot; data-mathml=&quot;&amp;lt;math xmlns=&amp;quot;http://www.w3.org/1998/Math/MathML&amp;quot;&amp;gt;&amp;lt;mi&amp;gt;T&amp;lt;/mi&amp;gt;&amp;lt;/math&amp;gt;&quot;&gt;&lt;span id=&quot;MathJax-Span-3975&quot; class=&quot;math&quot;&gt;&lt;span id=&quot;MathJax-Span-3976&quot; class=&quot;mrow&quot;&gt;&lt;span id=&quot;MathJax-Span-3977&quot; class=&quot;mi&quot;&gt;T&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MJX_Assistive_MathML&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;&lt;/span&gt;&lt;/span&gt;, 构建对应 SAM 的 pseudocode 如下所示:
&lt;pre&gt;</code>Procedure Name: CreateSAM<br>Input: T<br>Output: start</p>
<p>create state start<br>last = start</p>
<p>for i in 1 to length(T):<br>  last = AddSymbolToSAM(start, last, T[i])</p>
<p>return start<br>`<br>Boom! SAM 的算法虽然理解上比较困难, 但是写起来还是很简单的, 基本上用 30-40 行的 C++ 代码就可以写完. 下面给出构建 <span id="MathJax-Element-346-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo&gt;=&amp;quot;&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;quot;&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3978" class="math"><span id="MathJax-Span-3979" class="mrow"><span id="MathJax-Span-3980" class="mi">T</span><span id="MathJax-Span-3981" class="mo">=”</span><span id="MathJax-Span-3982" class="mi">a</span><span id="MathJax-Span-3983" class="mi">b</span><span id="MathJax-Span-3984" class="mi">c</span><span id="MathJax-Span-3985" class="mi">b</span><span id="MathJax-Span-3986" class="mi">c</span><span id="MathJax-Span-3987" class="mo">“</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo>=”</mo><mi>a</mi><mi>b</mi><mi>c</mi><mi>b</mi><mi>c</mi><mo>“</mo></math></span></span> 的过程, 图片使用 <a href="https://github.com/huntzhan/SAM-PNG" target="_blank" rel="noopener">SAM-PNG</a> + <a href="https://en.wikipedia.org/wiki/DOT_(graph_description_language" target="_blank" rel="noopener">DOT</a>) 生成, <a href="https://github.com/huntzhan/SAM-PNG" target="_blank" rel="noopener">SAM-PNG</a> 是我用 C++ 写的 SAM 实现, 有需要的同学也可以去看一下.</p>
<p>初始化:</p>
<p><img src="http://huntzhan.org/content/images/2016/07/example-empty-1.png" alt="example-empty.png"></p>
<p>加入 <span id="MathJax-Element-347-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3988" class="math"><span id="MathJax-Span-3989" class="mrow"><span id="MathJax-Span-3990" class="mi">T</span><span id="MathJax-Span-3991" class="mo">[</span><span id="MathJax-Span-3992" class="mn">1</span><span id="MathJax-Span-3993" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo></math></span></span>:</p>
<p><img src="http://huntzhan.org/content/images/2016/07/example-a-1.png" alt="example-a.png"></p>
<p>加入 <span id="MathJax-Element-348-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-3994" class="math"><span id="MathJax-Span-3995" class="mrow"><span id="MathJax-Span-3996" class="mi">T</span><span id="MathJax-Span-3997" class="mo">[</span><span id="MathJax-Span-3998" class="mn">2</span><span id="MathJax-Span-3999" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo></math></span></span>:</p>
<p><img src="http://huntzhan.org/content/images/2016/07/example-ab-1.png" alt="example-ab.png"></p>
<p>加入 <span id="MathJax-Element-349-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4000" class="math"><span id="MathJax-Span-4001" class="mrow"><span id="MathJax-Span-4002" class="mi">T</span><span id="MathJax-Span-4003" class="mo">[</span><span id="MathJax-Span-4004" class="mn">3</span><span id="MathJax-Span-4005" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mn>3</mn><mo stretchy="false">]</mo></math></span></span>:</p>
<p><img src="http://huntzhan.org/content/images/2016/07/example-abc-1.png" alt="example-abc.png"></p>
<p>加入 <span id="MathJax-Element-350-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4006" class="math"><span id="MathJax-Span-4007" class="mrow"><span id="MathJax-Span-4008" class="mi">T</span><span id="MathJax-Span-4009" class="mo">[</span><span id="MathJax-Span-4010" class="mn">4</span><span id="MathJax-Span-4011" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mn>4</mn><mo stretchy="false">]</mo></math></span></span>:</p>
<p><img src="http://huntzhan.org/content/images/2016/07/example-abcb-1.png" alt="example-abcb.png"></p>
<p>加入 <span id="MathJax-Element-351-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4012" class="math"><span id="MathJax-Span-4013" class="mrow"><span id="MathJax-Span-4014" class="mi">T</span><span id="MathJax-Span-4015" class="mo">[</span><span id="MathJax-Span-4016" class="mn">5</span><span id="MathJax-Span-4017" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mn>5</mn><mo stretchy="false">]</mo></math></span></span>:</p>
<p><img src="http://huntzhan.org/content/images/2016/07/example-abcbc-1.png" alt="example-abcbc.png"></p>
<h2 id="SAM-The-Time-Space-Complexity"><a href="#SAM-The-Time-Space-Complexity" class="headerlink" title="SAM: The Time/Space Complexity"></a>SAM: The Time/Space Complexity</h2><p>问题: 对于 <span id="MathJax-Element-352-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4018" class="math"><span id="MathJax-Span-4019" class="mrow"><span id="MathJax-Span-4020" class="mi">n</span><span id="MathJax-Span-4021" class="mo">=</span><span id="MathJax-Span-4022" class="mi">l</span><span id="MathJax-Span-4023" class="mi">e</span><span id="MathJax-Span-4024" class="mi">n</span><span id="MathJax-Span-4025" class="mi">g</span><span id="MathJax-Span-4026" class="mi">t</span><span id="MathJax-Span-4027" class="mi">h</span><span id="MathJax-Span-4028" class="mo">(</span><span id="MathJax-Span-4029" class="mi">T</span><span id="MathJax-Span-4030" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mo>=</mo><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo></math></span></span>, 求 SAM 的 time/space complexity.</p>
<p>先来考虑 space complexity. 由于 SAM 本质上是 graph, 所以在考虑 space complexity 的时候, 需要考虑 state (node) 与 transition (edge) 的数量.</p>
<p>根据 SAM 的构建过程, 往 SAM 里加入 <span id="MathJax-Element-353-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4031" class="math"><span id="MathJax-Span-4032" class="mrow"><span id="MathJax-Span-4033" class="mi">T</span><span id="MathJax-Span-4034" class="mo">[</span><span id="MathJax-Span-4035" class="mn">1</span><span id="MathJax-Span-4036" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo></math></span></span>, <span id="MathJax-Element-354-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4037" class="math"><span id="MathJax-Span-4038" class="mrow"><span id="MathJax-Span-4039" class="mi">T</span><span id="MathJax-Span-4040" class="mo">[</span><span id="MathJax-Span-4041" class="mn">2</span><span id="MathJax-Span-4042" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo></math></span></span> 时, 仅会增加 1 state, 对于剩下的 <span id="MathJax-Element-355-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4043" class="math"><span id="MathJax-Span-4044" class="mrow"><span id="MathJax-Span-4045" class="mi">T</span><span id="MathJax-Span-4046" class="mo">[</span><span id="MathJax-Span-4047" class="mn">3</span><span id="MathJax-Span-4048" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mn>3</mn><mo stretchy="false">]</mo></math></span></span> 至 <span id="MathJax-Element-356-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4049" class="math"><span id="MathJax-Span-4050" class="mrow"><span id="MathJax-Span-4051" class="mi">T</span><span id="MathJax-Span-4052" class="mo">[</span><span id="MathJax-Span-4053" class="mi">n</span><span id="MathJax-Span-4054" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mi>n</mi><mo stretchy="false">]</mo></math></span></span>, 每次处理最多增加 2 states, 所以, state 的上限是 <span id="MathJax-Element-357-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;"><span id="MathJax-Span-4055" class="math"><span id="MathJax-Span-4056" class="mrow"><span id="MathJax-Span-4057" class="mn">1</span><span id="MathJax-Span-4058" class="mo">+</span><span id="MathJax-Span-4059" class="mn">2</span><span id="MathJax-Span-4060" class="mo">+</span><span id="MathJax-Span-4061" class="mn">2</span><span id="MathJax-Span-4062" class="mo">(</span><span id="MathJax-Span-4063" class="mi">n</span><span id="MathJax-Span-4064" class="mo">−</span><span id="MathJax-Span-4065" class="mn">2</span><span id="MathJax-Span-4066" class="mo">)</span><span id="MathJax-Span-4067" class="mo">=</span><span id="MathJax-Span-4068" class="mn">2</span><span id="MathJax-Span-4069" class="mi">n</span><span id="MathJax-Span-4070" class="mo">−</span><span id="MathJax-Span-4071" class="mn">1</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mo>+</mo><mn>2</mn><mo>+</mo><mn>2</mn><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><mn>2</mn><mi>n</mi><mo>−</mo><mn>1</mn></math></span></span>, 即 state 的数量是 <span id="MathJax-Element-358-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4072" class="math"><span id="MathJax-Span-4073" class="mrow"><span id="MathJax-Span-4074" class="mi">O</span><span id="MathJax-Span-4075" class="mo">(</span><span id="MathJax-Span-4076" class="mi">n</span><span id="MathJax-Span-4077" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></math></span></span>.</p>
<p>为了得出 transition 的数量, 先定义出两类 transition. 给定一个 transition <span id="MathJax-Element-359-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4078" class="math"><span id="MathJax-Span-4079" class="mrow"><span id="MathJax-Span-4080" class="mi">t</span><span id="MathJax-Span-4081" class="mi">r</span><span id="MathJax-Span-4082" class="mi">a</span><span id="MathJax-Span-4083" class="mi">n</span><span id="MathJax-Span-4084" class="mi">s</span><span id="MathJax-Span-4085" class="mo">(</span><span id="MathJax-Span-4086" class="mi">u</span><span id="MathJax-Span-4087" class="mo">,</span><span id="MathJax-Span-4088" class="mi">c</span><span id="MathJax-Span-4089" class="mo">)</span><span id="MathJax-Span-4090" class="mo">=</span><span id="MathJax-Span-4091" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>c</mi><mo stretchy="false">)</mo><mo>=</mo><mi>v</mi></math></span></span>:</p>
</li>
</ol>
<ul>
<li>如果 <span id="MathJax-Element-360-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4092" class="math"><span id="MathJax-Span-4093" class="mrow"><span id="MathJax-Span-4094" class="mi">m</span><span id="MathJax-Span-4095" class="mi">a</span><span id="MathJax-Span-4096" class="mi">x</span><span id="MathJax-Span-4097" class="mi">l</span><span id="MathJax-Span-4098" class="mi">e</span><span id="MathJax-Span-4099" class="mi">n</span><span id="MathJax-Span-4100" class="mo">(</span><span id="MathJax-Span-4101" class="mi">u</span><span id="MathJax-Span-4102" class="mo">)</span><span id="MathJax-Span-4103" class="mo">+</span><span id="MathJax-Span-4104" class="mn">1</span><span id="MathJax-Span-4105" class="mo">=</span><span id="MathJax-Span-4106" class="mi">m</span><span id="MathJax-Span-4107" class="mi">a</span><span id="MathJax-Span-4108" class="mi">x</span><span id="MathJax-Span-4109" class="mi">l</span><span id="MathJax-Span-4110" class="mi">e</span><span id="MathJax-Span-4111" class="mi">n</span><span id="MathJax-Span-4112" class="mo">(</span><span id="MathJax-Span-4113" class="mi">v</span><span id="MathJax-Span-4114" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></math></span></span>, 则称之为 continuous transition.</li>
<li><p>反之, 称之为 discontinuous transition.<br>由于 state 的上限是 <span id="MathJax-Element-361-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;"><span id="MathJax-Span-4115" class="math"><span id="MathJax-Span-4116" class="mrow"><span id="MathJax-Span-4117" class="mn">2</span><span id="MathJax-Span-4118" class="mi">n</span><span id="MathJax-Span-4119" class="mo">−</span><span id="MathJax-Span-4120" class="mn">1</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn><mi>n</mi><mo>−</mo><mn>1</mn></math></span></span>, 所以 continues transition 数量的上限是 <span id="MathJax-Element-362-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/math&gt;"><span id="MathJax-Span-4121" class="math"><span id="MathJax-Span-4122" class="mrow"><span id="MathJax-Span-4123" class="mn">2</span><span id="MathJax-Span-4124" class="mi">n</span><span id="MathJax-Span-4125" class="mo">−</span><span id="MathJax-Span-4126" class="mn">2</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn><mi>n</mi><mo>−</mo><mn>2</mn></math></span></span>, 即 <span id="MathJax-Element-363-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4127" class="math"><span id="MathJax-Span-4128" class="mrow"><span id="MathJax-Span-4129" class="mi">O</span><span id="MathJax-Span-4130" class="mo">(</span><span id="MathJax-Span-4131" class="mi">n</span><span id="MathJax-Span-4132" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></math></span></span>.</p>
<p>对于每个 discontinues transition <span id="MathJax-Element-364-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4133" class="math"><span id="MathJax-Span-4134" class="mrow"><span id="MathJax-Span-4135" class="mi">t</span><span id="MathJax-Span-4136" class="mi">r</span><span id="MathJax-Span-4137" class="mi">a</span><span id="MathJax-Span-4138" class="mi">n</span><span id="MathJax-Span-4139" class="mi">s</span><span id="MathJax-Span-4140" class="mo">(</span><span id="MathJax-Span-4141" class="mi">u</span><span id="MathJax-Span-4142" class="mo">,</span><span id="MathJax-Span-4143" class="mi">c</span><span id="MathJax-Span-4144" class="mo">)</span><span id="MathJax-Span-4145" class="mo">=</span><span id="MathJax-Span-4146" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>c</mi><mo stretchy="false">)</mo><mo>=</mo><mi>v</mi></math></span></span>, 设 <span id="MathJax-Element-365-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-4147" class="math"><span id="MathJax-Span-4148" class="mrow"><span id="MathJax-Span-4149" class="msubsup"><span id="MathJax-Span-4150" class="mi">s</span><span id="MathJax-Span-4151" class="mi">u</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mi>u</mi></msub></math></span></span> 为从 <span id="MathJax-Element-366-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4152" class="math"><span id="MathJax-Span-4153" class="mrow"><span id="MathJax-Span-4154" class="mi">s</span><span id="MathJax-Span-4155" class="mi">t</span><span id="MathJax-Span-4156" class="mi">a</span><span id="MathJax-Span-4157" class="mi">r</span><span id="MathJax-Span-4158" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></math></span></span> 到 <span id="MathJax-Element-367-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4159" class="math"><span id="MathJax-Span-4160" class="mrow"><span id="MathJax-Span-4161" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 的最长 path, 这个 path 中必然只包含 continues transition. 设 <span id="MathJax-Element-368-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-4162" class="math"><span id="MathJax-Span-4163" class="mrow"><span id="MathJax-Span-4164" class="msubsup"><span id="MathJax-Span-4165" class="mi">s</span><span id="MathJax-Span-4166" class="mi">v</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mi>v</mi></msub></math></span></span> 为从 <span id="MathJax-Element-369-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4167" class="math"><span id="MathJax-Span-4168" class="mrow"><span id="MathJax-Span-4169" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span> 到 accept state 的, 最长的只包含 continues transition 的路径, 由于每个 state 要么是 accept state, 要么存在以这个 state 为起点的一个或多个 continues transition, 所以 <span id="MathJax-Element-370-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;"><span id="MathJax-Span-4170" class="math"><span id="MathJax-Span-4171" class="mrow"><span id="MathJax-Span-4172" class="msubsup"><span id="MathJax-Span-4173" class="mi">s</span><span id="MathJax-Span-4174" class="mi">v</span></span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>s</mi><mi>v</mi></msub></math></span></span> 也必然存在. 所以, 对于所有的 discontinues transition <span id="MathJax-Element-371-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4175" class="math"><span id="MathJax-Span-4176" class="mrow"><span id="MathJax-Span-4177" class="mi">t</span><span id="MathJax-Span-4178" class="mi">r</span><span id="MathJax-Span-4179" class="mi">a</span><span id="MathJax-Span-4180" class="mi">n</span><span id="MathJax-Span-4181" class="mi">s</span><span id="MathJax-Span-4182" class="mo">(</span><span id="MathJax-Span-4183" class="mi">u</span><span id="MathJax-Span-4184" class="mo">,</span><span id="MathJax-Span-4185" class="mi">c</span><span id="MathJax-Span-4186" class="mo">)</span><span id="MathJax-Span-4187" class="mo">=</span><span id="MathJax-Span-4188" class="mi">v</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>c</mi><mo stretchy="false">)</mo><mo>=</mo><mi>v</mi></math></span></span>, 必然有 <span id="MathJax-Element-372-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2290;&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4189" class="math"><span id="MathJax-Span-4190" class="mrow"><span id="MathJax-Span-4191" class="mo">(</span><span id="MathJax-Span-4192" class="msubsup"><span id="MathJax-Span-4193" class="mi">s</span><span id="MathJax-Span-4194" class="mi">u</span></span><span id="MathJax-Span-4195" class="mo">+</span><span id="MathJax-Span-4196" class="mi">c</span><span id="MathJax-Span-4197" class="mo">+</span><span id="MathJax-Span-4198" class="msubsup"><span id="MathJax-Span-4199" class="mi">s</span><span id="MathJax-Span-4200" class="mi">v</span></span><span id="MathJax-Span-4201" class="mo">)</span><span id="MathJax-Span-4202" class="mo">⊐</span><span id="MathJax-Span-4203" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><msub><mi>s</mi><mi>u</mi></msub><mo>+</mo><mi>c</mi><mo>+</mo><msub><mi>s</mi><mi>v</mi></msub><mo stretchy="false">)</mo><mo>⊐</mo><mi>T</mi></math></span></span>, 而且不同的 discontinues transition 对应的 <span id="MathJax-Element-373-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4204" class="math"><span id="MathJax-Span-4205" class="mrow"><span id="MathJax-Span-4206" class="mo">(</span><span id="MathJax-Span-4207" class="msubsup"><span id="MathJax-Span-4208" class="mi">s</span><span id="MathJax-Span-4209" class="mi">u</span></span><span id="MathJax-Span-4210" class="mo">+</span><span id="MathJax-Span-4211" class="mi">c</span><span id="MathJax-Span-4212" class="mo">+</span><span id="MathJax-Span-4213" class="msubsup"><span id="MathJax-Span-4214" class="mi">s</span><span id="MathJax-Span-4215" class="mi">v</span></span><span id="MathJax-Span-4216" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><msub><mi>s</mi><mi>u</mi></msub><mo>+</mo><mi>c</mi><mo>+</mo><msub><mi>s</mi><mi>v</mi></msub><mo stretchy="false">)</mo></math></span></span> 各不相同. 因为 <span id="MathJax-Element-374-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4217" class="math"><span id="MathJax-Span-4218" class="mrow"><span id="MathJax-Span-4219" class="mi">T</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span> 的 unique suffixes 数量的上限是 <span id="MathJax-Element-375-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4220" class="math"><span id="MathJax-Span-4221" class="mrow"><span id="MathJax-Span-4222" class="mi">n</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></span></span>, 所以 discontinues transition 的数量也是 <span id="MathJax-Element-376-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4223" class="math"><span id="MathJax-Span-4224" class="mrow"><span id="MathJax-Span-4225" class="mi">O</span><span id="MathJax-Span-4226" class="mo">(</span><span id="MathJax-Span-4227" class="mi">n</span><span id="MathJax-Span-4228" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></math></span></span>.</p>
<p>所以, transition 的数量是 <span id="MathJax-Element-377-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4229" class="math"><span id="MathJax-Span-4230" class="mrow"><span id="MathJax-Span-4231" class="mi">O</span><span id="MathJax-Span-4232" class="mo">(</span><span id="MathJax-Span-4233" class="mi">n</span><span id="MathJax-Span-4234" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></math></span></span>.</p>
<p>由此, SAM 的 space complexity 是 <span id="MathJax-Element-378-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4235" class="math"><span id="MathJax-Span-4236" class="mrow"><span id="MathJax-Span-4237" class="mi">O</span><span id="MathJax-Span-4238" class="mo">(</span><span id="MathJax-Span-4239" class="mi">n</span><span id="MathJax-Span-4240" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></math></span></span>.</p>
<p>接着我们来考虑 time complexity. 根据 SAM 的构建算法, 影响 time complexity 的操作有三种:</p>
</li>
</ul>
<ol>
<li>第 (2) 步的创建 transitions.</li>
<li>第 (5) 步的 copy transitions from <span id="MathJax-Element-379-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4241" class="math"><span id="MathJax-Span-4242" class="mrow"><span id="MathJax-Span-4243" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>q</mi></math></span></span> to <span id="MathJax-Element-380-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4244" class="math"><span id="MathJax-Span-4245" class="mrow"><span id="MathJax-Span-4246" class="mi">s</span><span id="MathJax-Span-4247" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>q</mi></math></span></span>.</li>
<li><p>第 (5) 步的重定向 transitions <span id="MathJax-Element-381-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4248" class="math"><span id="MathJax-Span-4249" class="mrow"><span id="MathJax-Span-4250" class="mi">C</span><span id="MathJax-Span-4251" class="mi">h</span><span id="MathJax-Span-4252" class="mi">i</span><span id="MathJax-Span-4253" class="mi">l</span><span id="MathJax-Span-4254" class="mi">d</span><span id="MathJax-Span-4255" class="mi">r</span><span id="MathJax-Span-4256" class="mi">e</span><span id="MathJax-Span-4257" class="mi">n</span><span id="MathJax-Span-4258" class="mi">T</span><span id="MathJax-Span-4259" class="mi">r</span><span id="MathJax-Span-4260" class="mi">a</span><span id="MathJax-Span-4261" class="mi">n</span><span id="MathJax-Span-4262" class="mi">s</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>C</mi><mi>h</mi><mi>i</mi><mi>l</mi><mi>d</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>T</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi></math></span></span>.<br>显然, (1) 与 (2) 只涉及创建新的 transition, 由于 transition 的上限是 <span id="MathJax-Element-382-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4263" class="math"><span id="MathJax-Span-4264" class="mrow"><span id="MathJax-Span-4265" class="mi">O</span><span id="MathJax-Span-4266" class="mo">(</span><span id="MathJax-Span-4267" class="mi">n</span><span id="MathJax-Span-4268" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></math></span></span>, 所以均摊后 (1) 与 (2) 类操作的复杂度是 <span id="MathJax-Element-383-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4269" class="math"><span id="MathJax-Span-4270" class="mrow"><span id="MathJax-Span-4271" class="mi">O</span><span id="MathJax-Span-4272" class="mo">(</span><span id="MathJax-Span-4273" class="mi">n</span><span id="MathJax-Span-4274" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></math></span></span>. 至于 (3) 我就不知道怎么证了, 我找到了一些 paper 说这个是可以证的, 但是具体怎么搞我没想清楚. 如果你有比较好的证明方法, 请务必告诉我, 我请你喝咖啡!</p>
<h2 id="State-With-More-Information"><a href="#State-With-More-Information" class="headerlink" title="State With More Information"></a>State With More Information</h2><p>上文提到, 为了完成 SAM 的构建, 每个 State <span id="MathJax-Element-384-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4275" class="math"><span id="MathJax-Span-4276" class="mrow"><span id="MathJax-Span-4277" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 仅维护以下信息即可:</p>
</li>
</ol>
<ul>
<li><span id="MathJax-Element-385-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4278" class="math"><span id="MathJax-Span-4279" class="mrow"><span id="MathJax-Span-4280" class="mi">m</span><span id="MathJax-Span-4281" class="mi">a</span><span id="MathJax-Span-4282" class="mi">x</span><span id="MathJax-Span-4283" class="mi">l</span><span id="MathJax-Span-4284" class="mi">e</span><span id="MathJax-Span-4285" class="mi">n</span><span id="MathJax-Span-4286" class="mo">(</span><span id="MathJax-Span-4287" class="mi">u</span><span id="MathJax-Span-4288" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span></li>
<li><span id="MathJax-Element-386-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4289" class="math"><span id="MathJax-Span-4290" class="mrow"><span id="MathJax-Span-4291" class="mi">l</span><span id="MathJax-Span-4292" class="mi">i</span><span id="MathJax-Span-4293" class="mi">n</span><span id="MathJax-Span-4294" class="mi">k</span><span id="MathJax-Span-4295" class="mo">(</span><span id="MathJax-Span-4296" class="mi">u</span><span id="MathJax-Span-4297" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span></li>
<li><p><span id="MathJax-Element-387-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A3;&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4298" class="math"><span id="MathJax-Span-4299" class="mrow"><span id="MathJax-Span-4300" class="mi">t</span><span id="MathJax-Span-4301" class="mi">r</span><span id="MathJax-Span-4302" class="mi">a</span><span id="MathJax-Span-4303" class="mi">n</span><span id="MathJax-Span-4304" class="mi">s</span><span id="MathJax-Span-4305" class="mo">(</span><span id="MathJax-Span-4306" class="mi">u</span><span id="MathJax-Span-4307" class="mo">,</span><span id="MathJax-Span-4308" class="mi">Σ</span><span id="MathJax-Span-4309" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi mathvariant="normal">Σ</mi><mo stretchy="false">)</mo></math></span></span><br>在解决实际问题的时候, 往往需要 State <span id="MathJax-Element-388-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4310" class="math"><span id="MathJax-Span-4311" class="mrow"><span id="MathJax-Span-4312" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 维护更多的信息, 例如:</p>
</li>
<li><p><span id="MathJax-Element-389-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4313" class="math"><span id="MathJax-Span-4314" class="mrow"><span id="MathJax-Span-4315" class="mi">m</span><span id="MathJax-Span-4316" class="mi">i</span><span id="MathJax-Span-4317" class="mi">n</span><span id="MathJax-Span-4318" class="mi">l</span><span id="MathJax-Span-4319" class="mi">e</span><span id="MathJax-Span-4320" class="mi">n</span><span id="MathJax-Span-4321" class="mo">(</span><span id="MathJax-Span-4322" class="mi">u</span><span id="MathJax-Span-4323" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span></p>
</li>
<li><span id="MathJax-Element-390-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4324" class="math"><span id="MathJax-Span-4325" class="mrow"><span id="MathJax-Span-4326" class="mi">f</span><span id="MathJax-Span-4327" class="mi">i</span><span id="MathJax-Span-4328" class="mi">r</span><span id="MathJax-Span-4329" class="mi">s</span><span id="MathJax-Span-4330" class="mi">t</span><span id="MathJax-Span-4331" class="mi">_</span><span id="MathJax-Span-4332" class="mi">e</span><span id="MathJax-Span-4333" class="mi">n</span><span id="MathJax-Span-4334" class="mi">d</span><span id="MathJax-Span-4335" class="mi">p</span><span id="MathJax-Span-4336" class="mi">o</span><span id="MathJax-Span-4337" class="mi">s</span><span id="MathJax-Span-4338" class="mo">(</span><span id="MathJax-Span-4339" class="mi">u</span><span id="MathJax-Span-4340" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi><mi mathvariant="normal">_</mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>, 代表 <span id="MathJax-Element-391-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4341" class="math"><span id="MathJax-Span-4342" class="mrow"><span id="MathJax-Span-4343" class="mi">e</span><span id="MathJax-Span-4344" class="mi">n</span><span id="MathJax-Span-4345" class="mi">d</span><span id="MathJax-Span-4346" class="mi">p</span><span id="MathJax-Span-4347" class="mi">o</span><span id="MathJax-Span-4348" class="mi">s</span><span id="MathJax-Span-4349" class="mo">(</span><span id="MathJax-Span-4350" class="mi">u</span><span id="MathJax-Span-4351" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 中的最小下标.</li>
<li><p><span id="MathJax-Element-392-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4352" class="math"><span id="MathJax-Span-4353" class="mrow"><span id="MathJax-Span-4354" class="mi">a</span><span id="MathJax-Span-4355" class="mi">c</span><span id="MathJax-Span-4356" class="mi">c</span><span id="MathJax-Span-4357" class="mi">e</span><span id="MathJax-Span-4358" class="mi">p</span><span id="MathJax-Span-4359" class="mi">t</span><span id="MathJax-Span-4360" class="mo">(</span><span id="MathJax-Span-4361" class="mi">u</span><span id="MathJax-Span-4362" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mi>c</mi><mi>c</mi><mi>e</mi><mi>p</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>, boolean 值, <span id="MathJax-Element-393-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4363" class="math"><span id="MathJax-Span-4364" class="mrow"><span id="MathJax-Span-4365" class="mi">a</span><span id="MathJax-Span-4366" class="mi">c</span><span id="MathJax-Span-4367" class="mi">c</span><span id="MathJax-Span-4368" class="mi">e</span><span id="MathJax-Span-4369" class="mi">p</span><span id="MathJax-Span-4370" class="mi">t</span><span id="MathJax-Span-4371" class="mo">(</span><span id="MathJax-Span-4372" class="mi">u</span><span id="MathJax-Span-4373" class="mo">)</span><span id="MathJax-Span-4374" class="mo">=</span><span id="MathJax-Span-4375" class="mi">t</span><span id="MathJax-Span-4376" class="mi">r</span><span id="MathJax-Span-4377" class="mi">u</span><span id="MathJax-Span-4378" class="mi">e</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mi>c</mi><mi>c</mi><mi>e</mi><mi>p</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo>=</mo><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi></math></span></span> 代表 state <span id="MathJax-Element-394-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4379" class="math"><span id="MathJax-Span-4380" class="mrow"><span id="MathJax-Span-4381" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 是 accept state.<br><span id="MathJax-Element-395-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4382" class="math"><span id="MathJax-Span-4383" class="mrow"><span id="MathJax-Span-4384" class="mi">m</span><span id="MathJax-Span-4385" class="mi">i</span><span id="MathJax-Span-4386" class="mi">n</span><span id="MathJax-Span-4387" class="mi">l</span><span id="MathJax-Span-4388" class="mi">e</span><span id="MathJax-Span-4389" class="mi">n</span><span id="MathJax-Span-4390" class="mo">(</span><span id="MathJax-Span-4391" class="mi">u</span><span id="MathJax-Span-4392" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 的维护是最简单的, 由于有 <span id="MathJax-Element-396-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mspace width=&quot;thickmathspace&quot; /&gt;&lt;mo stretchy=&quot;false&quot;&gt;&amp;#x27F9;&lt;/mo&gt;&lt;mspace width=&quot;thickmathspace&quot; /&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4393" class="math"><span id="MathJax-Span-4394" class="mrow"><span id="MathJax-Span-4395" class="mi">v</span><span id="MathJax-Span-4396" class="mo">=</span><span id="MathJax-Span-4397" class="mi">l</span><span id="MathJax-Span-4398" class="mi">i</span><span id="MathJax-Span-4399" class="mi">n</span><span id="MathJax-Span-4400" class="mi">k</span><span id="MathJax-Span-4401" class="mo">(</span><span id="MathJax-Span-4402" class="mi">u</span><span id="MathJax-Span-4403" class="mo">)</span><span id="MathJax-Span-4404" class="mspace"></span><span id="MathJax-Span-4405" class="mo">⟹</span><span id="MathJax-Span-4406" class="mspace"></span><span id="MathJax-Span-4407" class="mi">m</span><span id="MathJax-Span-4408" class="mi">a</span><span id="MathJax-Span-4409" class="mi">x</span><span id="MathJax-Span-4410" class="mi">l</span><span id="MathJax-Span-4411" class="mi">e</span><span id="MathJax-Span-4412" class="mi">n</span><span id="MathJax-Span-4413" class="mo">(</span><span id="MathJax-Span-4414" class="mi">v</span><span id="MathJax-Span-4415" class="mo">)</span><span id="MathJax-Span-4416" class="mo">+</span><span id="MathJax-Span-4417" class="mn">1</span><span id="MathJax-Span-4418" class="mo">=</span><span id="MathJax-Span-4419" class="mi">m</span><span id="MathJax-Span-4420" class="mi">i</span><span id="MathJax-Span-4421" class="mi">n</span><span id="MathJax-Span-4422" class="mi">l</span><span id="MathJax-Span-4423" class="mi">e</span><span id="MathJax-Span-4424" class="mi">n</span><span id="MathJax-Span-4425" class="mo">(</span><span id="MathJax-Span-4426" class="mi">u</span><span id="MathJax-Span-4427" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mspace width="thickmathspace"></mspace><mo stretchy="false">⟹</mo><mspace width="thickmathspace"></mspace><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>, 所以只要在更新 <span id="MathJax-Element-397-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4428" class="math"><span id="MathJax-Span-4429" class="mrow"><span id="MathJax-Span-4430" class="mi">l</span><span id="MathJax-Span-4431" class="mi">i</span><span id="MathJax-Span-4432" class="mi">n</span><span id="MathJax-Span-4433" class="mi">k</span><span id="MathJax-Span-4434" class="mo">(</span><span id="MathJax-Span-4435" class="mi">u</span><span id="MathJax-Span-4436" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 的时候同时更新 <span id="MathJax-Element-398-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4437" class="math"><span id="MathJax-Span-4438" class="mrow"><span id="MathJax-Span-4439" class="mi">m</span><span id="MathJax-Span-4440" class="mi">i</span><span id="MathJax-Span-4441" class="mi">n</span><span id="MathJax-Span-4442" class="mi">l</span><span id="MathJax-Span-4443" class="mi">e</span><span id="MathJax-Span-4444" class="mi">n</span><span id="MathJax-Span-4445" class="mo">(</span><span id="MathJax-Span-4446" class="mi">u</span><span id="MathJax-Span-4447" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 就好了, 也就是在 online construction 的 (3), (4), (5) 上加入对应的更新逻辑, 以下是加入 <span id="MathJax-Element-399-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4448" class="math"><span id="MathJax-Span-4449" class="mrow"><span id="MathJax-Span-4450" class="mi">m</span><span id="MathJax-Span-4451" class="mi">i</span><span id="MathJax-Span-4452" class="mi">n</span><span id="MathJax-Span-4453" class="mi">l</span><span id="MathJax-Span-4454" class="mi">e</span><span id="MathJax-Span-4455" class="mi">n</span><span id="MathJax-Span-4456" class="mo">(</span><span id="MathJax-Span-4457" class="mi">u</span><span id="MathJax-Span-4458" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 维护操作的 pseudocode:<br><pre>`Procedure Name: AddSymbolToSAM<br>Input: start, last, T[i]<br>Output: cur</pre></p>
<h1 id="1-1"><a href="#1-1" class="headerlink" title="(1)"></a>(1)</h1><p>create state cur<br>maxlen(cur) = maxlen(last) + 1</p>
<h1 id="2-1"><a href="#2-1" class="headerlink" title="(2)"></a>(2)</h1><p>p = last<br>while p is not null AND trans(p, T[i]) not exists:<br>  trans(p, T[i]) = cur<br>  p = link(p)</p>
<h1 id="3-1"><a href="#3-1" class="headerlink" title="(3)"></a>(3)</h1><p>if p is null:<br>  link(cur) = start<br>  minlen(cur) = 1<br>  return cur</p>
<p>q = trans(p, T[i])<br>if maxlen(p) + 1 = maxlen(q):  </p>
<h1 id="4-1"><a href="#4-1" class="headerlink" title="(4)"></a>(4)</h1><p>  link(cur) = q<br>  minlen(cur) = maxlen(q) + 1<br>else:  </p>
<h1 id="5-1"><a href="#5-1" class="headerlink" title="(5)"></a>(5)</h1><p>  create state sq<br>  maxlen(sq) = maxlen(p) + 1<br>  for all trans(q, c) = q’:</p>
<pre><code>trans(sq, c) = q&apos;
</code></pre><p>  while p is valid AND trans(p, T[i]) = q:</p>
<pre><code>trans(p, T[i]) = sq
p = link(p)
</code></pre><p>  link(sq) = link(q)<br>  minlen(sq) = maxlen(link(sq)) + 1</p>
<p>  link(q) = sq<br>  minlen(q) = maxlen(sq) + 1</p>
<p>  link(cur) = sq<br>  minlen(cur) = maxlen(sq) + 1</p>
<p>reutrn cur<br>`<br>其中:</p>
</li>
<li><p>(3) 中因为 <span id="MathJax-Element-400-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4459" class="math"><span id="MathJax-Span-4460" class="mrow"><span id="MathJax-Span-4461" class="mi">l</span><span id="MathJax-Span-4462" class="mi">i</span><span id="MathJax-Span-4463" class="mi">n</span><span id="MathJax-Span-4464" class="mi">k</span><span id="MathJax-Span-4465" class="mo">(</span><span id="MathJax-Span-4466" class="mi">c</span><span id="MathJax-Span-4467" class="mi">u</span><span id="MathJax-Span-4468" class="mi">r</span><span id="MathJax-Span-4469" class="mo">)</span><span id="MathJax-Span-4470" class="mo">=</span><span id="MathJax-Span-4471" class="mi">s</span><span id="MathJax-Span-4472" class="mi">t</span><span id="MathJax-Span-4473" class="mi">a</span><span id="MathJax-Span-4474" class="mi">r</span><span id="MathJax-Span-4475" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></math></span></span>, 自然有 <span id="MathJax-Element-401-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;"><span id="MathJax-Span-4476" class="math"><span id="MathJax-Span-4477" class="mrow"><span id="MathJax-Span-4478" class="mi">m</span><span id="MathJax-Span-4479" class="mi">i</span><span id="MathJax-Span-4480" class="mi">n</span><span id="MathJax-Span-4481" class="mi">l</span><span id="MathJax-Span-4482" class="mi">e</span><span id="MathJax-Span-4483" class="mi">n</span><span id="MathJax-Span-4484" class="mo">(</span><span id="MathJax-Span-4485" class="mi">c</span><span id="MathJax-Span-4486" class="mi">u</span><span id="MathJax-Span-4487" class="mi">r</span><span id="MathJax-Span-4488" class="mo">)</span><span id="MathJax-Span-4489" class="mo">=</span><span id="MathJax-Span-4490" class="mi">m</span><span id="MathJax-Span-4491" class="mi">a</span><span id="MathJax-Span-4492" class="mi">x</span><span id="MathJax-Span-4493" class="mi">l</span><span id="MathJax-Span-4494" class="mi">e</span><span id="MathJax-Span-4495" class="mi">n</span><span id="MathJax-Span-4496" class="mo">(</span><span id="MathJax-Span-4497" class="mi">s</span><span id="MathJax-Span-4498" class="mi">t</span><span id="MathJax-Span-4499" class="mi">a</span><span id="MathJax-Span-4500" class="mi">r</span><span id="MathJax-Span-4501" class="mi">t</span><span id="MathJax-Span-4502" class="mo">)</span><span id="MathJax-Span-4503" class="mo">+</span><span id="MathJax-Span-4504" class="mn">1</span><span id="MathJax-Span-4505" class="mo">=</span><span id="MathJax-Span-4506" class="mn">1</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>=</mo><mn>1</mn></math></span></span>.</p>
</li>
<li>(4) 中因为 <span id="MathJax-Element-402-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4507" class="math"><span id="MathJax-Span-4508" class="mrow"><span id="MathJax-Span-4509" class="mi">l</span><span id="MathJax-Span-4510" class="mi">i</span><span id="MathJax-Span-4511" class="mi">n</span><span id="MathJax-Span-4512" class="mi">k</span><span id="MathJax-Span-4513" class="mo">(</span><span id="MathJax-Span-4514" class="mi">c</span><span id="MathJax-Span-4515" class="mi">u</span><span id="MathJax-Span-4516" class="mi">r</span><span id="MathJax-Span-4517" class="mo">)</span><span id="MathJax-Span-4518" class="mo">=</span><span id="MathJax-Span-4519" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>q</mi></math></span></span>, 自然有 <span id="MathJax-Element-403-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;"><span id="MathJax-Span-4520" class="math"><span id="MathJax-Span-4521" class="mrow"><span id="MathJax-Span-4522" class="mi">m</span><span id="MathJax-Span-4523" class="mi">i</span><span id="MathJax-Span-4524" class="mi">n</span><span id="MathJax-Span-4525" class="mi">l</span><span id="MathJax-Span-4526" class="mi">e</span><span id="MathJax-Span-4527" class="mi">n</span><span id="MathJax-Span-4528" class="mo">(</span><span id="MathJax-Span-4529" class="mi">c</span><span id="MathJax-Span-4530" class="mi">u</span><span id="MathJax-Span-4531" class="mi">r</span><span id="MathJax-Span-4532" class="mo">)</span><span id="MathJax-Span-4533" class="mo">=</span><span id="MathJax-Span-4534" class="mi">m</span><span id="MathJax-Span-4535" class="mi">a</span><span id="MathJax-Span-4536" class="mi">x</span><span id="MathJax-Span-4537" class="mi">l</span><span id="MathJax-Span-4538" class="mi">e</span><span id="MathJax-Span-4539" class="mi">n</span><span id="MathJax-Span-4540" class="mo">(</span><span id="MathJax-Span-4541" class="mi">q</span><span id="MathJax-Span-4542" class="mo">)</span><span id="MathJax-Span-4543" class="mo">+</span><span id="MathJax-Span-4544" class="mn">1</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></math></span></span>.</li>
<li><p>(5) 中更新了 <span id="MathJax-Element-404-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4545" class="math"><span id="MathJax-Span-4546" class="mrow"><span id="MathJax-Span-4547" class="mi">s</span><span id="MathJax-Span-4548" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>q</mi></math></span></span>, <span id="MathJax-Element-405-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4549" class="math"><span id="MathJax-Span-4550" class="mrow"><span id="MathJax-Span-4551" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>q</mi></math></span></span>, <span id="MathJax-Element-406-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4552" class="math"><span id="MathJax-Span-4553" class="mrow"><span id="MathJax-Span-4554" class="mi">c</span><span id="MathJax-Span-4555" class="mi">u</span><span id="MathJax-Span-4556" class="mi">r</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mi>u</mi><mi>r</mi></math></span></span> 的 suffix link, 只需要顺着对应的 suffix link 去拿到 <span id="MathJax-Element-407-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4557" class="math"><span id="MathJax-Span-4558" class="mrow"><span id="MathJax-Span-4559" class="mi">m</span><span id="MathJax-Span-4560" class="mi">a</span><span id="MathJax-Span-4561" class="mi">x</span><span id="MathJax-Span-4562" class="mi">l</span><span id="MathJax-Span-4563" class="mi">e</span><span id="MathJax-Span-4564" class="mi">n</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mi>l</mi><mi>e</mi><mi>n</mi></math></span></span>, 即可更新 <span id="MathJax-Element-408-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4565" class="math"><span id="MathJax-Span-4566" class="mrow"><span id="MathJax-Span-4567" class="mi">m</span><span id="MathJax-Span-4568" class="mi">i</span><span id="MathJax-Span-4569" class="mi">n</span><span id="MathJax-Span-4570" class="mi">l</span><span id="MathJax-Span-4571" class="mi">e</span><span id="MathJax-Span-4572" class="mi">n</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi></math></span></span>.<br><span id="MathJax-Element-409-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4573" class="math"><span id="MathJax-Span-4574" class="mrow"><span id="MathJax-Span-4575" class="mi">f</span><span id="MathJax-Span-4576" class="mi">i</span><span id="MathJax-Span-4577" class="mi">r</span><span id="MathJax-Span-4578" class="mi">s</span><span id="MathJax-Span-4579" class="mi">t</span><span id="MathJax-Span-4580" class="mi">_</span><span id="MathJax-Span-4581" class="mi">e</span><span id="MathJax-Span-4582" class="mi">n</span><span id="MathJax-Span-4583" class="mi">d</span><span id="MathJax-Span-4584" class="mi">p</span><span id="MathJax-Span-4585" class="mi">o</span><span id="MathJax-Span-4586" class="mi">s</span><span id="MathJax-Span-4587" class="mo">(</span><span id="MathJax-Span-4588" class="mi">u</span><span id="MathJax-Span-4589" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi><mi mathvariant="normal">_</mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 代表了 state <span id="MathJax-Element-410-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4590" class="math"><span id="MathJax-Span-4591" class="mrow"><span id="MathJax-Span-4592" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 的 <span id="MathJax-Element-411-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4593" class="math"><span id="MathJax-Span-4594" class="mrow"><span id="MathJax-Span-4595" class="mi">e</span><span id="MathJax-Span-4596" class="mi">n</span><span id="MathJax-Span-4597" class="mi">d</span><span id="MathJax-Span-4598" class="mi">p</span><span id="MathJax-Span-4599" class="mi">o</span><span id="MathJax-Span-4600" class="mi">s</span><span id="MathJax-Span-4601" class="mo">(</span><span id="MathJax-Span-4602" class="mi">u</span><span id="MathJax-Span-4603" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 的最小下标. 仔细分析 online construction 的过程, 会发现:</p>
</li>
<li><p>将 <span id="MathJax-Element-412-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4604" class="math"><span id="MathJax-Span-4605" class="mrow"><span id="MathJax-Span-4606" class="mi">T</span><span id="MathJax-Span-4607" class="mo">[</span><span id="MathJax-Span-4608" class="mi">i</span><span id="MathJax-Span-4609" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></math></span></span> 加入到 SAM 的时候, 会新建 state <span id="MathJax-Element-413-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4610" class="math"><span id="MathJax-Span-4611" class="mrow"><span id="MathJax-Span-4612" class="mi">c</span><span id="MathJax-Span-4613" class="mi">u</span><span id="MathJax-Span-4614" class="mi">r</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mi>u</mi><mi>r</mi></math></span></span>, 此时 <span id="MathJax-Element-414-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4615" class="math"><span id="MathJax-Span-4616" class="mrow"><span id="MathJax-Span-4617" class="mi">e</span><span id="MathJax-Span-4618" class="mi">n</span><span id="MathJax-Span-4619" class="mi">d</span><span id="MathJax-Span-4620" class="mi">p</span><span id="MathJax-Span-4621" class="mi">o</span><span id="MathJax-Span-4622" class="mi">s</span><span id="MathJax-Span-4623" class="mo">(</span><span id="MathJax-Span-4624" class="mi">c</span><span id="MathJax-Span-4625" class="mi">u</span><span id="MathJax-Span-4626" class="mi">r</span><span id="MathJax-Span-4627" class="mo">)</span><span id="MathJax-Span-4628" class="mo">=</span><span id="MathJax-Span-4629" class="mo">{</span><span id="MathJax-Span-4630" class="mi">i</span><span id="MathJax-Span-4631" class="mo">}</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mo fence="false" stretchy="false">{</mo><mi>i</mi><mo fence="false" stretchy="false">}</mo></math></span></span>.</p>
</li>
<li>(4) 中建立 <span id="MathJax-Element-415-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4632" class="math"><span id="MathJax-Span-4633" class="mrow"><span id="MathJax-Span-4634" class="mi">l</span><span id="MathJax-Span-4635" class="mi">i</span><span id="MathJax-Span-4636" class="mi">n</span><span id="MathJax-Span-4637" class="mi">k</span><span id="MathJax-Span-4638" class="mo">(</span><span id="MathJax-Span-4639" class="mi">c</span><span id="MathJax-Span-4640" class="mi">u</span><span id="MathJax-Span-4641" class="mi">r</span><span id="MathJax-Span-4642" class="mo">)</span><span id="MathJax-Span-4643" class="mo">=</span><span id="MathJax-Span-4644" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>q</mi></math></span></span> 之后, 会使 <span id="MathJax-Element-416-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4645" class="math"><span id="MathJax-Span-4646" class="mrow"><span id="MathJax-Span-4647" class="mi">i</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span> 加入到 <span id="MathJax-Element-417-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4648" class="math"><span id="MathJax-Span-4649" class="mrow"><span id="MathJax-Span-4650" class="mi">e</span><span id="MathJax-Span-4651" class="mi">n</span><span id="MathJax-Span-4652" class="mi">d</span><span id="MathJax-Span-4653" class="mi">p</span><span id="MathJax-Span-4654" class="mi">o</span><span id="MathJax-Span-4655" class="mi">s</span><span id="MathJax-Span-4656" class="mo">(</span><span id="MathJax-Span-4657" class="mi">q</span><span id="MathJax-Span-4658" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span> 中, 即 <span id="MathJax-Element-418-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;&amp;#x222A;&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4659" class="math"><span id="MathJax-Span-4660" class="mrow"><span id="MathJax-Span-4661" class="mi">e</span><span id="MathJax-Span-4662" class="mi">n</span><span id="MathJax-Span-4663" class="mi">d</span><span id="MathJax-Span-4664" class="mi">p</span><span id="MathJax-Span-4665" class="mi">o</span><span id="MathJax-Span-4666" class="mi">s</span><span id="MathJax-Span-4667" class="mo">(</span><span id="MathJax-Span-4668" class="mi">q</span><span id="MathJax-Span-4669" class="mo">)</span><span id="MathJax-Span-4670" class="mo">=</span><span id="MathJax-Span-4671" class="mo">{</span><span id="MathJax-Span-4672" class="mi">i</span><span id="MathJax-Span-4673" class="mo">}</span><span id="MathJax-Span-4674" class="mo">∪</span><span id="MathJax-Span-4675" class="mi">e</span><span id="MathJax-Span-4676" class="mi">n</span><span id="MathJax-Span-4677" class="mi">d</span><span id="MathJax-Span-4678" class="mi">p</span><span id="MathJax-Span-4679" class="mi">o</span><span id="MathJax-Span-4680" class="mi">s</span><span id="MathJax-Span-4681" class="mo">(</span><span id="MathJax-Span-4682" class="mi">q</span><span id="MathJax-Span-4683" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mo fence="false" stretchy="false">{</mo><mi>i</mi><mo fence="false" stretchy="false">}</mo><mo>∪</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span>.</li>
<li>(5) 中从 <span id="MathJax-Element-419-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4684" class="math"><span id="MathJax-Span-4685" class="mrow"><span id="MathJax-Span-4686" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>q</mi></math></span></span> 分离出 <span id="MathJax-Element-420-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4687" class="math"><span id="MathJax-Span-4688" class="mrow"><span id="MathJax-Span-4689" class="mi">s</span><span id="MathJax-Span-4690" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>q</mi></math></span></span> 之后, 会有 <span id="MathJax-Element-421-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4691" class="math"><span id="MathJax-Span-4692" class="mrow"><span id="MathJax-Span-4693" class="mi">e</span><span id="MathJax-Span-4694" class="mi">n</span><span id="MathJax-Span-4695" class="mi">d</span><span id="MathJax-Span-4696" class="mi">p</span><span id="MathJax-Span-4697" class="mi">o</span><span id="MathJax-Span-4698" class="mi">s</span><span id="MathJax-Span-4699" class="mo">(</span><span id="MathJax-Span-4700" class="mi">s</span><span id="MathJax-Span-4701" class="mi">q</span><span id="MathJax-Span-4702" class="mo">)</span><span id="MathJax-Span-4703" class="mo">=</span><span id="MathJax-Span-4704" class="mi">e</span><span id="MathJax-Span-4705" class="mi">n</span><span id="MathJax-Span-4706" class="mi">d</span><span id="MathJax-Span-4707" class="mi">p</span><span id="MathJax-Span-4708" class="mi">o</span><span id="MathJax-Span-4709" class="mi">s</span><span id="MathJax-Span-4710" class="mo">(</span><span id="MathJax-Span-4711" class="mi">q</span><span id="MathJax-Span-4712" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>s</mi><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span>, 这个操作不会改变 <span id="MathJax-Element-422-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4713" class="math"><span id="MathJax-Span-4714" class="mrow"><span id="MathJax-Span-4715" class="mi">e</span><span id="MathJax-Span-4716" class="mi">n</span><span id="MathJax-Span-4717" class="mi">d</span><span id="MathJax-Span-4718" class="mi">p</span><span id="MathJax-Span-4719" class="mi">o</span><span id="MathJax-Span-4720" class="mi">s</span><span id="MathJax-Span-4721" class="mo">(</span><span id="MathJax-Span-4722" class="mi">q</span><span id="MathJax-Span-4723" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span>.</li>
<li><p>(5) 中建立 <span id="MathJax-Element-423-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4724" class="math"><span id="MathJax-Span-4725" class="mrow"><span id="MathJax-Span-4726" class="mi">l</span><span id="MathJax-Span-4727" class="mi">i</span><span id="MathJax-Span-4728" class="mi">n</span><span id="MathJax-Span-4729" class="mi">k</span><span id="MathJax-Span-4730" class="mo">(</span><span id="MathJax-Span-4731" class="mi">c</span><span id="MathJax-Span-4732" class="mi">u</span><span id="MathJax-Span-4733" class="mi">r</span><span id="MathJax-Span-4734" class="mo">)</span><span id="MathJax-Span-4735" class="mo">=</span><span id="MathJax-Span-4736" class="mi">s</span><span id="MathJax-Span-4737" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>q</mi></math></span></span> 之后, 会使 <span id="MathJax-Element-424-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4738" class="math"><span id="MathJax-Span-4739" class="mrow"><span id="MathJax-Span-4740" class="mi">i</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span> 加入到 <span id="MathJax-Element-425-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4741" class="math"><span id="MathJax-Span-4742" class="mrow"><span id="MathJax-Span-4743" class="mi">e</span><span id="MathJax-Span-4744" class="mi">n</span><span id="MathJax-Span-4745" class="mi">d</span><span id="MathJax-Span-4746" class="mi">p</span><span id="MathJax-Span-4747" class="mi">o</span><span id="MathJax-Span-4748" class="mi">s</span><span id="MathJax-Span-4749" class="mo">(</span><span id="MathJax-Span-4750" class="mi">s</span><span id="MathJax-Span-4751" class="mi">q</span><span id="MathJax-Span-4752" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>s</mi><mi>q</mi><mo stretchy="false">)</mo></math></span></span> 中, 即 <span id="MathJax-Element-426-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;&amp;#x222A;&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4753" class="math"><span id="MathJax-Span-4754" class="mrow"><span id="MathJax-Span-4755" class="mi">e</span><span id="MathJax-Span-4756" class="mi">n</span><span id="MathJax-Span-4757" class="mi">d</span><span id="MathJax-Span-4758" class="mi">p</span><span id="MathJax-Span-4759" class="mi">o</span><span id="MathJax-Span-4760" class="mi">s</span><span id="MathJax-Span-4761" class="mo">(</span><span id="MathJax-Span-4762" class="mi">s</span><span id="MathJax-Span-4763" class="mi">q</span><span id="MathJax-Span-4764" class="mo">)</span><span id="MathJax-Span-4765" class="mo">=</span><span id="MathJax-Span-4766" class="mo">{</span><span id="MathJax-Span-4767" class="mi">i</span><span id="MathJax-Span-4768" class="mo">}</span><span id="MathJax-Span-4769" class="mo">∪</span><span id="MathJax-Span-4770" class="mi">e</span><span id="MathJax-Span-4771" class="mi">n</span><span id="MathJax-Span-4772" class="mi">d</span><span id="MathJax-Span-4773" class="mi">p</span><span id="MathJax-Span-4774" class="mi">o</span><span id="MathJax-Span-4775" class="mi">s</span><span id="MathJax-Span-4776" class="mo">(</span><span id="MathJax-Span-4777" class="mi">s</span><span id="MathJax-Span-4778" class="mi">q</span><span id="MathJax-Span-4779" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>s</mi><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mo fence="false" stretchy="false">{</mo><mi>i</mi><mo fence="false" stretchy="false">}</mo><mo>∪</mo><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>s</mi><mi>q</mi><mo stretchy="false">)</mo></math></span></span>, 同时 <span id="MathJax-Element-427-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4780" class="math"><span id="MathJax-Span-4781" class="mrow"><span id="MathJax-Span-4782" class="mi">e</span><span id="MathJax-Span-4783" class="mi">n</span><span id="MathJax-Span-4784" class="mi">d</span><span id="MathJax-Span-4785" class="mi">p</span><span id="MathJax-Span-4786" class="mi">o</span><span id="MathJax-Span-4787" class="mi">s</span><span id="MathJax-Span-4788" class="mo">(</span><span id="MathJax-Span-4789" class="mi">q</span><span id="MathJax-Span-4790" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span> 保持不变.<br>通过分析发现, 对 state <span id="MathJax-Element-428-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4791" class="math"><span id="MathJax-Span-4792" class="mrow"><span id="MathJax-Span-4793" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 的 <span id="MathJax-Element-429-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4794" class="math"><span id="MathJax-Span-4795" class="mrow"><span id="MathJax-Span-4796" class="mi">e</span><span id="MathJax-Span-4797" class="mi">n</span><span id="MathJax-Span-4798" class="mi">d</span><span id="MathJax-Span-4799" class="mi">p</span><span id="MathJax-Span-4800" class="mi">o</span><span id="MathJax-Span-4801" class="mi">s</span><span id="MathJax-Span-4802" class="mo">(</span><span id="MathJax-Span-4803" class="mi">u</span><span id="MathJax-Span-4804" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 的<strong>变更</strong>, 必然伴随着指向 state <span id="MathJax-Element-430-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4805" class="math"><span id="MathJax-Span-4806" class="mrow"><span id="MathJax-Span-4807" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 的 suffix link 的建立. 由此, state 只要在构建过程中维护 <span id="MathJax-Element-431-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4808" class="math"><span id="MathJax-Span-4809" class="mrow"><span id="MathJax-Span-4810" class="mi">f</span><span id="MathJax-Span-4811" class="mi">i</span><span id="MathJax-Span-4812" class="mi">r</span><span id="MathJax-Span-4813" class="mi">s</span><span id="MathJax-Span-4814" class="mi">t</span><span id="MathJax-Span-4815" class="mi">_</span><span id="MathJax-Span-4816" class="mi">e</span><span id="MathJax-Span-4817" class="mi">n</span><span id="MathJax-Span-4818" class="mi">d</span><span id="MathJax-Span-4819" class="mi">p</span><span id="MathJax-Span-4820" class="mi">o</span><span id="MathJax-Span-4821" class="mi">s</span><span id="MathJax-Span-4822" class="mo">(</span><span id="MathJax-Span-4823" class="mi">u</span><span id="MathJax-Span-4824" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi><mi mathvariant="normal">_</mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>, 在后续应用中只要沿着 suffix link<strong>反向</strong> DFS, 即可得到 <span id="MathJax-Element-432-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4825" class="math"><span id="MathJax-Span-4826" class="mrow"><span id="MathJax-Span-4827" class="mi">e</span><span id="MathJax-Span-4828" class="mi">n</span><span id="MathJax-Span-4829" class="mi">d</span><span id="MathJax-Span-4830" class="mi">p</span><span id="MathJax-Span-4831" class="mi">o</span><span id="MathJax-Span-4832" class="mi">s</span><span id="MathJax-Span-4833" class="mo">(</span><span id="MathJax-Span-4834" class="mi">u</span><span id="MathJax-Span-4835" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span>.</p>
<p><span id="MathJax-Element-433-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4836" class="math"><span id="MathJax-Span-4837" class="mrow"><span id="MathJax-Span-4838" class="mi">f</span><span id="MathJax-Span-4839" class="mi">i</span><span id="MathJax-Span-4840" class="mi">r</span><span id="MathJax-Span-4841" class="mi">s</span><span id="MathJax-Span-4842" class="mi">t</span><span id="MathJax-Span-4843" class="mi">_</span><span id="MathJax-Span-4844" class="mi">e</span><span id="MathJax-Span-4845" class="mi">n</span><span id="MathJax-Span-4846" class="mi">d</span><span id="MathJax-Span-4847" class="mi">p</span><span id="MathJax-Span-4848" class="mi">o</span><span id="MathJax-Span-4849" class="mi">s</span><span id="MathJax-Span-4850" class="mo">(</span><span id="MathJax-Span-4851" class="mi">u</span><span id="MathJax-Span-4852" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi><mi mathvariant="normal">_</mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 的维护是很简单的:</p>
</li>
<li><p>(1) 中新建 state <span id="MathJax-Element-434-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4853" class="math"><span id="MathJax-Span-4854" class="mrow"><span id="MathJax-Span-4855" class="mi">c</span><span id="MathJax-Span-4856" class="mi">u</span><span id="MathJax-Span-4857" class="mi">r</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mi>u</mi><mi>r</mi></math></span></span> 的时候设 <span id="MathJax-Element-435-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4858" class="math"><span id="MathJax-Span-4859" class="mrow"><span id="MathJax-Span-4860" class="mi">f</span><span id="MathJax-Span-4861" class="mi">i</span><span id="MathJax-Span-4862" class="mi">r</span><span id="MathJax-Span-4863" class="mi">s</span><span id="MathJax-Span-4864" class="mi">t</span><span id="MathJax-Span-4865" class="mi">_</span><span id="MathJax-Span-4866" class="mi">e</span><span id="MathJax-Span-4867" class="mi">n</span><span id="MathJax-Span-4868" class="mi">d</span><span id="MathJax-Span-4869" class="mi">p</span><span id="MathJax-Span-4870" class="mi">o</span><span id="MathJax-Span-4871" class="mi">s</span><span id="MathJax-Span-4872" class="mo">(</span><span id="MathJax-Span-4873" class="mi">c</span><span id="MathJax-Span-4874" class="mi">u</span><span id="MathJax-Span-4875" class="mi">r</span><span id="MathJax-Span-4876" class="mo">)</span><span id="MathJax-Span-4877" class="mo">=</span><span id="MathJax-Span-4878" class="mi">i</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi><mi mathvariant="normal">_</mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>i</mi></math></span></span>.</p>
</li>
<li><p>(5) 中新建 state <span id="MathJax-Element-436-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4879" class="math"><span id="MathJax-Span-4880" class="mrow"><span id="MathJax-Span-4881" class="mi">s</span><span id="MathJax-Span-4882" class="mi">q</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>q</mi></math></span></span> 的时候设 <span id="MathJax-Element-437-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4883" class="math"><span id="MathJax-Span-4884" class="mrow"><span id="MathJax-Span-4885" class="mi">f</span><span id="MathJax-Span-4886" class="mi">i</span><span id="MathJax-Span-4887" class="mi">r</span><span id="MathJax-Span-4888" class="mi">s</span><span id="MathJax-Span-4889" class="mi">t</span><span id="MathJax-Span-4890" class="mi"><em></em></span><span id="MathJax-Span-4891" class="mi">e</span><span id="MathJax-Span-4892" class="mi">n</span><span id="MathJax-Span-4893" class="mi">d</span><span id="MathJax-Span-4894" class="mi">p</span><span id="MathJax-Span-4895" class="mi">o</span><span id="MathJax-Span-4896" class="mi">s</span><span id="MathJax-Span-4897" class="mo">(</span><span id="MathJax-Span-4898" class="mi">s</span><span id="MathJax-Span-4899" class="mi">q</span><span id="MathJax-Span-4900" class="mo">)</span><span id="MathJax-Span-4901" class="mo">=</span><span id="MathJax-Span-4902" class="mi">f</span><span id="MathJax-Span-4903" class="mi">i</span><span id="MathJax-Span-4904" class="mi">r</span><span id="MathJax-Span-4905" class="mi">s</span><span id="MathJax-Span-4906" class="mi">t</span><span id="MathJax-Span-4907" class="mi"></span><span id="MathJax-Span-4908" class="mi">e</span><span id="MathJax-Span-4909" class="mi">n</span><span id="MathJax-Span-4910" class="mi">d</span><span id="MathJax-Span-4911" class="mi">p</span><span id="MathJax-Span-4912" class="mi">o</span><span id="MathJax-Span-4913" class="mi">s</span><span id="MathJax-Span-4914" class="mo">(</span><span id="MathJax-Span-4915" class="mi">q</span><span id="MathJax-Span-4916" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi><mi mathvariant="normal"><em></em></mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>s</mi><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi><mi mathvariant="normal"></mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></math></span></span>.<br>以下是包含了 <span id="MathJax-Element-438-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4917" class="math"><span id="MathJax-Span-4918" class="mrow"><span id="MathJax-Span-4919" class="mi">m</span><span id="MathJax-Span-4920" class="mi">i</span><span id="MathJax-Span-4921" class="mi">n</span><span id="MathJax-Span-4922" class="mi">l</span><span id="MathJax-Span-4923" class="mi">e</span><span id="MathJax-Span-4924" class="mi">n</span><span id="MathJax-Span-4925" class="mo">(</span><span id="MathJax-Span-4926" class="mi">u</span><span id="MathJax-Span-4927" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>i</mi><mi>n</mi><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 与 <span id="MathJax-Element-439-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4928" class="math"><span id="MathJax-Span-4929" class="mrow"><span id="MathJax-Span-4930" class="mi">f</span><span id="MathJax-Span-4931" class="mi">i</span><span id="MathJax-Span-4932" class="mi">r</span><span id="MathJax-Span-4933" class="mi">s</span><span id="MathJax-Span-4934" class="mi">t</span><span id="MathJax-Span-4935" class="mi">_</span><span id="MathJax-Span-4936" class="mi">e</span><span id="MathJax-Span-4937" class="mi">n</span><span id="MathJax-Span-4938" class="mi">d</span><span id="MathJax-Span-4939" class="mi">p</span><span id="MathJax-Span-4940" class="mi">o</span><span id="MathJax-Span-4941" class="mi">s</span><span id="MathJax-Span-4942" class="mo">(</span><span id="MathJax-Span-4943" class="mi">u</span><span id="MathJax-Span-4944" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi><mi mathvariant="normal">_</mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 维护的 pseudocode:<br><pre>`Procedure Name: AddSymbolToSAM<br>Input: start, last, T[i]<br>Output: cur</pre></p>
<h1 id="1-2"><a href="#1-2" class="headerlink" title="(1)"></a>(1)</h1><p>create state cur<br>maxlen(cur) = maxlen(last) + 1<br>first_endpos(cur) = i</p>
<h1 id="2-2"><a href="#2-2" class="headerlink" title="(2)"></a>(2)</h1><p>p = last<br>while p is not null AND trans(p, T[i]) not exists:<br>  trans(p, T[i]) = cur<br>  p = link(p)</p>
<h1 id="3-2"><a href="#3-2" class="headerlink" title="(3)"></a>(3)</h1><p>if p is null:<br>  link(cur) = start<br>  minlen(cur) = 1<br>  return cur</p>
<p>q = trans(p, T[i])<br>if maxlen(p) + 1 = maxlen(q):  </p>
<h1 id="4-2"><a href="#4-2" class="headerlink" title="(4)"></a>(4)</h1><p>  link(cur) = q<br>  minlen(cur) = maxlen(q) + 1<br>else:  </p>
<h1 id="5-2"><a href="#5-2" class="headerlink" title="(5)"></a>(5)</h1><p>  create state sq<br>  maxlen(sq) = maxlen(p) + 1<br>  first_endpos(sq) = first_endpos(q)</p>
<p>  for all trans(q, c) = q’:</p>
<pre><code>trans(sq, c) = q&apos;
</code></pre><p>  while p is valid AND trans(p, T[i]) = q:</p>
<pre><code>trans(p, T[i]) = sq
p = link(p)
</code></pre><p>  link(sq) = link(q)<br>  minlen(sq) = maxlen(link(sq)) + 1</p>
<p>  link(q) = sq<br>  minlen(q) = maxlen(sq) + 1</p>
<p>  link(cur) = sq<br>  minlen(cur) = maxlen(sq) + 1</p>
<p>reutrn cur<br>`<br>最后提一下 <span id="MathJax-Element-440-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4945" class="math"><span id="MathJax-Span-4946" class="mrow"><span id="MathJax-Span-4947" class="mi">a</span><span id="MathJax-Span-4948" class="mi">c</span><span id="MathJax-Span-4949" class="mi">c</span><span id="MathJax-Span-4950" class="mi">e</span><span id="MathJax-Span-4951" class="mi">p</span><span id="MathJax-Span-4952" class="mi">t</span><span id="MathJax-Span-4953" class="mo">(</span><span id="MathJax-Span-4954" class="mi">u</span><span id="MathJax-Span-4955" class="mo">)</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mi>c</mi><mi>c</mi><mi>e</mi><mi>p</mi><mi>t</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></math></span></span> 的判定. 判断一个 state <span id="MathJax-Element-441-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4956" class="math"><span id="MathJax-Span-4957" class="mrow"><span id="MathJax-Span-4958" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 是不是 SAM 的 accept state, 只需要看 <span id="MathJax-Element-442-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4959" class="math"><span id="MathJax-Span-4960" class="mrow"><span id="MathJax-Span-4961" class="mi">u</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span> 是否在 suffix-link path from <span id="MathJax-Element-443-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4962" class="math"><span id="MathJax-Span-4963" class="mrow"><span id="MathJax-Span-4964" class="mi">l</span><span id="MathJax-Span-4965" class="mi">a</span><span id="MathJax-Span-4966" class="mi">s</span><span id="MathJax-Span-4967" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></math></span></span> to <span id="MathJax-Element-444-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;"><span id="MathJax-Span-4968" class="math"><span id="MathJax-Span-4969" class="mrow"><span id="MathJax-Span-4970" class="mi">s</span><span id="MathJax-Span-4971" class="mi">t</span><span id="MathJax-Span-4972" class="mi">a</span><span id="MathJax-Span-4973" class="mi">r</span><span id="MathJax-Span-4974" class="mi">t</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></math></span></span> 的路径上就可以了, 唯有这条路径上的 state 包含 <span id="MathJax-Element-445-Frame" class="MathJax" style="text-rendering: optimizeLegibility; box-sizing: border-box; display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 20px; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;"><span id="MathJax-Span-4975" class="math"><span id="MathJax-Span-4976" class="mrow"><span id="MathJax-Span-4977" class="mi">T</span><span id="MathJax-Span-4978" class="mo">[</span><span id="MathJax-Span-4979" class="mi">n</span><span id="MathJax-Span-4980" class="mo">]</span></span></span><span class="MJX_Assistive_MathML"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo stretchy="false">[</mo><mi>n</mi><mo stretchy="false">]</mo></math></span></span>.</p>
<p>所以, 只要在创建完 SAM 之后再扫一遍这个路径即可找出 SAM 的所有的 accept states. 对应的 pseudocode:<br><pre>`Procedure Name: CreateSAM<br>Input: T<br>Output: start</pre></p>
<p>create state start<br>last = start<br>accept(start) = false</p>
<p>for i in 1 to length(T):<br>  last = AddSymbolToSAM(start, last, T[i])<br>  accept(last) = false</p>
<p>while last is not null:<br>  accept(last) = true<br>  last = link(last)</p>
<p>return start</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://iridescent.com.cn/2016/08/08/hdu5803-e6-8c-81-e4-b9-85-e5-8c-96-e5-ad-97-e5-85-b8-e6-a0-91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Donglin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Donglin's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/08/hdu5803-e6-8c-81-e4-b9-85-e5-8c-96-e5-ad-97-e5-85-b8-e6-a0-91/" itemprop="url">hdu5803(持久化字典树) 2016 Multi-University Training Contest 6</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-08T21:11:44+08:00">
                2016-08-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>第一次写持久化字典树，orz持久化数据结构好神啊orzorz</p>
<p>给出一个字符串，1e5的查询，每个查询输出[l, r]内有多少回文串的后半段是以给出的查询串T为前缀的。</p>
<p>回文长度只有20，则根据回文长度建立10个持久化字典树，root[i][j]表示长度为i的回文的第j颗字典树。</p>
<p>如果从j开始长度i的字符串是回文串，就这个回文串的后半段它插入点到root[i][j]字典树中。</p>
<p>这样对于[l, r], T这一个查询的答案就是[l, r] T为前缀长度为1的字符串个数+[l, r - 1] T为前缀长度为2的字符串个数+[l, r - 2] T为前缀长度为3的字符串+….+[l, r - 9] T为前缀长度为10的字符串个数</p>
<p>AC代码：</p>
<p><pre class="lang:default decode:true ">#include&lt;cstdio&gt;</pre></p>
<p>#include&lt;cstring&gt;</p>
<p>#include&lt;algorithm&gt;</p>
<p>#include&lt;cstdlib&gt;</p>
<p>#include&lt;cmath&gt;</p>
<p>#include&lt;string&gt;</p>
<p>#include&lt;queue&gt;</p>
<p>#include&lt;vector&gt;</p>
<p>#include&lt;set&gt;</p>
<p>#include&lt;map&gt;</p>
<p>#include&lt;iostream&gt;</p>
<p>#include&lt;stack&gt;</p>
<p>#define FS first</p>
<p>#define SE second<br>using namespace std;<br>typedef long long LL;<br>const int MAXN = 100010;</p>
<p>int root[25][MAXN];<br>int ch[MAXN <em> 25][5];<br>int num[MAXN </em> 25];<br>bool vis[MAXN * 25];<br>int cnt = 0;<br>int newnode() {<br>    for(int i = 0 ; i &lt; 5 ; i++) ch[cnt][i] = 0;<br>    num[cnt] = 0;<br>    return cnt++;<br>}</p>
<p>int update(int rt2, char s[], int pos) {<br>    int len = strlen(s);<br>    int rt1 = newnode();<br>    int tmp = rt1;<br>    for(int i = pos ; i &lt; len ; i++) {<br>        for(int j = 0 ; j &lt; 5 ; j++) ch[rt1][j] = ch[rt2][j];<br>        ch[rt1][s[i] - ‘a’] = newnode();<br>        num[ch[rt1][s[i] - ‘a’]] = num[ch[rt2][s[i] - ‘a’]] + 1;<br>        rt1 = ch[rt1][s[i] - ‘a’];<br>        rt2 = ch[rt2][s[i] - ‘a’];<br>    }<br>    return tmp;<br>}</p>
<p>int query(int rt, char str[]) {<br>    int len = strlen(str);<br>    for(int i = 0 ; i &lt; len ; i++) {<br>        rt = ch[rt][str[i] - ‘a’];<br>    }<br>    return num[rt];<br>}</p>
<p>char s[MAXN];<br>char tt[40];<br>bool check(int len) {<br>    for(int i = 0 ; i &lt; len / 2 ; i++) if(tt[i] != tt[len - i - 1]) return false;<br>    return true;<br>}<br>int main() {<br>    while(scanf(“%s”, s + 1) == 1) {<br>        cnt = 0;<br>        memset(root, 0, sizeof root);<br>        memset(vis, false, sizeof vis);<br>        newnode();<br>        int len = strlen(s + 1);</p>
<pre><code>    for(int i = 1 ; i &amp;lt;= 20 ; i++)
        for(int j = 1 ; j + i - 1 &amp;lt;= len ; j++) {
            root[i][j] = root[i][j - 1];
            for(int k = 0 ; k &amp;lt; i ; k++) tt[k] = s[j + k];
            tt[i] = 0;
            if(check(i)) {
                root[i][j] = update(root[i][j], tt, i / 2);
            }
        }

    int q;
    scanf(&quot;%d&quot;, &amp;amp;q);
    while(q--) {
        int l, r;
        scanf(&quot;%d%d%s&quot;, &amp;amp;l, &amp;amp;r, tt);
        int ans = 0;
        for(int i = 1 ; i &amp;lt;= 10 ; i++) {

            if(r - i + 1 &amp;gt;= l) {
                ///printf(&quot;%d %d\n&quot;, query(root[i][r - i + 1], tt), query(root[i][l - 1], tt));
                ans += query(root[i][r - i + 1], tt) - query(root[i][l - 1], tt);
            }

        }

        printf(&quot;%d\n&quot;, ans);
    }

}
return 0;
</code></pre><p>}<br><br>&nbsp;</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://iridescent.com.cn/2016/08/04/hdu-5709-e4-b8-bb-e5-b8-ad-e6-a0-91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Donglin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Donglin's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/04/hdu-5709-e4-b8-bb-e5-b8-ad-e6-a0-91/" itemprop="url">hdu 5709(主席树)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-04T22:38:17+08:00">
                2016-08-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>给出一个树，每个点有一种颜色，q个强制在线查询x,d要求输出x的子树中和x的深度差小于等于d的点有多少种颜色</p>
<p>&nbsp;</p>
<p>每个点建立两棵线段树，T1[x]的[l, r]区间和表示x的子树内有多少深度在[l, r]之间的颜色，T2[x]维护x的子树中每种颜色的最小深度</p>
<p>初始每个线段树的初值初始化为一条链，就是对应节点的信息，这样自底向上合并线段树，先合并T1，再合并T2，合并T2的时候如果有重复点就在T1中删除深度大的哪一个，并维护深度最小值，这样对于查询x, d就是T1[x] 中区间[d[x], min(n, d[x] + d)]的区间和。</p>
<p>orz，主席树真是神一样的数据结构。。。</p>
<p>AC代码：</p>
<p><pre class="lang:c++ decode:true ">#include&lt;cstdio&gt;</pre></p>
<p>#include&lt;cstring&gt;</p>
<p>#include&lt;algorithm&gt;</p>
<p>#include&lt;string&gt;</p>
<p>#include&lt;queue&gt;</p>
<p>#include&lt;vector&gt;</p>
<p>#include&lt;set&gt;</p>
<p>#include&lt;vector&gt;</p>
<p>#include&lt;map&gt;</p>
<p>#define FS first</p>
<p>#define SE second<br>using namespace std;<br>typedef long long LL;<br>typedef pair&lt;int, int&gt; PII;<br>const int MAXN = 100000 + 10;<br>const int M = MAXN * 100;<br>int T1[MAXN], T2[MAXN], lson[M], rson[M], C[M];<br>int tot;</p>
<p>int update(int root, int pos, int val, int l, int r) {<br>    int newroot = tot++;<br>    int tmp = newroot;<br>    C[newroot] = C[root] + val;<br>    while(l &lt; r) {<br>        int mid = (l + r) &gt;&gt; 1;<br>        if(pos &lt;= mid) {<br>            lson[newroot] = tot++;<br>            rson[newroot] = rson[root];<br>            newroot = lson[newroot];<br>            root = lson[root];<br>            r = mid;<br>        } else {<br>            rson[newroot] = tot++;<br>            lson[newroot] = lson[root];<br>            newroot = rson[newroot];<br>            root = rson[root];<br>            l = mid + 1;<br>        }<br>        C[newroot] = C[root] + val;<br>    }<br>    return tmp;<br>}</p>
<p>int n, q;</p>
<p>int merge1(int rt1, int rt2, int l, int r) {<br>    if(rt1 == 0 || rt2 == 0) return rt1 | rt2;<br>    int newroot = tot++;<br>    C[newroot] = C[rt1] + C[rt2];<br>    if(l == r) return newroot;<br>    int mid = (l + r) &gt;&gt; 1;<br>    lson[newroot] = merge1(lson[rt1], lson[rt2], l, mid);<br>    rson[newroot] = merge1(rson[rt1], rson[rt2], mid + 1, r);<br>    return newroot;<br>}</p>
<p>int merge2(int rt1, int rt2, int l, int r, int p) {<br>    if(rt1 == 0 || rt2 == 0) return rt1 | rt2;<br>    int newroot = tot++;<br>    if(l == r) {<br>        if(C[rt1] &lt; C[rt2]) {<br>            T1[p] = update(T1[p], C[rt2], -1, 1, n);<br>            C[newroot] = C[rt1];<br>        } else {<br>            T1[p] = update(T1[p], C[rt1], -1, 1, n);<br>            C[newroot] = C[rt2];<br>        }<br>        return newroot;<br>    }<br>    int mid = (l + r) &gt;&gt; 1;<br>    lson[newroot] = merge2(lson[rt1], lson[rt2], l, mid, p);<br>    rson[newroot] = merge2(rson[rt1], rson[rt2], mid + 1, r, p);<br>    return newroot;<br>}</p>
<p>int query(int l, int r, int o, int L, int R) {<br>    if(o == 0) return 0;<br>    if(l &lt;= L &amp;&amp; r &gt;= R) return C[o];</p>
<pre><code>int M = L + (R - L) / 2;
int res = 0;
if(l &amp;lt;= M) res += query(l, r, lson[o], L, M);
if(r &amp;gt; M) res += query(l, r, rson[o], M + 1, R);
return res;
</code></pre><p>};</p>
<p>int fa[MAXN];<br>int col[MAXN];<br>int d[MAXN];<br>int main() {<br>    int T;<br>    scanf(“%d”, &amp;T);<br>    while(T–) {<br>        scanf(“%d%d”, &amp;n, &amp;q);<br>        fa[1] = 1;<br>        d[1] = 0;<br>        tot = 1;<br>        for(int i = 1 ; i &lt;= n ; i++)<br>            scanf(“%d”, &amp;col[i]);<br>        for(int i = 2 ; i &lt;= n ; i++)<br>            scanf(“%d”, &amp;fa[i]);<br>        for(int i = 1 ; i &lt;= n ; i++) {<br>            d[i] = d[fa[i]] + 1;<br>        }</p>
<pre><code>    for(int i = 1 ; i &amp;lt;= n ; i++) {
        T1[i] = update(0, d[i], 1, 1, n);
        T2[i] = update(0, col[i], d[i], 1, n);
    }

    for(int i = n ; i &amp;gt;= 1 ; i--) {
        T1[fa[i]] = merge1(T1[fa[i]], T1[i], 1, n);
        T2[fa[i]] = merge2(T2[fa[i]], T2[i], 1, n, fa[i]);
    }

    int last = 0;
    int dd, x;
    while(q--) {
        scanf(&quot;%d%d&quot;, &amp;amp;x, &amp;amp;dd);
        dd ^= last;
        x ^= last;
        printf(&quot;%d\n&quot;, last = query(d[x], min(d[x] + dd, n), T1[x], 1, n));
    }
}
return 0;
</code></pre><p>}<br><br>&nbsp;</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://iridescent.com.cn/2016/08/04/hdu4417-e4-b8-bb-e5-b8-ad-e6-a0-912012-acmicpc-asia-regional-hangzhou-online/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Donglin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Donglin's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/04/hdu4417-e4-b8-bb-e5-b8-ad-e6-a0-912012-acmicpc-asia-regional-hangzhou-online/" itemprop="url">hdu4417 (主席树)2012 ACM/ICPC Asia Regional Hangzhou Online</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-04T19:33:40+08:00">
                2016-08-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>去检查询l，r之间有多少数小于等于h</p>
<p><pre class="lang:c++ decode:true ">#include&lt;cstdio&gt;</pre></p>
<p>#include&lt;cstring&gt;</p>
<p>#include&lt;algorithm&gt;</p>
<p>#include&lt;string&gt;</p>
<p>#include&lt;queue&gt;</p>
<p>#include&lt;vector&gt;</p>
<p>#include&lt;set&gt;</p>
<p>#include&lt;vector&gt;</p>
<p>#include&lt;map&gt;</p>
<p>#define FS first</p>
<p>#define SE second<br>using namespace std;<br>typedef long long LL;<br>typedef pair&lt;int, int&gt; PII;<br>const int MAXN = 100000 + 10;<br>const int M = MAXN * 30;<br>int T[MAXN], lson[M], rson[M], C[M];<br>int tot;<br>int build(int l, int r) {<br>    int root = tot++;<br>    C[root] = 0;<br>    if(l != r) {<br>        int mid = (l + r) &gt;&gt; 1;<br>        lson[root] = build(l, mid);<br>        rson[root] = build(mid + 1, r);<br>    }<br>    return root;<br>}</p>
<p>int update(int root, int pos, int val, int l, int r) {<br>    int newroot = tot++;<br>    int tmp = newroot;<br>    C[newroot] = C[root] + val;<br>    while(l &lt; r) {<br>        int mid = (l + r) &gt;&gt; 1;<br>        if(pos &lt;= mid) {<br>            lson[newroot] = tot++;<br>            rson[newroot] = rson[root];<br>            newroot = lson[newroot];<br>            root = lson[root];<br>            r = mid;<br>        } else {<br>            rson[newroot] = tot++;<br>            lson[newroot] = lson[root];<br>            newroot = rson[newroot];<br>            root = rson[root];<br>            l = mid + 1;<br>        }<br>        C[newroot] = C[root] + val;<br>    }<br>    return tmp;<br>}</p>
<p>int a[MAXN];<br>int Hash[MAXN];<br>int cnt;</p>
<p>int query(int l, int r, int lroot, int rroot, int L, int R) { //printf(“%d %d %d %d\n”, lroot, rroot, L, R);<br>    if(l &gt; r) return 0;<br>    if(L &gt;= l &amp;&amp; R &lt;= r) return C[rroot] - C[lroot];<br>    int M = L + (R - L) / 2;<br>    int res = 0;<br>    if(l &lt;= M) res += query(l, r, lson[lroot], lson[rroot], L, M);<br>    if(r &gt; M) res += query(l, r, rson[lroot], rson[rroot], M + 1, R);<br>    return res;<br>}</p>
<p>int main() {<br>    int TT;<br>    scanf(“%d”, &amp;TT);<br>    int ca = 1;<br>    while(TT–) {<br>        int n, q;<br>        scanf(“%d%d”, &amp;n, &amp;q);<br>        tot = 0;<br>        cnt = 0;<br>        T[0] = build(1, n);<br>        for(int i = 1 ; i &lt;= n ; i++) {<br>            scanf(“%d”, &amp;a[i]);<br>            Hash[cnt++] = a[i];<br>        }<br>        sort(Hash, Hash + cnt);<br>        cnt = unique(Hash, Hash + cnt) - Hash;<br>        for(int i = 1 ; i &lt;= n ; i++) {<br>            T[i] = update(T[i - 1], lower_bound(Hash, Hash + cnt, a[i]) - Hash + 1, 1, 1, n);<br>        }</p>
<pre><code>    printf(&quot;Case %d:\n&quot;, ca++);
    while(q--) {
        int l, r, h;
        scanf(&quot;%d%d%d&quot;, &amp;amp;l, &amp;amp;r, &amp;amp;h);
        l++; r++;
        if(h &amp;lt; Hash[0]) {
            printf(&quot;0\n&quot;);
            continue;
        }
        int hh = lower_bound(Hash, Hash + cnt, h) - Hash + 1;
        if(Hash[hh - 1] != h) hh--;
        printf(&quot;%d\n&quot;, query(1, hh, T[l - 1], T[r], 1, n));
    }
}
return 0;
</code></pre><p>}<br><br>&nbsp;</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://iridescent.com.cn/2016/08/04/hdu5790-prefix-e5-ad-97-e5-85-b8-e6-a0-91-e4-b8-bb-e5-b8-ad-e6-a0-91-2016-multi-university-training-contest-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Donglin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Donglin's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/04/hdu5790-prefix-e5-ad-97-e5-85-b8-e6-a0-91-e4-b8-bb-e5-b8-ad-e6-a0-91-2016-multi-university-training-contest-5/" itemprop="url">HDU5790 Prefix (字典树+主席树) 2016 Multi-University Training Contest 5</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-04T18:57:20+08:00">
                2016-08-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=5790" target="_blank" rel="noopener">HDU5790 传送门</a></p>
<p>给出n个字符串，q个强制在线查询，每次输出第l~r个字符串有多少不重复的前缀。</p>
<p>将n个字符串依次插入字典树，维护每个前缀最后出现在第几个字符串中</p>
<p>假设当前正在插入第i个字符串中的第j个字符，入股以j结尾的前缀以前没在主席树中出现过，则第i个线段树的第i个位置加1，否则如果上次出现在第k个字符串中，则第i个线段树k位置减1，第i个位置加1。</p>
<p>这样，第i个线段树维护的就是1~i个字符串每个位置有多少个后缀出现最后一次，这样对于l，r的查询就等于在第r个主席树中求区间和[l, r]。</p>
<p>AC代码：</p>
<p><pre class="lang:c++ decode:true ">#include&lt;cstdio&gt;</pre></p>
<p>#include&lt;cstring&gt;</p>
<p>#include&lt;algorithm&gt;</p>
<p>#include&lt;string&gt;</p>
<p>#include&lt;queue&gt;</p>
<p>#include&lt;vector&gt;</p>
<p>#include&lt;set&gt;</p>
<p>#include&lt;vector&gt;</p>
<p>#include&lt;map&gt;</p>
<p>#define FS first</p>
<p>#define SE second<br>using namespace std;<br>typedef long long LL;<br>typedef pair&lt;int, int&gt; PII;<br>const int MAXN = 100000 + 10;<br>const int M = MAXN * 60;<br>int T[MAXN], lson[M], rson[M], C[M];<br>int tot;<br>int totTire;<br>int ch[MAXN][26];<br>int last[MAXN];<br>char str[MAXN];</p>
<p>int build(int l, int r) {<br>    int root = tot++;<br>    C[root] = 0;<br>    if(l != r) {<br>        int mid = (l + r) &gt;&gt; 1;<br>        lson[root] = build(l, mid);<br>        rson[root] = build(mid + 1, r);<br>    }<br>    return root;<br>}</p>
<p>int update(int root, int pos, int val, int l, int r) {<br>    int newroot = tot++;<br>    int tmp = newroot;<br>    C[newroot] = C[root] + val;<br>    while(l &lt; r) {<br>        int mid = (l + r) &gt;&gt; 1;<br>        if(pos &lt;= mid) {<br>            lson[newroot] = tot++;<br>            rson[newroot] = rson[root];<br>            newroot = lson[newroot];<br>            root = lson[root];<br>            r = mid;<br>        } else {<br>            rson[newroot] = tot++;<br>            lson[newroot] = lson[root];<br>            newroot = rson[newroot];<br>            root = rson[root];<br>            l = mid + 1;<br>        }<br>        C[newroot] = C[root] + val;<br>    }<br>    return tmp;<br>}</p>
<p>int newnood() {<br>    memset(ch[totTire], 0, sizeof ch[totTire]);<br>    last[totTire] = 0;<br>    return totTire++;<br>}</p>
<p>void Insert(char s[], int pos, int n) {<br>    int len = strlen(s);<br>    int now = 0;<br>    int preroot = T[pos - 1];<br>    for(int i = 0 ; i &lt; len ; i++) {<br>        int p = s[i] - ‘a’;<br>        if(ch[now][p] == 0) {<br>            ch[now][p] = newnood();<br>            last[ch[now][p]] = pos;<br>            T[pos] = update(preroot, pos, 1, 1, n);<br>            preroot = T[pos];<br>        } else {<br>            T[pos] = update(preroot, last[ch[now][p]], -1, 1, n);<br>            preroot = T[pos];<br>            T[pos] = update(preroot, pos, 1, 1, n);<br>            preroot = T[pos];<br>            last[ch[now][p]] = pos;<br>        }<br>        now = ch[now][p];<br>    }<br>}</p>
<p>int query(int l, int r, int o, int L, int R) {<br>    if(l &lt;= L &amp;&amp; r &gt;= R) return C[o];</p>
<pre><code>int M = L + (R - L) / 2;
int res = 0;
if(l &amp;lt;= M) res += query(l, r, lson[o], L, M);
if(r &amp;gt; M) res += query(l, r, rson[o], M + 1, R);
return res;
</code></pre><p>}</p>
<p>int main() {<br>    int n, q;<br>    while(scanf(“%d”, &amp;n) == 1) {<br>        tot = 0;<br>        totTire = 0;<br>        newnood();<br>        T[0] = build(1, n);</p>
<pre><code>    for(int i = 1 ; i &amp;lt;= n ; i++) {
        scanf(&quot;%s&quot;, str);
        Insert(str, i, n);
    }

    scanf(&quot;%d&quot;, &amp;amp;q);
    int la = 0;
    int l, r;
    while(q--) {
        scanf(&quot;%d%d&quot;, &amp;amp;l, &amp;amp;r);
        int ll = min((la+l)%n,(la+r)%n)+1;
        int rr = max((la+l)%n,(la+r)%n)+1;
        printf(&quot;%d\n&quot;, la = query(ll, rr, T[rr], 1, n));
    }
}
return 0;
</code></pre><p>}<br><br>&nbsp;</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://iridescent.com.cn/2016/07/06/1099-sharing-chocolate-e7-8a-b6-e5-8e-8bdp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Donglin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Donglin's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/06/1099-sharing-chocolate-e7-8a-b6-e5-8e-8bdp/" itemprop="url">1099 - Sharing Chocolate(状压dp)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-06T16:38:19+08:00">
                2016-07-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>dp[mask][r] 代表一边长为r的方格能否用mask的二进制为对应的小块拼起来</p>
<p>设S0为mask的子集</p>
<p>则 dp[mask][r] = (dp[S0][r] || dp[S0][sum[S0] / r]) &amp;&amp; (dp[mask ^ S0][r] || dp[mask ^ S0][sum[mask ^ S0] / r])</p>
<p>&nbsp;</p>
<p>AC代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line">#pragma comment(linker, &quot;/STACK:102400000,102400000&quot;)</span><br><span class="line">#include&amp;lt;cstdio&amp;gt;</span><br><span class="line">#include&amp;lt;cstring&amp;gt;</span><br><span class="line">#include&amp;lt;algorithm&amp;gt;</span><br><span class="line">#include&amp;lt;cstdlib&amp;gt;</span><br><span class="line">#include&amp;lt;string&amp;gt;</span><br><span class="line">#include&amp;lt;queue&amp;gt;</span><br><span class="line">#include&amp;lt;vector&amp;gt;</span><br><span class="line">#include&amp;lt;set&amp;gt;</span><br><span class="line">#include&amp;lt;iomanip&amp;gt;</span><br><span class="line">#include&amp;lt;vector&amp;gt;</span><br><span class="line">#include&amp;lt;stack&amp;gt;</span><br><span class="line">#include&amp;lt;map&amp;gt;</span><br><span class="line">#include&amp;lt;iostream&amp;gt;</span><br><span class="line">#include&amp;lt;cmath&amp;gt;</span><br><span class="line">#include&amp;lt;assert.h&amp;gt;</span><br><span class="line">#include&amp;lt;sstream&amp;gt;</span><br><span class="line">#define FS first</span><br><span class="line">#define SE second</span><br><span class="line">#define lson (o &amp;lt;&amp;lt; 1), L, M</span><br><span class="line">#define rson ((o &amp;lt;&amp;lt; 1) | 1), M + 1, R</span><br><span class="line">#define lc (o &amp;lt;&amp;lt; 1)</span><br><span class="line">#define rc ((o &amp;lt;&amp;lt; 1) | 1)</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line">typedef long long LL;</span><br><span class="line">const int MAXN = 105;</span><br><span class="line">const double eps= 1e-7;</span><br><span class="line">int n;</span><br><span class="line">int area[20];</span><br><span class="line">bool dp[1 &amp;lt;&amp;lt; 15][MAXN];</span><br><span class="line">int sum[1 &amp;lt;&amp;lt; 15];</span><br><span class="line"></span><br><span class="line">inline int count_bits(int x)&#123;</span><br><span class="line">    x = (x &amp;amp; 0x55555555) + ((x &amp;amp; 0xaaaaaaaa) &amp;gt;&amp;gt; 1);</span><br><span class="line">    x = (x &amp;amp; 0x33333333) + ((x &amp;amp; 0xcccccccc) &amp;gt;&amp;gt; 2);</span><br><span class="line">    x = (x &amp;amp; 0x0f0f0f0f) + ((x &amp;amp; 0xf0f0f0f0) &amp;gt;&amp;gt; 4);</span><br><span class="line">    x = (x &amp;amp; 0x00ff00ff) + ((x &amp;amp; 0xff00ff00) &amp;gt;&amp;gt; 8);</span><br><span class="line">    x = (x &amp;amp; 0x0000ffff) + ((x &amp;amp; 0xffff0000) &amp;gt;&amp;gt; 16);</span><br><span class="line">    return x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">string con(int num, int n) &#123;</span><br><span class="line">    string res;</span><br><span class="line">    while(num) &#123;</span><br><span class="line">        if(num &amp;amp; 1) res += &quot;1&quot;;</span><br><span class="line">        else res += &quot;0&quot;;</span><br><span class="line">        num &amp;gt;&amp;gt;= 1;</span><br><span class="line">    &#125;</span><br><span class="line">    while((int)res.length() &amp;lt; n) res += &quot;0&quot;;</span><br><span class="line">    reverse(res.begin(), res.end());</span><br><span class="line">    return res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    int ca = 1;</span><br><span class="line">    while(scanf(&quot;%d&quot;, &amp;amp;n) == 1 &amp;amp;&amp;amp; n) &#123;</span><br><span class="line">        memset(sum ,0, sizeof sum);</span><br><span class="line">        memset(dp, 0, sizeof dp);</span><br><span class="line">        int x, y;</span><br><span class="line">        scanf(&quot;%d%d&quot;, &amp;amp;x, &amp;amp;y);</span><br><span class="line">        for(int i = 0 ; i &amp;lt; n ; i++) scanf(&quot;%d&quot;, &amp;amp;area[i]);</span><br><span class="line">        if(x &amp;gt; y) swap(x, y);</span><br><span class="line"></span><br><span class="line">        for(int mask = 1 ; mask &amp;lt; (1 &amp;lt;&amp;lt; n) ; mask++) &#123;</span><br><span class="line">            for(int i = 0 ; i &amp;lt; n ; i ++)</span><br><span class="line">                if(mask &amp;amp; (1 &amp;lt;&amp;lt; i)) sum[mask] += area[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if(x * y != sum[(1 &amp;lt;&amp;lt; n) - 1]) &#123;</span><br><span class="line">            printf(&quot;Case %d: No\n&quot;, ca++);</span><br><span class="line">            continue;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        for(int i = 0 ; i &amp;lt; n ; i++) &#123;</span><br><span class="line">            for(int j = 1 ; j &amp;lt;= max(x, y) ; j++)</span><br><span class="line">                if(area[i] % j == 0 &amp;amp;&amp;amp; area[i] / j &amp;lt;= max(x, y)) dp[1 &amp;lt;&amp;lt; i][j] = true;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        for(int mask = 1 ; mask &amp;lt; (1 &amp;lt;&amp;lt; n) ; mask ++) &#123;</span><br><span class="line">            if(count_bits(mask) &amp;lt; 2) continue;</span><br><span class="line">            for(int r = 1 ; r &amp;lt;= max(x, y) ; r++)</span><br><span class="line">                if(sum[mask] % r == 0 &amp;amp;&amp;amp; sum[mask] / r &amp;lt;= max(x, y))</span><br><span class="line">                    for(int S0 = mask ; S0 &amp;amp;&amp;amp; !dp[mask][r] ; S0 = (S0 - 1) &amp;amp;  mask) &#123;</span><br><span class="line">                        //if(mask == 3 &amp;amp;&amp;amp; S0 == 1 &amp;amp;&amp;amp; r == 1) printf(&quot;%d %d %d\n&quot;, sum[mask], sum[mask ^ S0], sum[S0]);</span><br><span class="line">                        if(sum[mask ^ S0] % r == 0 &amp;amp;&amp;amp; sum[S0] % r == 0 &amp;amp;&amp;amp; sum[mask ^ S0] / r &amp;lt;= max(x, y) &amp;amp;&amp;amp; sum[S0] / r &amp;lt;= max(x, y))</span><br><span class="line">                            if((dp[S0][r] || dp[S0][sum[S0] / r]) &amp;amp;&amp;amp; (dp[mask ^ S0][r] || dp[mask ^ S0][sum[mask ^ S0] / r]))</span><br><span class="line">                                dp[mask][r] = dp[mask][sum[mask] / r] = true;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if(dp[(1 &amp;lt;&amp;lt; n) - 1][x] || dp[(1 &amp;lt;&amp;lt; n) - 1][y]) printf(&quot;Case %d: Yes\n&quot;, ca++);</span><br><span class="line">        else printf(&quot;Case %d: No\n&quot;, ca++);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">4</span><br><span class="line">2 2</span><br><span class="line">1 1 1 1</span><br><span class="line">*/</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://iridescent.com.cn/2016/07/06/uva-1169-robotruck/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Donglin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Donglin's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/06/uva-1169-robotruck/" itemprop="url">UVA 1169 - Robotruck</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-06T16:34:51+08:00">
                2016-07-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>dp[i] 代表拿完前i个并回到起点所需最小路程</p>
<p>状态转移</p>
<p>dp[i] = min{dp[j] + dist(j + 1, i) + dist(0, j + 1) + dist(0, i) | sum(i, j) &lt;= c}</p>
<p>dist(i, j) 代表从i点以此走到j点要走的路程，sum(i, j) 代表i~j件的总重量。</p>
<p>状态方程等价于</p>
<p>dp[i] = min{dp[j] + dist(j + 1, i) + dist(0, j + 1) | sum(i, j) &lt;= c} + dist(0, i)</p>
<p>可以用线段树优化</p>
<p>时间复杂度O(nlogn)</p>
<p>AC代码：</p>
<p><pre class="lang:c++ decode:true ">#pragma comment(linker, “/STACK:102400000,102400000”)</pre></p>
<p>#include&lt;cstdio&gt;</p>
<p>#include&lt;cstring&gt;</p>
<p>#include&lt;algorithm&gt;</p>
<p>#include&lt;cstdlib&gt;</p>
<p>#include&lt;string&gt;</p>
<p>#include&lt;queue&gt;</p>
<p>#include&lt;vector&gt;</p>
<p>#include&lt;set&gt;</p>
<p>#include&lt;iomanip&gt;</p>
<p>#include&lt;vector&gt;</p>
<p>#include&lt;stack&gt;</p>
<p>#include&lt;map&gt;</p>
<p>#include&lt;iostream&gt;</p>
<p>#include&lt;cmath&gt;</p>
<p>#include&lt;assert.h&gt;</p>
<p>#include&lt;sstream&gt;</p>
<p>#define FS first</p>
<p>#define SE second</p>
<p>#define lson (o &lt;&lt; 1), L, M</p>
<p>#define rson ((o &lt;&lt; 1) | 1), M + 1, R</p>
<p>#define lc (o &lt;&lt; 1)</p>
<p>#define rc ((o &lt;&lt; 1) | 1)</p>
<p>using namespace std;<br>typedef long long LL;<br>const int MAXN = 100000 + 10;<br>struct Item {<br>    int x, y, w;<br>} it[MAXN];<br>LL dp[MAXN];<br>LL sum[MAXN];<br>LL addv[MAXN &lt;&lt; 2];<br>LL minv[MAXN &lt;&lt; 2];</p>
<p>void pushup(int o, int L, int R) {<br>    minv[o] = 0;<br>    if(R &gt; L) minv[o] = min(minv[lc], minv[rc]);<br>    if(addv[o]) minv[o] += addv[o];<br>}</p>
<p>void update(int l, int r, LL v, int o, int L, int R) {<br>    if(l &lt;= L &amp;&amp; r &gt;= R) {<br>        addv[o] += v;<br>    } else {<br>        int M = L + (R - L) / 2;<br>        if(l &lt;= M) update(l, r, v, lson);<br>        if(r &gt; M) update(l ,r, v, rson);<br>    }<br>    pushup(o, L, R);<br>}</p>
<p>LL query(int l, int r, LL add, int o, int L, int R) {<br>    if(l &lt;= L &amp;&amp; r &gt;= R) return minv[o] + add;</p>
<pre><code>int M = L + (R - L) / 2;
LL res = 0x3f3f3f3f3f3f3f3fLL;
if(l &amp;lt;= M) res = min(res, query(l, r, add + addv[o], lson));
if(r &amp;gt; M) res = min(res, query(l, r, add + addv[o], rson));
return res;
</code></pre><p>}</p>
<p>LL cal(int i) {<br>    return abs(it[i].x) + abs(it[i].y);<br>}</p>
<p>int main() {<br>    int T;<br>    scanf(“%d”, &amp;T);<br>    while(T–) {<br>        int c, n;<br>        scanf(“%d%d”, &amp;c, &amp;n);</p>
<pre><code>    for(int i = 1 ; i &amp;lt;= n ; i++) {
        scanf(&quot;%d%d%d&quot;, &amp;amp;it[i].x, &amp;amp;it[i].y, &amp;amp;it[i].w);
        sum[i] = sum[i - 1] + it[i].w;
    }
    dp[1] = (cal(1) &amp;lt;&amp;lt; 1);

    if(n == 1) {
        printf(&quot;%lld\n&quot;, dp[1]);
        if(T &amp;gt; 0) printf(&quot;\n&quot;);
        continue;
    }
    memset(addv, 0, sizeof addv);
    memset(minv, 0, sizeof minv);
    update(1, 1, dp[1] + cal(2), 1, 1, n);
    LL mi = cal(1);
    int pos = 1;
    for(int i = 2 ; i &amp;lt;= n ; i++) {
        while(sum[i] - sum[pos - 1] &amp;gt; c) pos++;
        if(i &amp;gt;= 3) update(1, i - 2, abs(it[i].x - it[i - 1].x) + abs(it[i].y - it[i - 1].y), 1, 1, n);
        dp[i] = query(max(1, pos - 1), i - 1, 0, 1, 1, n) + cal(i);
        mi += (abs(it[i].x - it[i - 1].x) + abs(it[i].y - it[i - 1].y));
        if(pos == 1) dp[i] = min(dp[i], mi + cal(i));

        if(i != n) update(i, i, dp[i] + cal(i + 1), 1, 1, n);
    }
    printf(&quot;%lld\n&quot;, dp[n]);
    if(T &amp;gt; 0) printf(&quot;\n&quot;);
}
return 0;
</code></pre><p>}</p>
<p>/<em><br>9 9 </em> 9 <em> 9 </em> 9 <em> 9 </em> 9 <em> 9 </em> 9 <em> 9 </em> 9 <em> 9 </em> 9 <em> X </em> 1 -<br>X = 1/2541865828329</p>
<p>9 9 <em> 9 </em> 9 <em> 9 </em> 9 <em> 9 </em> 9 <em> 9 </em> 9 <em> 9 </em> 9 <em> 9 </em> 9 <em> X </em><br>*/<br><br>&nbsp;</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://iridescent.com.cn/2016/06/19/e8-bd-acvim-e7-ae-80-e6-98-8e-e6-95-99-e7-a8-8b-e3-80-90coolshell-e3-80-91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Donglin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Donglin's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/06/19/e8-bd-acvim-e7-ae-80-e6-98-8e-e6-95-99-e7-a8-8b-e3-80-90coolshell-e3-80-91/" itemprop="url">[转]Vim简明教程【CoolShell】</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-06-19T20:50:33+08:00">
                2016-06-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>vim的学习曲线相当的大（参看<a href="http://coolshell.cn/articles/3125.html" title="主流文本编辑器学习曲线" target="_blank" rel="noopener">各种文本编辑器的学习曲线</a>），所以，如果你一开始看到的是一大堆VIM的命令分类，你一定会对这个编辑器失去兴趣的。下面的文章翻译自《<a href="http://yannesposito.com/Scratch/en/blog/Learn-Vim-Progressively/" target="_blank" rel="noopener">Learn Vim Progressively</a>》，我觉得这是给新手最好的VIM的升级教程了，没有列举所有的命令，只是列举了那些最有用的命令。非常不错。</p>
<p>——————————正文开始——————————</p>
<p>你想以最快的速度学习人类史上最好的文本编辑器VIM吗？你先得懂得如何在VIM幸存下来，然后一点一点地学习各种戏法。</p>
<p><a href="http://www.vim.org/" target="_blank" rel="noopener">Vim</a> the Six Billion Dollar editor</p>
<blockquote>
<p>Better, Stronger, Faster.<br>学习 <a href="http://www.vim.org/" target="_blank" rel="noopener">vim</a> 并且其会成为你最后一个使用的文本编辑器。没有比这个更好的文本编辑器了，非常地难学，但是却不可思议地好用。</p>
</blockquote>
<p>我建议下面这四个步骤：</p>
<ol>
<li>存活</li>
<li>感觉良好</li>
<li>觉得更好，更强，更快</li>
<li>使用VIM的超能力<br>当你走完这篇文章，你会成为一个vim的 superstar。</li>
</ol>
<p>在开始学习以前，我需要给你一些警告：</p>
<ul>
<li>学习vim在开始时是痛苦的。</li>
<li>需要时间</li>
<li>需要不断地练习，就像你学习一个乐器一样。</li>
<li>不要期望你能在3天内把vim练得比别的编辑器更有效率。</li>
<li>事实上，你需要2周时间的苦练，而不是3天。<div></div>

</li>
</ul>
<h4 id="第一级-–-存活"><a href="#第一级-–-存活" class="headerlink" title="第一级 – 存活"></a><a name="t0"></a>第一级 – 存活</h4><ol>
<li>安装 <a href="http://www.vim.org/" target="_blank" rel="noopener">vim</a></li>
<li>启动 vim</li>
<li><strong>什么也别干！</strong>请先阅读<br>当你安装好一个编辑器后，你一定会想在其中输入点什么东西，然后看看这个编辑器是什么样子。但vim不是这样的，请按照下面的命令操作：</li>
</ol>
<ul>
<li>启 动Vim后，vim在 <em>Normal</em> 模式下。</li>
<li>让我们进入 <em>Insert</em> 模式，请按下键 i 。(陈皓注：你会看到vim左下角有一个–insert–字样，表示，你可以以插入的方式输入了）</li>
<li>此时，你可以输入文本了，就像你用“记事本”一样。</li>
<li>如果你想返回 <em>Normal</em> 模式，请按 <code>ESC</code> 键。<br>现在，你知道如何在 <em>Insert</em> 和 <em>Normal</em> 模式下切换了。下面是一些命令，可以让你在 <em>Normal</em> 模式下幸存下来：<blockquote>
<ul>
<li><code>i</code> → <em>Insert</em> 模式，按 <code>ESC</code> 回到 <em>Normal</em> 模式.</li>
<li><code>x</code> → 删当前光标所在的一个字符。</li>
<li><code>:wq</code> → 存盘 + 退出 (<code>:w</code> 存盘, <code>:q</code> 退出)   （陈皓注：:w 后可以跟文件名）</li>
<li><code>dd</code> → 删除当前行，并把删除的行存到剪贴板里</li>
<li><code>p</code> → 粘贴剪贴板</li>
</ul>
<p><strong>推荐</strong>:</p>
<ul>
<li><code>hjkl</code> (强例推荐使用其移动光标，但不必需) →你也可以使用光标键 (←↓↑→). 注: <code>j</code> 就像下箭头。</li>
<li><code>:help &amp;lt;command&amp;gt;</code> → 显示相关命令的帮助。你也可以就输入 <code>:help</code> 而不跟命令。（陈皓注：退出帮助需要输入:q）<br>你能在vim幸存下来只需要上述的那5个命令，你就可以编辑文本了，你一定要把这些命令练成一种下意识的状态。于是你就可以开始进阶到第二级了。</li>
</ul>
</blockquote>
</li>
</ul>
<p>当是，在你进入第二级时，需要再说一下 <em>Normal </em>模式。在一般的编辑器下，当你需要copy一段文字的时候，你需要使用 <code>Ctrl</code> 键，比如：<code>Ctrl-C</code>。也就是说，Ctrl键就好像功能键一样，当你按下了功能键Ctrl后，C就不在是C了，而且就是一个命令或是一个快键键了，<strong>在VIM的Normal模式下，所有的键就是功能键了</strong>。这个你需要知道。</p>
<p>标记:</p>
<ul>
<li>下面的文字中，如果是 <code>Ctrl-λ</code>我会写成 <code>&amp;lt;C-λ&amp;gt;</code>.</li>
<li>以 <code>:</code> 开始的命令你需要输入 <code>&amp;lt;enter&amp;gt;</code>回车，例如 — 如果我写成 <code>:q</code> 也就是说你要输入 <code>:q&amp;lt;enter&amp;gt;</code>.</li>
</ul>
<h4 id="第二级-–-感觉良好"><a href="#第二级-–-感觉良好" class="headerlink" title="第二级 – 感觉良好"></a><a name="t1"></a>第二级 – 感觉良好</h4><p>上面的那些命令只能让你存活下来，现在是时候学习一些更多的命令了，下面是我的建议：（陈皓注：所有的命令都需要在Normal模式下使用，如果你不知道现在在什么样的模式，你就狂按几次ESC键）</p>
<ol>
<li><p><strong>各种插入模式</strong></p>
<blockquote>
<ul>
<li><code>a</code> → 在光标后插入<ul>
<li><code>o</code> → 在当前行后插入一个新行</li>
<li><code>O</code> → 在当前行前插入一个新行</li>
<li><code>cw</code> → 替换从光标所在位置后到一个单词结尾的字符</li>
</ul>
</li>
</ul>
</blockquote>
</li>
<li><p><strong>简单的移动光标</strong></p>
<blockquote>
<ul>
<li><code>0</code> → 数字零，到行头<ul>
<li><code>^</code> → 到本行第一个不是blank字符的位置（所谓blank字符就是空格，tab，换行，回车等）</li>
<li><code>$</code> → 到本行行尾</li>
<li><code>g_</code> → 到本行最后一个不是blank字符的位置。</li>
<li><code>/pattern</code> → 搜索 <code>pattern</code> 的字符串（陈皓注：如果搜索出多个匹配，可按n键到下一个）</li>
</ul>
</li>
</ul>
</blockquote>
</li>
<li><p><strong>拷贝/粘贴</strong> （陈皓注：p/P都可以，p是表示在当前位置之后，P表示在当前位置之前）</p>
<blockquote>
<ul>
<li><code>P</code> → 粘贴<ul>
<li><code>yy</code> → 拷贝当前行当行于 <code>ddP</code></li>
</ul>
</li>
</ul>
</blockquote>
</li>
<li><p><strong>Undo/Redo</strong></p>
<blockquote>
<ul>
<li><code>u</code> → undo<ul>
<li><code>&amp;lt;C-r&amp;gt;</code> → redo</li>
</ul>
</li>
</ul>
</blockquote>
</li>
<li><p><strong>打开/保存/退出/改变文件</strong>(Buffer)</p>
<blockquote>
<ul>
<li><code>:e &amp;lt;path/to/file&amp;gt;</code> → 打开一个文件<ul>
<li><code>:w</code> → 存盘</li>
<li><code>:saveas &amp;lt;path/to/file&amp;gt;</code> → 另存为 <code>&amp;lt;path/to/file&amp;gt;</code></li>
<li><code>:x</code>， <code>ZZ</code> 或 <code>:wq</code> → 保存并退出 (<code>:x</code> 表示仅在需要时保存，ZZ不需要输入冒号并回车)</li>
<li><code>:q!</code> → 退出不保存 <code>:qa!</code> 强行退出所有的正在编辑的文件，就算别的文件有更改。</li>
<li><code>:bn</code> 和 <code>:bp</code> → 你可以同时打开很多文件，使用这两个命令来切换下一个或上一个文件。（陈皓注：我喜欢使用:n到下一个文件）<br>花点时间熟悉一下上面的命令，一旦你掌握他们了，你就几乎可以干其它编辑器都能干的事了。但是到现在为止，你还是觉得使用vim还是有点笨拙，不过没关系，你可以进阶到第三级了。</li>
</ul>
</li>
</ul>
</blockquote>
</li>
</ol>
<h4 id="第三级-–-更好，更强，更快"><a href="#第三级-–-更好，更强，更快" class="headerlink" title="第三级 – 更好，更强，更快"></a><a name="t2"></a>第三级 – 更好，更强，更快</h4><p>先恭喜你！你干的很不错。我们可以开始一些更为有趣的事了。在第三级，我们只谈那些和vi可以兼容的命令。</p>
<h5 id="更好"><a href="#更好" class="headerlink" title="更好"></a><a name="t3"></a>更好</h5><p>下面，让我们看一下vim是怎么重复自己的：</p>
<ol>
<li><code>.</code> → (小数点) 可以重复上一次的命令</li>
<li>N&lt;command&gt; → 重复某个命令N次<br>下面是一个示例，找开一个文件你可以试试下面的命令：<blockquote>
<ul>
<li><code>2dd</code> → 删除2行</li>
<li><code>3p</code> → 粘贴文本3次</li>
<li><code>100idesu [ESC]</code> → 会写下 “desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu “</li>
<li><code>.</code> → 重复上一个命令—— 100 “desu “.</li>
<li><code>3.</code> → 重复 3 次 “desu” (注意：不是 300，你看，VIM多聪明啊).</li>
</ul>
</blockquote>
</li>
</ol>
<h5 id="更强"><a href="#更强" class="headerlink" title="更强"></a><a name="t4"></a>更强</h5><p>你要让你的光标移动更有效率，你一定要了解下面的这些命令，<strong>千万别跳过</strong>。</p>
<ol>
<li>N<code>G</code> → 到第 N 行 （陈皓注：注意命令中的G是大写的，另我一般使用 : N 到第N行，如 :137 到第137行）</li>
<li><code>gg</code> → 到第一行。（陈皓注：相当于1G，或 :1）</li>
<li><code>G</code> → 到最后一行。</li>
<li>按单词移动：<blockquote>
<ol>
<li><code>w</code> → 到下一个单词的开头。<ol>
<li><code>e</code> → 到下一个单词的结尾。</li>
</ol>
</li>
</ol>
<p>&gt; 如果你认为单词是由默认方式，那么就用小写的e和w。默认上来说，一个单词由字母，数字和下划线组成（陈皓注：程序变量）</p>
<p>&gt; 如果你认为单词是由blank字符分隔符，那么你需要使用大写的E和W。（陈皓注：程序语句）</p>
<p><img src="http://yannesposito.com/Scratch/img/blog/Learn-Vim-Progressively/word_moves.jpg" alt="Word moves example"><br>下面，让我来说说最强的光标移动：</p>
<ul>
<li><code>%</code> : 匹配括号移动，包括 <code>(</code>, <code>{</code>, <code>[</code>. （陈皓注：你需要把光标先移到括号上）</li>
<li><code>*</code> 和 <code>#</code>:  匹配光标当前所在的单词，移动光标到下一个（或上一个）匹配单词（*是下一个，#是上一个）<br>相信我，上面这三个命令对程序员来说是相当强大的。</li>
</ul>
</blockquote>
</li>
</ol>
<h5 id="更快"><a href="#更快" class="headerlink" title="更快"></a><a name="t5"></a>更快</h5><p>你一定要记住光标的移动，因为很多命令都可以和这些移动光标的命令连动。很多命令都可以如下来干：</p>
<p><code>&amp;lt;start position&amp;gt;&amp;lt;command&amp;gt;&amp;lt;end position&amp;gt;</code></p>
<p>例如 <code>0y$</code> 命令意味着：</p>
<ul>
<li><code>0</code> → 先到行头</li>
<li><code>y</code> → 从这里开始拷贝</li>
<li><code>$</code> → 拷贝到本行最后一个字符<br>你可可以输入 <code>ye</code>，从当前位置拷贝到本单词的最后一个字符。</li>
</ul>
<p>你也可以输入 <code>y2/foo</code> 来拷贝2个 “foo” 之间的字符串。</p>
<p>还有很多时间并不一定你就一定要按y才会拷贝，下面的命令也会被拷贝：</p>
<ul>
<li><code>d</code> (删除 )</li>
<li><code>v</code> (可视化的选择)</li>
<li><code>gU</code> (变大写)</li>
<li><code>gu</code> (变小写)</li>
<li>等等<div>（陈皓注：可视化选择是一个很有意思的命令，你可以先按v，然后移动光标，你就会看到文本被选择，然后，你可能d，也可y，也可以变大写等）</div>

</li>
</ul>
<h4 id="第四级-–-Vim-超能力"><a href="#第四级-–-Vim-超能力" class="headerlink" title="第四级 – Vim 超能力"></a><a name="t6"></a>第四级 – Vim 超能力</h4><p>你只需要掌握前面的命令，你就可以很舒服的使用VIM了。但是，现在，我们向你介绍的是VIM杀手级的功能。下面这些功能是我只用vim的原因。</p>
<h5 id="在当前行上移动光标-0-f-F-t-T"><a href="#在当前行上移动光标-0-f-F-t-T" class="headerlink" title="在当前行上移动光标: 0 ^ $ f F t T , ;"></a><a name="t7"></a>在当前行上移动光标: <code>0</code> <code>^</code> <code>$</code> <code>f</code> <code>F</code> <code>t</code> <code>T</code> <code>,</code> <code>;</code></h5><blockquote>
<ul>
<li><code>0</code> → 到行头</li>
<li><code>^</code> → 到本行的第一个非blank字符</li>
<li><code>$</code> → 到行尾</li>
<li><code>g_</code> → 到本行最后一个不是blank字符的位置。</li>
<li><code>fa</code> → 到下一个为a的字符处，你也可以fs到下一个为s的字符。</li>
<li><code>t,</code> → 到逗号前的第一个字符。逗号可以变成其它字符。</li>
<li><code>3fa</code> → 在当前行查找第三个出现的a。</li>
<li><code>F</code> 和 <code>T</code> → 和 <code>f</code> 和 <code>t</code> 一样，只不过是相反方向。</li>
</ul>
<p><img src="http://yannesposito.com/Scratch/img/blog/Learn-Vim-Progressively/line_moves.jpg" alt="Line moves"><br>还有一个很有用的命令是 <code>dt&quot;</code> → 删除所有的内容，直到遇到双引号—— <code>&quot;。</code></p>
</blockquote>
<h5 id="区域选择-amp-lt-action-amp-gt-a-amp-lt-object-amp-gt-或-amp-lt-action-amp-gt-i-amp-lt-object-amp-gt"><a href="#区域选择-amp-lt-action-amp-gt-a-amp-lt-object-amp-gt-或-amp-lt-action-amp-gt-i-amp-lt-object-amp-gt" class="headerlink" title="区域选择 &amp;lt;action&amp;gt;a&amp;lt;object&amp;gt; 或 &amp;lt;action&amp;gt;i&amp;lt;object&amp;gt;"></a><a name="t8"></a>区域选择 <code>&amp;lt;action&amp;gt;a&amp;lt;object&amp;gt;</code> 或 <code>&amp;lt;action&amp;gt;i&amp;lt;object&amp;gt;</code></h5><p>在visual 模式下，这些命令很强大，其命令格式为</p>
<p><code>&amp;lt;action&amp;gt;a&amp;lt;object&amp;gt;</code> 和 <code>&amp;lt;action&amp;gt;i&amp;lt;object&amp;gt;</code></p>
<ul>
<li>action可以是任何的命令，如 <code>d</code> (删除), <code>y</code> (拷贝), <code>v</code> (可以视模式选择)。</li>
<li>object 可能是： <code>w</code> 一个单词， <code>W</code> 一个以空格为分隔的单词， <code>s</code> 一个句字， <code>p</code> 一个段落。也可以是一个特别的字符：<code>&quot;、</code> <code>&#39;、</code> <code>)、</code> <code>}、</code> <code>]。</code><br>假设你有一个字符串 <code>(map (+) (&quot;foo&quot;))</code>.而光标键在第一个 <code>o</code>的位置。<blockquote>
<ul>
<li><code>vi&quot;</code> → 会选择 <code>foo</code>.</li>
<li><code>va&quot;</code> → 会选择 <code>&quot;foo&quot;</code>.</li>
<li><code>vi)</code> → 会选择 <code>&quot;foo&quot;</code>.</li>
<li><code>va)</code> → 会选择<code>(&quot;foo&quot;)</code>.</li>
<li><code>v2i)</code> → 会选择 <code>map (+) (&quot;foo&quot;)</code></li>
<li><code>v2a)</code> → 会选择 <code>(map (+) (&quot;foo&quot;))</code><br><img src="http://yannesposito.com/Scratch/img/blog/Learn-Vim-Progressively/textobjects.png" alt="Text objects selection"></li>
</ul>
</blockquote>
</li>
</ul>
<h5 id="块操作-amp-lt-C-v-amp-gt"><a href="#块操作-amp-lt-C-v-amp-gt" class="headerlink" title="块操作: &amp;lt;C-v&amp;gt;"></a><a name="t9"></a>块操作: <code>&amp;lt;C-v&amp;gt;</code></h5><p>块操作，典型的操作： <code>0 &amp;lt;C-v&amp;gt; &amp;lt;C-d&amp;gt; I-- [ESC]</code></p>
<ul>
<li><code>^</code> → 到行头</li>
<li><code>&amp;lt;C-v&amp;gt;</code> → 开始块操作</li>
<li><code>&amp;lt;C-d&amp;gt;</code> → 向下移动 (你也可以使用hjkl来移动光标，或是使用%，或是别的)</li>
<li><code>I-- [ESC]</code> → I是插入，插入“<code>--</code>”，按ESC键来为每一行生效。<br><img src="http://yannesposito.com/Scratch/img/blog/Learn-Vim-Progressively/rectangular-blocks.gif" alt="Rectangular blocks"></li>
</ul>
<p>在Windows下的vim，你需要使用 <code>&amp;lt;C-q&amp;gt;</code> 而不是 <code>&amp;lt;C-v&amp;gt;</code> ，<code>&amp;lt;C-v&amp;gt;</code> 是拷贝剪贴板。</p>
<h5 id="自动提示：-amp-lt-C-n-amp-gt-和-amp-lt-C-p-amp-gt"><a href="#自动提示：-amp-lt-C-n-amp-gt-和-amp-lt-C-p-amp-gt" class="headerlink" title="自动提示： &amp;lt;C-n&amp;gt; 和 &amp;lt;C-p&amp;gt;"></a><a name="t10"></a>自动提示： <code>&amp;lt;C-n&amp;gt;</code> 和 <code>&amp;lt;C-p&amp;gt;</code></h5><p>在 Insert 模式下，你可以输入一个词的开头，然后按 <code>&amp;lt;C-p&amp;gt;或是&amp;lt;C-n&amp;gt;，自动补齐功能就出现了……</code></p>
<p><img src="http://yannesposito.com/Scratch/img/blog/Learn-Vim-Progressively/completion.gif" alt="Completion"></p>
<h5 id="宏录制：-qa-操作序列-q-a"><a href="#宏录制：-qa-操作序列-q-a" class="headerlink" title="宏录制： qa 操作序列 q, @a, @@"></a><a name="t11"></a>宏录制： <code>qa</code> 操作序列 <code>q</code>, <code>@a</code>, <code>@@</code></h5><ul>
<li><code>qa</code> 把你的操作记录在寄存器 <code>a。</code></li>
<li>于是 <code>@a</code> 会replay被录制的宏。</li>
<li><code>@@</code> 是一个快捷键用来replay最新录制的宏。<blockquote>
<p><strong><em>示例</em></strong></p>
<p>在一个只有一行且这一行只有“1”的文本中，键入如下命令：</p>
<ul>
<li><code>qaYp&amp;lt;C-a&amp;gt;q</code>→</li>
</ul>
<pre><code>*   `qa` 开始录制
*   `Yp` 复制行.
*   `&amp;lt;C-a&amp;gt;` 增加1.
*   `q` 停止录制.
</code></pre><ul>
<li><code>@a</code> → 在1下面写下 2</li>
<li><code>@@</code> → 在2 正面写下3</li>
<li>现在做 <code>100@@</code> 会创建新的100行，并把数据增加到 103.<br><img src="http://yannesposito.com/Scratch/img/blog/Learn-Vim-Progressively/macros.gif" alt="Macros"></li>
</ul>
</blockquote>
</li>
</ul>
<h5 id="可视化选择：-v-V-amp-lt-C-v-amp-gt"><a href="#可视化选择：-v-V-amp-lt-C-v-amp-gt" class="headerlink" title="可视化选择： v,V,&amp;lt;C-v&amp;gt;"></a><a name="t12"></a>可视化选择： <code>v</code>,<code>V</code>,<code>&amp;lt;C-v&amp;gt;</code></h5><p>前面，我们看到了 <code>&amp;lt;C-v&amp;gt;</code>的示例 （在Windows下应该是&lt;C-q&gt;），我们可以使用 <code>v</code> 和 <code>V</code>。一但被选好了，你可以做下面的事：</p>
<ul>
<li><code>J</code> → 把所有的行连接起来（变成一行）</li>
<li><code>&amp;lt;</code> 或 <code>&amp;gt;</code> → 左右缩进</li>
<li><code>=</code> → 自动给缩进 （陈皓注：这个功能相当强大，我太喜欢了）<br><img src="http://yannesposito.com/Scratch/img/blog/Learn-Vim-Progressively/autoindent.gif" alt="Autoindent"></li>
</ul>
<p>在所有被选择的行后加上点东西：</p>
<ul>
<li><code>&amp;lt;C-v&amp;gt;</code></li>
<li>选中相关的行 (可使用 <code>j</code> 或 <code>&amp;lt;C-d&amp;gt;</code> 或是 <code>/pattern</code> 或是 <code>%</code> 等……)</li>
<li><code>$</code> 到行最后</li>
<li><code>A</code>, 输入字符串，按 <code>ESC。</code><br><img src="http://yannesposito.com/Scratch/img/blog/Learn-Vim-Progressively/append-to-many-lines.gif" alt="Append to many lines"></li>
</ul>
<h5 id="分屏-split-和-vsplit"><a href="#分屏-split-和-vsplit" class="headerlink" title="分屏: :split 和 vsplit."></a><a name="t13"></a>分屏: <code>:split</code> 和 <code>vsplit</code>.</h5><p>下面是主要的命令，你可以使用VIM的帮助 <code>:help split</code>. 你可以参考本站以前的一篇文章<a href="http://coolshell.cn/articles/1679.html" title="Vim的分屏功能" target="_blank" rel="noopener">VIM分屏</a>。</p>
<blockquote>
<ul>
<li><code>:split</code> → 创建分屏 (<code>:vsplit</code>创建垂直分屏)</li>
<li><code>&amp;lt;C-w&amp;gt;&amp;lt;dir&amp;gt;</code> : dir就是方向，可以是 <code>hjkl</code> 或是 ←↓↑→ 中的一个，其用来切换分屏。</li>
<li><code>&amp;lt;C-w&amp;gt;_</code> (或 <code>&amp;lt;C-w&amp;gt;|</code>) : 最大化尺寸 (&lt;C-w&gt;| 垂直分屏)</li>
<li><code>&amp;lt;C-w&amp;gt;+</code> (或 <code>&amp;lt;C-w&amp;gt;-</code>) : 增加尺寸<br><img src="http://yannesposito.com/Scratch/img/blog/Learn-Vim-Progressively/split.gif" alt="Split"></li>
</ul>
</blockquote>
<h4 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a><a name="t14"></a>结束语</h4><ul>
<li>上面是作者最常用的90%的命令。</li>
<li>我建议你每天都学1到2个新的命令。</li>
<li><p>在两到三周后，你会感到vim的强大的。</p>
</li>
<li><p>有时候，学习VIM就像是在死背一些东西。</p>
</li>
<li>幸运的是，vim有很多很不错的工具和优秀的文档。</li>
<li>运行vimtutor直到你熟悉了那些基本命令。</li>
<li>其在线帮助文档中你应该要仔细阅读的是 <code>:help usr_02.txt</code>.</li>
<li>你会学习到诸如  <code>!，</code> 目录，寄存器，插件等很多其它的功能。<br>学习vim就像学弹钢琴一样，一旦学会，受益无穷。</li>
</ul>
<p>——————————正文结束——————————</p>
<p>对于vi/vim只是点评一点：这是一个你不需要使用鼠标，不需使用小键盘，只需要使用大键盘就可以完成很多复杂功能文本编辑的编辑器。不然，<a href="http://coolshell.cn/articles/1901.html" title="Visual Studio的Vim插件" target="_blank" rel="noopener">Visual Studio也不就会有vim的插件了</a>。</p>
<p>(全文完)</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <p class="site-author-name" itemprop="name">Donglin</p>
            <p class="site-description motion-element" itemprop="description"></p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives">
            
                <span class="site-state-item-count">87</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">47</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Donglin</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" href="https://hexo.io">Hexo</a></div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">Theme &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
